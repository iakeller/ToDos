{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/modules/home.js","src/modules/list.js","src/resources/index.js","src/resources/data/data-services.js","src/resources/data/todos.js","src/resources/data/users.js","src/resources/elements/flatpickr.js","src/resources/value-converters/completed.js","src/resources/value-converters/date-format.js","src/resources/css/scripts/app-bundle.js","src/resources/css/scripts/vendor-bundle.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","Home","users","loginError","title","message","showLogin","login","email","password","sessionStorage","setItem","JSON","stringify","response","user","navigate","catch","console","log","error","showRegister","firstName","lastName","registerError","save","serverResponse","alert","goback","List","todos","parse","getItem","editTodoForm","showList","showCompleted","priorities","logout","removeItem","createTodo","todoObj","todo","description","dateDue","Date","userId","_id","priority","saveTodo","todoId","filesToUpload","length","uploadFile","activate","getUserTodos","editTodo","deleteTodo","completeTodo","completed","toggleShowCompleted","back","changeFiles","Array","push","files","removeFile","index","splice","globalResources","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","localStorage","append","method","url","status","get","fetch","json","data","post","content","body","object","put","delete","uploadFiles","ToDos","TODO_SERVICE","todosArray","id","i","formData","FormData","forEach","item","Users","USER_SERVICE","FlatPickerCustomElement","Element","defaultBindingMode","twoWay","element","bind","defaultConfig","altInput","altFormat","wrap","_config","Object","assign","onChange","onMonthChange","onYearChange","attached","flatpickr","querySelector","selectedDates","dateStr","instance","value","valueChanged","newDate","undefined","setDate","CompletedValueConverter","toView","array","filter","DateFormatValueConverter","format","define","exports","_aureliaAuth","defineProperty","_classCallCheck","Constructor","TypeError","prototype","AuthorizeStep","default","_environment","_regeneratorRuntime","_authConfig","_environment2","_interopRequireDefault","_regeneratorRuntime2","_authConfig2","obj","__esModule","_aureliaFramework","_aureliaRouter","_users","_asyncToGenerator","fn","gen","apply","arguments","Promise","resolve","reject","step","key","arg","info","done","err","_dec","_class","inject","Router","AuthService","_this","_ref","mark","_callee","_callee$","_context","prev","next","sent","stop","_todos","_ref2","_callee2","_callee2$","_context2","_aureliaFetchClient","HttpClient","_request","_response","_delete","_dataServices","abrupt","_x","_x2","_ref3","_callee3","_callee3$","_context3","_x3","_x4","_x5","_ref4","_callee4","_callee4$","_context4","_x6","_flatpickr","_flatpickr2","_initDefineProp","target","property","descriptor","context","enumerable","configurable","writable","initializer","call","_applyDecoratedDescriptor","decorators","desc","slice","reverse","reduce","decorator","_initializerWarningHelper","Error","_dec2","_desc","_value","_class2","_descriptor","bindable","bindingMode","_moment","_moment2","module","e","amd","f","global","self","t","n","r","s","o","u","a","_dereq_","code","l","firstLineError","schedule","Queue","util","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","setScheduler","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","process","stderr","write","stack","exit","throwLater","setTimeout","AsyncInvokeLater","receiver","_queueTick","AsyncInvoke","AsyncSettlePromises","promise","_pushOne","invokeLater","invoke","settlePromises","_settlePromises","_drainQueue","queue","shift","_reset","INTERNAL","tryConvertToPromise","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","thisArg","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","ret","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","old","noConflict","bluebird","PromiseArray","apiRejection","tryCatch","errorObj","async","_async","cancel","cancellation","_warn","child","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","parent","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","isArray","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","NEXT_FILTER","getKeys","keys","catchFilter","instances","cb","boundTo","predicateLoop","matchesPredicate","isObject","j","longStackTraces","contextStack","_promiseCreated","_pushContext","_popContext","_peekContext","Context","_trace","CapturedTrace","peekContext","trace","pop","createContext","lastIndex","create","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","getDomain","_getDomain","Warning","canAttachTrace","unhandledRejectionHandled","possiblyUnhandledRejection","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","printWarning","debugging","env","warnings","wForgottenReturn","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","reason","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","warn","onPossiblyUnhandledRejection","domain","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","hasLongStackTraces","fireDomEvent","CustomEvent","event","dispatchEvent","domEvent","toLowerCase","detail","cancelable","Event","document","createEvent","initCustomEvent","fireGlobalEvent","emit","methodName","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","opts","warningsOption","_clearCancellationData","cancellationClearCancellationData","cancellationPropagateFrom","cancellationOnCancel","cancellationSetOnCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","_execute","cancellationExecute","monitoring","_fireEvent","defaultFireEvent","executor","handler","onCancel","flags","toString","previousOnCancel","branchesRemainingToCancel","bindingPropagateFrom","isFulfilled","ignoreSelf","_parent","attachExtraTrace","__stackCleaned__","parsed","parseStackAndMessage","notEnumerableProp","join","checkForgottenReturns","returnValue","handlerLine","creatorLine","traceLines","split","cleanStack","line","test","lineMatches","match","firstUserLine","msg","deprecated","replacement","formatAndLogError","reconstructStack","stacks","removeDuplicateOrEmptyJumps","removeCommonRoots","current","currentLastIndex","currentLastLine","commonRootMeetPoint","isTraceLine","isInternalFrame","shouldIgnore","charAt","stackFramesAsArray","replace","isSoft","String","localHandler","localEventFired","formatNonError","str","ruselessToString","newStr","snip","maxChars","substr","captureStackTrace","parseLineInfoRegex","parseLineInfo","matches","fileName","parseInt","setBounds","lastLineError","firstStackLines","lastStackLines","firstIndex","firstFileName","lastFileName","result","_promisesCreated","uncycle","inherits","nodes","stackToIndex","node","currentStack","cycleEdgeNode","currentChildLength","stackDetection","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","indexOf","hasStackAfterThrow","isTTY","color","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","es5","Objectfreeze","freeze","subError","nameProperty","defaultMessage","SubError","constructor","_TypeError","_RangeError","CancellationError","TimeoutError","AggregateError","RangeError","methods","level","indent","lines","OperationalError","cause","errorTypes","RejectionError","isES5","getDescriptor","getOwnPropertyDescriptor","names","getOwnPropertyNames","getPrototypeOf","propertyIsWritable","prop","set","has","hasOwnProperty","proto","ObjectKeys","ObjectGetDescriptor","ObjectDefineProperty","ObjectFreeze","ObjectGetPrototypeOf","ArrayIsArray","PassThroughHandlerContext","type","called","cancelPromise","isFinallyHandler","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","len","catchInstances","classString","canEvaluate","thenCallback","Function","promiseSetter","generateHolderClass","total","props","assignment","cancellationCode","passedArguments","holderClasses","thenCallbacks","promiseSetters","last","HolderClass","holder","callbacks","bitField","asyncNeeded","_isFateSealed","_setAsyncGuaranteed","args","spread","_resolveFromSyncValue","attempt","_rejectCallback","maybeWrapAsError","errors","isUntypedError","rErrorKey","wrapAsOperationalError","markAsOriginatingFromRejection","nodebackForPromise","multiArgs","wrapped","_fulfill","makeSelfResolutionError","reflectHandler","PromiseInspection","Proxyable","UNDEFINED_BINDING","APPLY","check","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","reflect","didFulfill","didReject","_setIsFinal","all","toJSON","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","val","fromNode","fromCallback","promises","cast","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","_proxy","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","x","_settlePromise","isPromise","asyncGuaranteed","_promiseCancelled","_isResolved","_promiseFulfilled","_promiseRejected","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","deferResolve","v","deferReject","defer","pending","version","toFastProperties","fillTypes","p","b","c","toResolutionValue","Map","values","_promise","_values","_totalResolved","_init","init","resolveValueIfEmpty","asArray","_resolveEmptyArray","_resolve","_iterate","getActualLength","shouldCopyValues","isResolved","totalResolved","arrayMove","src","srcIndex","dst","dstIndex","capacity","_capacity","_front","_willBeOverCapacity","size","_checkCapacity","wrapMask","front","_resizeTo","oldCapacity","moveItemsCount","noAsyncScheduler","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","nextTick","isRecentNode","nativePromise","navigator","standalone","cordova","div","createElement","attributes","toggleScheduled","div2","o2","classList","toggle","observe","scheduleToggle","disconnect","_settledValueField","__isCancelled","getThen","isAnyBluebirdPromise","doThenable","doGetThen","hasProp","tryCatchTarget","globalObject","tryCatcher","Child","Parent","T","constructor$","propertyName","isPrimitive","maybeError","safeToString","withAppended","appendee","getDataPropertyOrDefault","defaultValue","inheritedDataKeys","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","isClass","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","FakeConstructor","eval","rident","isIdentifier","filledRange","count","prefix","suffix","isError","ignore","copyDescriptors","from","to","Symbol","iterator","ArrayFrom","it","itResult","hasEnvVariables","chrome","loadTimes","versions","Number","P","requirejs","require","req","head","baseElement","dataMain","interactiveScript","currentlyAddingScript","mainScript","subPath","commentRegExp","cjsRequireRegExp","jsSuffixRegExp","currDirRegExp","op","ostring","hasOwn","isBrowser","isWebWorker","importScripts","readyRegExp","platform","defContextName","isOpera","opera","contexts","cfg","globalDefQueue","useInteractive","commentReplace","singlePrefix","isFunction","each","ary","func","eachReverse","getOwn","eachProp","mixin","source","force","deepStringMixin","RegExp","scripts","getElementsByTagName","defaultOnError","getGlobal","g","part","makeError","requireModules","requireType","originalError","newContext","contextName","inCheckLoaded","Module","handlers","checkLoadedTimeoutId","waitSeconds","paths","bundles","pkgs","shim","registry","enabledRegistry","undefEvents","defQueue","defined","urlFetched","bundlesMap","requireCounter","unnormalizedCounter","trimDots","normalize","baseName","applyMap","pkgMain","mapValue","nameParts","nameSegment","foundMap","foundI","foundStarMap","starI","normalizedBaseParts","baseParts","starMap","nodeIdCompat","concat","outerLoop","removeScript","scriptNode","getAttribute","parentNode","removeChild","hasPathFallback","pathConfig","undef","makeRequire","skipMap","splitPrefix","substring","makeModuleMap","parentModuleMap","isNormalized","pluginModule","parentName","originalName","isDefine","normalizedName","nameToUrl","parentMap","unnormalized","getModule","depMap","mod","on","defineEmitComplete","onError","errback","ids","notified","events","takeGlobalQueue","queueItem","defQueueMap","usingExports","uri","cleanRegistry","breakCycle","traced","processed","depMaps","depId","dep","depMatched","defineDep","checkLoaded","usingPathFallback","waitInterval","expired","startTime","getTime","noLoads","reqCalls","stillLoading","needCycleCheck","modId","enabled","inited","fetched","depExports","pluginMaps","depCount","factory","options","enable","enableBuildCallback","deps","callPlugin","load","enabling","cjsModule","defining","execCb","requireMap","onResourceLoad","resLoadMaps","normalizedMap","defineEmitted","pluginMap","normalizedMod","bundleId","localRequire","fromText","text","textAlt","moduleName","moduleMap","hasInteractive","exec","completeLoad","undefed","cbs","evt","callGetModule","removeListener","ieName","detachEvent","removeEventListener","getScriptData","currentTarget","srcElement","onScriptLoad","onScriptError","intakeDefines","urlArgs","objs","exportsFn","makeShimExports","packages","pkgObj","location","main","callback","relMap","requireMod","__requireJsBuild","toUrl","moduleNamePlusExt","ext","lastIndexOf","segment","isRelative","specified","found","shExports","enforceDefine","skipExt","syms","parentModule","parentPath","jsExtRegExp","readyState","parents","optional","createNode","xhtml","createElementNS","scriptType","charset","setAttribute","attachEvent","addEventListener","onNodeCreated","insertBefore","appendChild","getInteractiveScript","script","skipDataMain","jQuery","_aureliaConfigureModuleLoader","_aureliaLogging","_aureliaPal","_aureliaTaskQueue","_aureliaMetadata","getSetObserver","BindingEngine","NameExpression","Listener","ListenerExpression","BindingBehaviorResource","ValueConverterResource","Call","CallExpression","Binding","BindingExpression","ObjectObservationAdapter","ObserverLocator","SVGAnalyzer","presentationAttributes","presentationElements","elements","ComputedExpression","ClassObserver","SelectValueObserver","CheckedObserver","ValueAttributeObserver","StyleObserver","DataAttributeObserver","dataAttributeAccessor","XLinkAttributeObserver","SetterObserver","PrimitiveObserver","propertyAccessor","DirtyCheckProperty","DirtyChecker","EventManager","delegationStrategy","getMapObserver","ParserImplementation","Parser","Scanner","Lexer","Token","ExpressionCloner","Unparser","LiteralObject","LiteralArray","LiteralString","LiteralPrimitive","PrefixNot","Binary","CallFunction","CallMember","CallScope","AccessKeyed","AccessMember","AccessScope","AccessThis","Conditional","Assign","ValueConverter","BindingBehavior","Chain","Expression","getArrayObserver","CollectionLengthObserver","ModifyCollectionObserver","ExpressionObserver","sourceContext","targetContext","camelCase","createOverrideContext","getContextFor","createScopeForTest","connectable","enqueueBindingConnect","subscriberCollection","calcSplices","mergeSplice","projectArraySplices","getChangeRecords","cloneExpression","hasDeclaredDependencies","declarePropertyDependencies","computedFrom","createComputedObserver","valueConverter","bindingBehavior","observable","connectBindingToSignal","signalBindings","LogManager","_interopRequireWildcard","newObj","_typeof","_createClass","defineProperties","protoProps","staticProps","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_dec3","_dec4","_class3","_dec5","_class5","_dec6","_class7","_dec7","_class8","_dec8","_class9","_dec9","_class10","_class12","_temp","_dec10","_class13","_class14","_temp2","toUpperCase","bindingContext","parentOverrideContext","scope","ancestor","oc","overrideContext","parentBindingContext","slotNames","versionSlotNames","addObserver","observer","observerSlots","_observerSlots","subscribe","_version","observeProperty","observerLocator","getObserver","observeArray","unobserve","unsubscribe","queued","nextId","minimumImmediate","frameBudget","isFlushRequested","immediate","flush","animationFrameStart","binding","__connectQueueId","connect","PLATFORM","performance","now","requestAnimationFrame","addSubscriber","callable","hasSubscriber","_context0","_callable0","_context1","_callable1","_callable2","_contextsRest","_callablesRest","removeSubscriber","callables","arrayPool1","arrayPool2","poolUtilization","callSubscribers","newValue","oldValue","context0","callable0","context1","callable1","context2","callable2","contextsRest","callablesRest","poolIndex","hasSubscribers","expression","lookupFunctions","getValue","evaluate","setValue","dispose","isIndex","toNumber","newSplice","removed","addedCount","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","ArraySplice","calcEditDistances","currentStart","currentEnd","oldStart","oldEnd","rowCount","columnCount","distances","north","west","_i","_i2","_j","equals","spliceOperationsFromEditDistances","edits","northWest","min","prefixCount","suffixCount","minLength","Math","sharedPrefix","sharedSuffix","_splice","ops","splices","oldIndex","_i3","searchLength","_i4","index1","index2","calculateSplices","previous","currentValue","previousValue","arraySplice","intersect","start1","end1","start2","end2","inserted","insertionOffset","_i5","intersectCount","deleteCount","currentRemoved","prepend","offset","createInitialSplices","changeRecords","_i6","record","newRecord","entries","taskQueue","collection","oldCollection","lengthPropertyName","Set","addChangeRecord","changeRecord","lengthObserver","arrayLength","queueMicroTask","flushChangeRecords","reset","getLengthObserver","records","sort","unshift","notEmpty","methodCallResult","__array_observer__","oldArray","_getArrayObserver","ModifyArrayObserver","for","_ModifyCollectionObse","_for","Reflect","isChain","isAssignable","FEATURE_NO_UNPARSER","_Unparser","unparse","_Expression","expressions","_this3","_i7","accept","visitor","visitChain","_Expression2","_this4","visitBindingBehavior","behavior","bindingBehaviors","behaviorKey","evalList","unbind","_Expression3","allArgs","_this5","converter","valueConverters","fromView","visitValueConverter","signals","_Expression4","_this6","vistor","visitAssign","_Expression5","condition","yes","no","_this7","visitConditional","_Expression6","_this8","visitAccessThis","_Expression7","_this9","visitAccessScope","_Expression8","_this10","visitAccessMember","_Expression9","_this11","lookup","getKeyed","setKeyed","visitAccessKeyed","_Expression10","_this12","mustEvaluate","getFunction","visitCallScope","_Expression11","_this13","visitCallMember","_i8","_Expression12","_this14","visitCallFunction","_i9","_Expression13","operation","left","right","_this15","autoConvertAdd","visitBinary","_Expression14","_this16","visitPrefix","_Expression15","_this17","visitLiteralPrimitive","_Expression16","_this18","visitLiteralString","_Expression17","_this19","_i10","visitLiteralArray","_i11","_Expression18","_this20","_i12","visitLiteralObject","_i13","list","_i14","mustExist","buffer","writeArgs","_i15","chain","_i16","_i17","_i18","conditional","access","binary","literal","_i19","_i20","escaped","cloneExpressionArray","clonedArray","oneTime","oneWay","withOp","opKey","withGetterSetter","withValue","lex","scanner","tokens","token","scanToken","input","peek","advance","$SPACE","$EOF","charCodeAt","isIdentifierStart","scanIdentifier","isDigit","scanNumber","$PERIOD","$LPAREN","$RPAREN","$LBRACE","$RBRACE","$LBRACKET","$RBRACKET","$COMMA","$COLON","$SEMICOLON","scanCharacter","fromCharCode","$SQ","$DQ","scanString","$PLUS","$MINUS","$STAR","$SLASH","$PERCENT","$CARET","$QUESTION","scanOperator","$LT","$GT","$BANG","$EQ","scanComplexOperator","$AMPERSAND","$BAR","$NBSP","isWhitespace","character","assert","OPERATORS","one","two","isIdentifierPart","simple","isExponentStart","isExponentSign","parseFloat","quote","marker","$BACKSLASH","_unescaped","$u","hex","_i21","unescape","unescaped","position","$TAB","$LF","$VTAB","$FF","$CR","$$","$0","$9","$A","$E","$Z","$_","$a","$e","$f","$n","$r","$t","$v","$z","EOF","cache","lexer","parseChain","expr","parseBindingBehavior","parseValueConverter","parseExpression","parseConditional","end","_expression","expect","parseLogicalOr","_expression2","parseLogicalAnd","parseEquality","parseRelational","parseAdditive","parseMultiplicative","parsePrefix","parseAccessOrCallMember","parsePrimary","parseExpressionList","_args","parseObject","parseAccessOrCallScope","terminator","mapProto","_getMapObserver","ModifyMapObserver","_ModifyCollectionObse2","__map_observer__","clear","hasValue","findOriginalEventTarget","path","deepPath","stopPropagation","standardStopPropagation","propagationStopped","interceptStopPropagation","handleCapturedEvent","interceptInstalled","orderedCallbacks","capturedCallbacks","_i22","orderedCallback","handleEvent","CapturedHandlerEntry","eventName","increment","DOM","decrement","handleDelegatedEvent","delegatedCallbacks","DelegateHandlerEntry","DefaultEventStrategy","delegatedHandlers","capturedHandlers","targetEvent","strategy","_this22","handlerEntry","bubbling","_ret","capturing","_ret2","none","elementHandlerLookup","eventStrategyLookup","registerElementConfig","tagName","properties","checked","scrollTop","scrollLeft","defaultEventStrategy","registerElementPropertyConfig","createElementHandler","callbackOrListener","changeEvent","registerElementHandler","registerEventStrategy","getElementHandler","delegate","tracked","checkDelay","addProperty","scheduleDirtyCheck","removeProperty","_this23","isDirty","dirtyChecker","logger","getLogger","primitive","doNotCache","observing","getterValue","setterValue","convertProperty","propertyIsEnumerable","attributeName","getAttributeNS","setAttributeNS","nodeName","removeAttribute","styles","style","cssText","_setProperty","setProperty","m","rx","pair","notify","disposeHandler","checkedArrayContext","checkedValueContext","initialSync","arrayObserver","synchronizeElement","valueObserver","__observers__","model","elementValue","isRadio","matcher","findIndex","synchronizeValue","selectArrayContext","multiple","synchronizeOptions","_loop","option","optionValue","selected","_ret3","_this24","_i23","ii","_option","_ret4","_loop2","_loop3","_this25","domObserver","createMutationObserver","childList","subtree","nameIndex","_i24","add","remove","dependencies","ctor","_len","rest","_key","_Expression19","_this26","_i25","parser","svgElements","svgPresentationElements","svgPresentationAttributes","svgAnalyzer","FEATURE_NO_SVG","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","cursor","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font","foreignObject","glyph","glyphRef","hkern","image","linearGradient","mask","metadata","mpath","pattern","polygon","polyline","radialGradient","rect","svg","switch","symbol","textPath","tref","tspan","view","vkern","html","innerHTML","firstChild","firstElementChild","altglyph","altglyphdef","altglyphitem","glyphref","isStandardSvgAttribute","_class11","eventManager","adapters","observersLookup","createPropertyObserver","getOrCreateObserversLookup","createObserversLookup","addAdapter","adapter","getAdapterObserver","_i26","xlinkResult","SVGElement","getPropertyDescriptor","existingGetterOrSetter","adapterObserver","getAccessor","_getSetObserver","TaskQueue","targetProperty","sourceExpression","mode","attribute","discrete","createBinding","updateTarget","targetObserver","updateSource","isBound","callSource","$event","_this27","convention","endsWith","initialize","container","register","registerValueConverter","nameOrTarget","resource","registerBindingBehavior","preventDefault","_disposeListener","getAU","au","apiName","NameBinder","locateAPI","controller","viewModel","LookupFunctions","createBindingExpression","propertyObserver","_this28","collectionObserver","_this29","expressionObserver","registerAdapter","setProto","ModifySetObserver","_ModifyCollectionObse3","__set_observer__","oldSize","targetOrConfig","deco","isClassDecorator","innerPropertyName","innerPropertyDescriptor","callbackName","changeHandler","k","d","starting","bootstrap","bootstrapPromises","startResolve","startPromise","host","isNodeLike","browser","ready","createLoader","Loader","AURELIA_WEBPACK_2_0","__webpack_require__","WebpackLoader","System","bsn","loaderName","import","DefaultLoader","_m","NodeJsLoader","initializePal","loader","isRenderer","loadModule","palModule","isInitialized","globalize","preparePlatform","relativeTo","normalized","bootstrapperName","frameworkPromise","frameworkName","fx","Aurelia","appHost","configModuleId","customConfig","run","appHosts","querySelectorAll","toConsole","bootstraps","Container","InvocationHandler","_emptyParameters","SingletonRegistration","TransientRegistration","FactoryInvoker","NewInstance","Factory","StrategyResolver","Optional","All","Lazy","resolver","getDecoratorDependencies","lazy","newInstance","invoker","invokeAsFactory","registration","transient","singleton","autoinject","_classInvokers","protocol","of","getAll","checkParent","_checkParent","hasResolver","state","_this2","asKey","_len2","dynamicDependencies","_key2","dependency","registerInstance","as","_len3","_key3","paramTypes","keyValue","params","checkParentOrTarget","asValue","asKeyOrTarget","_len4","_key4","potentialTarget","invokeWithDynamicDependencies","staticDependencies","keyOrRegisterInChild","registerInChild","registerResolver","existingResolver","getResolver","registerTransient","_registerInChild","targetContainer","root","registerSingleton","validateKey","resolverDecorates","decorates","construct","classInvokers","Type","fallback","getDependencies","configuration","_configuration","_onHandlerCreated","onHandlerCreated","_handlers","_resolvers","makeGlobal","setHandlerCreatedCallback","registerHandler","registerAlias","originalKey","aliasKey","allResolvers","autoRegister","_registration","autoRegisterAll","fns","unregister","_registration2","_get","results","createChild","_handler","_createInvocationHandler","_dependencies","previousInject","autoInject","prevIndex","_len5","_key5","_fn","EventAggregator","includeEventsIn","Handler","messageType","handle","invokeCallback","invokeHandler","eventLookup","messageHandlers","publish","subscribers","idx","subscribeOnce","sub","ea","_aureliaDependencyInjection","_aureliaBinding","_aureliaTemplating","_aureliaLoader","_aureliaPath","FrameworkConfiguration","TheLogManager","preventActionlessFormSubmit","action","resources","ViewResources","hostConfigured","_started","BindingLanguage","createCustomEvent","bubbles","enhance","applicationHost","_configureHost","engine","TemplatingEngine","_onAureliaComposed","instruction","deactivate","transaction","CompositionTransaction","initialComposition","relativeToFile","childContainer","viewSlot","hostSlot","compose","getElementById","ViewSlot","transformChildNodesIntoView","boundary","extPattern","runTasks","tasks","loadPlugin","resourcesRelativeTo","normalizedId","_loadPlugin","loadResources","resourcesToLoad","appResources","viewEngine","ViewEngine","_normalize","loads","importIds","importId","importViewResources","getExt","isOtherResource","removeExt","addOriginalExt","assertProcessed","plugins","preTasks","postTasks","preTask","postTask","_instance","implementation","task","hasIndex","toAdd","grandParent","startsWith","globalName","resourcePath","newName","_plugin","_addNormalizedPlugin","defaultBindingLanguage","history","defaultResources","eventAggregator","basicConfiguration","addAppender","ConsoleAppender","setLevel","logLevel","mi","History","getAbsoluteRoot","fragment","navigateBack","setTitle","setState","getState","_aureliaHistory","BrowserHistory","DefaultLinkHandler","LinkHandler","_LinkHandler","_DefaultLinkHandler$g","getEventInfo","shouldHandleEvent","href","_hasPushState","anchor","findClosestAnchor","targetIsThisWindow","altKey","ctrlKey","metaKey","shiftKey","leftButtonClicked","which","el","targetWindow","win","top","_History","linkHandler","_isActive","_checkUrlCallback","_checkUrl","wantsPushState","pushState","rootStripper","_wantsHashChange","hashChange","loc","atRoot","pathname","_getFragment","search","hash","_getHash","routeStripper","replaceState","silent","_loadUrl","origin","createOrigin","hostname","port","_ref$trigger","trigger","_ref$replace","absoluteUrl","updateHash","forcePushState","trailingSlash","fragmentOverride","routeHandler","_href","TemplateRegistryEntry","TemplateDependency","address","templateIsLoaded","factoryIsReady","onReady","_template","_factory","addDependency","finalSrc","Origin","requires","templateRegistry","normalizeSync","loadAllModules","loadTemplate","loadText","applyPluginToUrl","pluginName","addPlugin","getOrCreateTemplateRegistryEntry","TextTemplateLoader","entry","template","createTemplateFromMarkup","ensureOriginOnExports","executed","exportedValue","__useDefault","_Loader","textPluginName","moduleRegistry","useTemplateLoader","that","templateLoader","_import","textOrModule","eachModule","existing","nonAnonDefine","onload","modules","_loader","newModule","translate","newId","_map","_fetch","instantiate","removeAppender","getLevel","loggers","appenders","globalDefaultLevel","appendArgs","logFactory","threshold","_appenders$i","connectLoggers","Logger","appender","cached","_console","_console2","_console3","_console4","_extends","propertyType","metadataKey","targetKey","getOwnMetadata","metadataValue","defineMetadata","getOrCreateOwn","originStorage","unknownOrigin","moduleMember","exp","applicator","optionsOrTarget","maybeKey","maybeDescriptor","methodSignature","SyntaxError","deprecationWrapper","instanceKeys","_mixin","possible","resolvedTarget","alwaysValid","noCompose","ensureProtocolOptions","validate","createProtocolValidator","createProtocolAsserter","hidden","initializePAL","innerError","skipIfAlreadyAggregate","separator","FEATURE","noop","_moduleName","subject","pd","_DOM","_FEATURE","_PLATFORM","capture","FEATURE_NO_IE","protoProp","strTrim","trim","arrIndexOf","emptyArray","DOMEx","DOMException","checkTokenAndGetIndex","ClassList","elem","trimmedClasses","classes","_updateClassName","classListProto","contains","updated","testElement","createMethod","original","DOMTokenList","_toggle","nowOffset","timing","navigationStart","con","nop","memory","_CustomEvent","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","shadowDOM","HTMLElement","attachShadow","scopedCSS","htmlTemplateElement","mutationObserver","WebKitMutationObserver","ensureHTMLTemplateElement","isSVGTemplate","namespaceURI","fixSVGTemplateElement","ownerDocument","attrs","attr","fixHTMLTemplateElement","createDocumentFragment","fixHTMLTemplateElementRoot","childTemplates","shadowPoly","ShadowDOMPolyfill","adoptNode","createAttribute","createTextNode","createComment","createTemplateElement","eventType","getComputedStyle","query","nextElementSibling","nextSibling","nodeType","markup","temp","appendNode","newNode","replaceNode","replaceChild","unwrap","removeNode","injectStyles","destination","childNodes","dom","activeElement","XMLHttpRequest","buildQueryString","parseQueryString","file","fileParts","path1","path2","schemeMatch","scheme","urlPrefix","url1","url2","url3","_ii","encode","encodeURIComponent","encodeKey","buildParam","traditional","arrayKey","pairs","processScalarParam","existedParam","parseComplexParam","queryParams","currentParams","keysLastIndex","prevValue","isNaN","queryString","decodeURIComponent","FEATURE_NO_ES2015","GOPS","setDescriptor","G","random","prefixLength","internalSymbol","DP","DPies","GOPN","GOPD","PIE","gOPN","gOPD","$defineProperties","ObjectProto","hOP","pIE","addInternalIfNeeded","uid","createWithSymbols","descriptors","$defineProperty","copyAsNonEnumerable","newDescriptor","onlyNonSymbols","onlySymbols","setAndGetSymbol","sourceConstructor","_Symbol","_Symbol2","sourceMap","defineProp","$getOwnPropertySymbols","getOwnPropertySymbols","cof","cachedWindowNames","originalObjectGetOwnPropertyNames","symbols","o_O","protoDescriptor","O","S","dP","toStringTag","tst","Si","AP","SP","returnThis","fromCodePoint","codePointAt","isFinite","searchString","subjectString","floor","toInteger","ceil","toLength","iterCall","iter","E","return","arrayLike","C","aLen","mapfn","mapping","iterFn","find","predicate","FEATURE_NO_ES2016","includes","searchElement","currentElement","needsFix","hasDontEnumBug","dontEnums","dontEnumsLength","gOPS","filterOS","where","keyOrSymbol","WeakMap","createCollection","sharedDelete","sharedClear","sharedGet","mapHas","sharedSet","_createCollection","sharedKeys","sharedValues","mapEntries","sharedForEach","_createCollection2","setHas","sharedAdd","setEntries","WeakSet","objectOnly","Collection","_keys","_itp","sharedSize","sharedIterator","itp","array2","propertyKey","Target","ownKeys","FEATURE_NO_ESNEXT","emptyMetadata","metadataContainerKey","metadataContainer","RouteRecognizer","EpsilonSegment","StarSegment","DynamicSegment","StaticSegment","State","charSpec","nextStates","_iterator","_isArray","isEqual","validChars","invalidChars","repeat","ch","specials","escapeRegex","string","caseSensitive","eachChar","regex","generate","consumed","rootState","currentState","types","statics","dynamics","stars","routeName","isEmpty","isAllOptional","segments","addSegment","finalState","epsilon","routeNames","handlersFor","hasRoute","generationUsesHref","routeParams","output","segmentValue","param","recognize","states","isSlashDropped","normalizedPath","queryStart","decodeURI","pathLen","recognizeChar","solutions","_l","sortSolutions","findHandler","RecognizeResults","normalizedRoute","splitRoute","_match","_name","skippableStates","newStates","captures","currentCapture","_names","_params","isDynamic","_aureliaRouteRecognizer","_aureliaEventAggregator","AppRouter","PipelineProvider","LoadRouteStep","RouteLoader","ActivateNextStep","DeactivatePreviousStep","CanActivateNextStep","CanDeactivatePreviousStep","BuildNavigationPlanStep","activationStrategy","RouterConfiguration","RedirectToRoute","Redirect","NavModel","NavigationInstruction","CommitChangesStep","Pipeline","pipelineStatus","_normalizeAbsolutePath","_createRootedPath","_resolveUrl","isNavigationCommand","_buildNavigationPlan","hasPushState","absolute","isAbsoluteUrl","isRootedPath","canceled","running","steps","addStep","getSteps","currentStep","complete","createCompletionHandler","navigationInstruction","_commitChanges","_updateTitle","plan","viewPortInstructions","ancestorParams","hasChildRouter","getWildCardName","parentInstruction","allParams","lifecycleArgs","getAllInstructions","instructions","childInstruction","childNavigationInstruction","getAllPreviousInstructions","previousInstruction","addViewPortInstruction","viewPortName","component","currentViewPort","viewportInstruction","childRouter","wildcardIndex","getWildcardPath","wildcardName","getBaseUrl","nonEmptyRoute","routes","encodeURI","waitToSwap","currentInstruction","navModel","isActive","_refreshBaseUrl","refreshNavigation","delaySwaps","viewPortInstruction","viewPort","viewPorts","parentCatchHandler","swap","prune","_buildTitle","childTitles","transformTitle","_viewPortInstruction","childTitle","relativeHref","settings","updateTitle","shouldContinueProcessing","setRouter","appRouter","navigatingRouter","useAppRouter","navigateToRoute","pipelineSteps","addAuthorizeStep","addPreActivateStep","addPreRenderStep","addPostRenderStep","fallbackRoute","_fallbackRoute","mapRoute","routeConfigs","_current","_routeConfig","createNavModel","addRoute","mapUnknownRoutes","unknownRouteConfig","exportToRouter","handleUnknownRoutes","isRoot","pipelineProvider","_ii2","_pipelineSteps$_i","noChange","invokeLifecycle","forceLifecycleMinimum","redirectLocation","redirect","getInstructionBaseUrl","newParams","hasDifferentParameterValues","prevViewPortInstruction","nextViewPortConfig","viewPortPlan","prevComponent","prevModuleId","_prevViewPortInstruct","determineActivationStrategy","_createNavigationInstruction","childPlan","prevParams","nextParams","nextWildCardName","compareQueryParams","prevQueryParams","nextQueryParams","instructionBaseUrlParts","isConfigured","isNavigating","isExplicitNavigation","isExplicitNavigationBack","navigation","_fallbackOrder","_recognizer","_childRecognizer","_configuredPromise","_resolveConfiguredPromise","registerViewPort","ensureConfigured","callbackOrConfig","rootedPath","order","nav","validateRouteConfig","navigationStrategy","_settings","withChild","hasOwnRoute","catchAllHandler","_createRouteConfig","_current2","queryIndex","instructionInit","first","_instruction","evaluateNavigationStrategy","_instruction2","_router","_parentCatchAllHandler","newParentInstruction","_findParentInstructionFromRouter","_instruction3","_name2","evaluator","processDeactivatable","processActivatable","ignoreResult","infos","findDeactivatable","inspect","shouldContinue","iterate","_result","processPotential","_viewPortPlan","addPreviousDeactivatable","_viewPortInstruction2","prevViewModel","findActivatable","_current3$viewModel","_current3","_result2","SafeSubscription","subscriptionFunc","_subscribed","_subscription","obs","subscribed","_error","loadRoute","routeLoader","loadNewRoute","toLoad","determineWhatToLoad","loadPromises","_viewPortPlan2","_viewPortInstruction3","loadComponent","getChildRouter","PipelineSlot","alias","slotName","slotAlias","_createPipelineSlot","createPipeline","pipeline","_findStep","removeStep","slot","_clearSteps","_Router","maxInstructionCount","_queue","loadUrl","_queueInstruction","restorePreviousLocation","_findViewModel","resolveConfiguredPromise","_dequeueInstruction","instructionCount","processResult","resolveInstruction","finalResult","innerResult","isInnerInstruction","eventArgs","_queryString","previousLocation","hasSetImmediate","stackSeparator","microStackSeparator","makeRequestFlushFromMutationObserver","characterData","requestFlush","makeRequestFlushFromTimer","timeoutHandle","handleFlushTimer","intervalHandle","setInterval","clearTimeout","clearInterval","longStacks","filterFlushStack","flushing","microTaskQueue","microTaskQueueCapacity","requestFlushMicroTaskQueue","flushMicroTaskQueue","requestFlushTaskQueue","flushTaskQueue","_flushQueue","scan","newLength","prepareQueueStack","queueTask","MAX_VALUE","filterQueueStack","captureStack","ElementConfigResource","CompositionEngine","SwapStrategies","HtmlBehaviorResource","BindableProperty","BehaviorPropertyObserver","Controller","ModuleAnalyzer","ResourceDescription","ResourceModule","ViewCompiler","ViewFactory","BoundViewFactory","View","ShadowDOM","ShadowSlot","PassThroughSlot","SlotCustomAttribute","ViewLocator","InlineViewStrategy","TemplateRegistryViewStrategy","NoViewStrategy","ConventionalViewStrategy","RelativeViewStrategy","viewStrategy","TargetInstruction","BehaviorInstruction","ViewCompileInstruction","ResourceLoadContext","ElementEvents","ViewEngineHooksResource","CompositionTransactionOwnershipToken","CompositionTransactionNotifier","Animator","animationEvent","_hyphenate","_isAllWhitespace","viewEngineHooks","children","customElement","customAttribute","templateController","dynamicOptions","useShadowDOM","processAttributes","processContent","containerless","useViewStrategy","useView","inlineView","noView","elementConfig","viewResources","_class4","_class6","_temp3","_class15","_temp4","_class16","_class17","_dec11","_class18","enterBegin","enterActive","enterDone","enterTimeout","leaveBegin","leaveActive","leaveDone","leaveTimeout","staggerNext","removeClassBegin","removeClassActive","removeClassDone","removeClassTimeout","addClassBegin","addClassActive","addClassDone","addClassTimeout","animateBegin","animateActive","animateDone","animateTimeout","sequenceBegin","sequenceDone","enter","leave","removeClass","className","addClass","runSequence","animations","registerEffect","effectName","unregisterEffect","owner","_compositionCount","_tryCompleteTransaction","_ownershipToken","thenable","_createThenable","waitForCompositionComplete","tryCapture","enlist","capitalMatcher","addHyphenAndLower","char","auInterpolationTarget","textContent","registerViewEngineHooks","subscriptions","_enqueueHandler","_dequeueHandler","subscription","disposeAll","hasDependency","targetShadowDOM","compileSurrogate","associatedModuleId","normal","unitTest","anchorIsContainer","hasAttribute","initiatedByBehavior","attrName","dynamic","viewFactory","inheritBindingContext","partReplacements","originalAttrName","skipContentProcessing","contentFactory","shadowSlot","parentInjectorId","contentExpression","lifting","liftingInstruction","noExpressions","behaviorInstructions","providers","injectorId","elementInstruction","surrogate","slotFallbackFactory","loadViewFactory","makeRelativeTo","absolutePath","compileInstruction","loadContext","viewLocator","viewUrl","convertOriginToViewUrl","dependencyBaseUrl","getViewStrategy","_origin","viewStrategyMetadataKey","createFallbackViewStrategy","inspectAttribute","elementName","attrValue","createAttributeInstruction","existingInstruction","inspectTextContent","noNodes","auSlotAttribute","destinationName","fallbackFactory","destinationSlot","projections","contentView","renderFallbackContent","projectionSource","ownerView","slots","distributeView","passThroughTo","addNode","removeNodes","detached","removeView","needsFallbackRendering","removeAll","projectFrom","created","isContentProjectionSource","projectFromAnchors","destinationSlots","distributeNodes","auOwnerView","auProjectionSource","auAssignedSlot","_findAnchor","undistributeView","hasSlots","auSlotProjectFrom","_children","auProjectionChildren","_child","undistributeAll","_children2","_child2","_children3","viewIndex","lastView","projectTo","insertNodesBefore","fallbackSlots","getSlotName","defaultSlotKey","destinationOverride","currentNode","_slotName","bindingLanguage","hasParent","getValueConverter","getBindingBehavior","attributeMap","beforeCompile","afterCompile","beforeCreate","afterCreate","beforeBind","beforeUnbind","_tryAddHook","counter","_invokeHook","three","four","hooks","getBindingLanguage","bindingLanguageFallback","patchInParent","newParent","originalParent","relativeToView","registerElement","getElement","mapAttribute","registerAttribute","knownAttribute","registerValue","controllers","bindings","lastChild","fromCache","isAttached","viewModelScope","animatableElement","_isUserControlled","returnToCache","returnViewToCache","_systemUpdate","addBinding","refNode","appendNodesTo","getAnimatableElement","animator","contentSelectors","animateView","direction","_children4","insert","move","sourceIndex","targetIndex","skipAnimation","removeAt","removeMany","viewsToRemove","rmPromises","animation","removeAction","_child3","projectToSlots","_projectionAdd","_projectionInsert","_projectionMove","_projectionRemove","_projectionRemoveAt","_projectionRemoveMany","_projectionRemoveAll","ProviderResolver","__providerId__","providerResolverInstance","elementContainerGet","boundViewFactory","_partReplacements","elementEvents","compositionTransaction","superGet","createElementContainer","_element","makeElementIntoAnchor","contentElement","applyInstructions","containers","shadowSlots","elementContainer","commentAnchor","slotDestination","styleStringToObject","firstIndexOfColon","styleObjectToString","applySurrogateInstruction","currentAttributeValue","styleObject","parentContainer","factoryCreateInstruction","setCacheSize","doNotOverrideIfAlreadySet","getCachedView","isCaching","cacheSize","createInstruction","cachedView","cloneNode","instructables","instructable","surrogateInstruction","nextInjectorId","getNextInjectorId","lastAUTargetID","getNextAUTargetID","makeIntoInstructionTarget","auTargetID","makeShadowSlot","compiler","auShadowSlot","_child4","compile","_compileNode","targetId","ins","_compileSurrogate","targetLightDOM","_compileElement","wholeText","currentChild","hasValues","command","hasOptions","primaryProperty","alteredAttr","_configureProperties","liftsContent","attrToRemove","elementProperty","moduleInstance","mainResource","onLoaded","vs","resourceTypeMeta","getAnalysis","analyze","mainResourceKey","fallbackValue","fallbackKey","conventional","resourceModule","ensureRegistryEntry","urlOrRegistryEntry","ProxyViewFactory","auSlotBehavior","viewCompiler","moduleAnalyzer","_pluginMap","addResourcePlugin","extension","registryEntry","loadTemplateResources","viewModelRequires","viewModelRequireMetadataKey","templateImportCount","importViewModelResource","moduleImport","viewModelModule","moduleIds","_applyLoaderPlugin","imports","analysis","associatedModule","allAnalysis","observerLookup","handlesBind","boundProperties","_ensurePropertiesDefined","_initialize","owningView","handlesCreated","automate","skipSelfSubscriber","selfSubscriber","publishing","__parentOverrideContext","_boundProperties","handlesUnbind","handlesAttached","handlesDetached","initialValue","notqueued","_behavior","nameOrConfig","registerWith","_configureDescriptor","defineOn","handlerName","createObserver","changeHandlerName","propertyChanged","behaviorHandlesBind","_createDynamicProperty","lastProviderId","nextProviderId","doProcessContent","doProcessAttributes","attributeDefaultBindingMode","shadowDOMOptions","usesShadowDOM","childBindings","hasDynamicOptions","addChildBinding","htmlName","_copyInheritedProperties","aliases","transientView","_partReplacements2","hasChildNodes","toReplace","viewHost","_ii3","_ii4","_ii5","_ii6","_ii7","__propertiesDefined__","derived","_ii8","some","createChildObserverDecorator","selectorOrConfig","actualTarget","selector","ChildObserver","ChildObserverBinder","noMutations","trackMutation","groupedMutations","binder","mutations","onChildChange","binders","bindersLength","_ii9","added","addedNodes","removedNodes","jj","onRemove","_jj","_node","_k","_binder","onAdd","assignedSlot","anchors","_ii10","__childObserver__","items","previousElementSibling","before","with","_with","after","tryActivateViewModel","skipActivation","_swap","swapStrategy","swapOrder","previousViews","currentController","compositionTransactionNotifier","_createControllerAndSwap","createController","compositionTransactionOwnershipToken","viewModelResource","ensureViewModel","validateBehaviorName","override","nameOrConfigOrTarget","key2","descriptor2","defaultShadowDOMOptions","targetOrOptions","processor","doNotProcessContent","targetOrDependencies","compositionEngine","_container","_moduleAnalyzer","_viewCompiler","_compositionEngine","configureAnimator","compilerInstructions","Compose","_descriptor2","_descriptor3","_descriptor4","currentViewModel","changes","processChanges","pendingTask","modelChanged","requestUpdate","viewChanged","viewModelChanged","vm","composer","updateRequested","_ifCore","If","_IfCore","_show","_hide","conditionChanged","_update","show","animating","elseVm","showing","IfCore","Else","_registerInIf","ifVm","previousSibling","if","With","_repeatStrategyLocator","_repeatUtilities","_analyzeViewFactory","_abstractRepeater","Repeat","RepeatStrategyLocator","_AbstractRepeater","strategyLocator","local","viewsRequireLifecycle","ignoreMutation","getItemsSourceExpression","isOneTime","matcherBinding","_captureAndRemoveMatcherBinding","itemsChanged","_unsubscribeCollection","callContext","getStrategy","_observeInnerCollection","_observeCollection","instanceChanged","_getInnerCollection","unwrapExpression","handleCollectionMutated","instanceMutated","handleInnerCollectionMutated","newItems","getCollectionObserver","instructionIds","viewCount","views","addView","insertView","moveView","removeAllViews","removeViews","updateBindings","updateOneTimeBinding","AbstractRepeater","_nullRepeatStrategy","_arrayRepeatStrategy","_mapRepeatStrategy","_setRepeatStrategy","_numberRepeatStrategy","matchers","strategies","addStrategy","NullRepeatStrategy","ArrayRepeatStrategy","MapRepeatStrategy","SetRepeatStrategy","NumberRepeatStrategy","itemsLength","viewsLength","_standardProcessInstanceChanged","childrenSnapshot","itemNameInBindingContext","itemsPreviouslyInViews","oldItem","updateViews","removePromise","_index","indexOfView","_view","createFullOverrideContext","updateOverrideContext","_inPlaceProcessItems","middle","$middle","$last","__queuedSplices","_splices$i","__array","_runSplices","queuedSplices","runQueuedSplices","nextPromise","removeDelta","viewOrPromise","spliceIndexLow","_handleAddedSplices","updateOverrideContexts","spliceIndex","addIndex","startIndex","even","$index","$first","$odd","$even","bi","unwrapped","updateOneTimeBindings","_standardProcessItems","removeIndex","_getViewIndexByKey","max","_getViewIndexByValue","childrenLength","lifecycleOptionalBehaviors","behaviorRequiresLifecycle","targetRequiresLifecycle","behaviors","_viewsRequireLifecycle","_aureliaHideStyle","Show","domBoundary","injectAureliaHideStyleAtBoundary","aureliaHideClassName","injectAureliaHideStyleAtHead","aureliaHideClass","hasAureliaHideStyle","Hide","_htmlSanitizer","SanitizeHTMLValueConverter","HTMLSanitizer","sanitizer","untrustedMarkup","sanitize","SCRIPT_REGEX","Replaceable","Focus","needsApply","_apply","focus","blur","_createCSSResource","cssUrlMatcher","fixupCSSUrls","css","p1","CSSResource","_scoped","_global","_alreadyGloballyInjected","CSSViewEngineHooks","styleNode","ViewCSS","_CSSViewEngineHooks","AttrBindingBehavior","TwoWayBindingBehavior","OneWayBindingBehavior","OneTimeBindingBehavior","modeBindingBehavior","originalMode","ThrottleBindingBehavior","throttle","throttleState","elapsed","delay","timeoutId","throttledMethod","methodToThrottle","methodToRestore","DebounceBindingBehavior","debounce","debounceState","debouncedMethod","methodToDebounce","handleSelfEvent","selfEventCallSource","SelfBindingBehavior","_bindingSignaler","SignalBindingBehavior","BindingSignaler","bindingSignaler","signalName","_bindings","_bindings2","signal","UpdateTriggerBindingBehavior","eventNamesRequired","notApplicableMessage","originalHandler","_dynamicElement","getElementName","_createDynamicElement","bindableNames","DynamicElement","$parent","_routerView","TemplatingRouteLoader","_RouteLoader","createDynamicClass","RouterViewLocator","DynamicClass","RouterView","_notify","layoutInstruction","layoutViewModel","layoutView","layoutModel","previousView","work","newView","findNearest","routerView","RouteHref","processChange","attributeChanged","TemplatingBindingLanguage","SyntaxInterpreter","ChildInterpolationBinding","InterpolationBinding","InterpolationBindingExpression","AttributeMap","allElements","registerUniversal","parts","validateTarget","parentElement","targetAccessor","interpolate","rawValue","interpret","handleUnknownCommand","determineDefaultBindingMode","contentEditable","language","inString","inEscape","foundName","_getPrimaryPropertyName","isDestructuring","_BindingLanguage","syntaxInterpreter","emptyStringExpression","interpolationParts","parseInterpolation","theInfo","pos","open","interpolationStart","partIndex","_compose","_if","_else","_repeat","_sanitizeHtml","_replaceable","_focus","_cssResource","_attrBindingBehavior","_bindingModeBehaviors","_throttleBindingBehavior","_debounceBindingBehavior","_selfBindingBehavior","_signalBindingBehavior","_updateTriggerBindingBehavior","_htmlResourcePlugin","styleResourcePlugin","_routeLoader","_routeHref","compile_spy_1","view_spy_1","component_tester_1","wait_1","__export","__decorate","decorate","aurelia_templating_1","aurelia_dependency_injection_1","aurelia_logging_1","aurelia_pal_1","CompileSpy","ViewSpy","_log","lifecycleName","StageComponent","withResources","ComponentTester","inView","manuallyHandleLifecycle","_prepareLifecycle","rootView","bindPrototype","attachedPrototype","waitForElement","waitFor","waitForElements","__assign","getter","present","interval","timeout","timedOut","wait","NodeList","jquery","rs","race","rj","waitForDocumentElement","waitForDocumentElements","Blob","HttpClientConfiguration","defaults","interceptors","interceptor","useStandardConfiguration","standardConfig","rejectErrorResponses","rejectOnError","ok","activeRequestCount","isRequesting","normalizedConfig","isPrototypeOf","Headers","trackRequestStart","buildRequest","processRequest","Response","Request","processResponse","trackRequestEndWith","absoluteUrlRegexp","trackRequestEnd","parseHeaderValues","parsedHeaders","requestContentType","parsedDefaultHeaders","bodyObj","requestInit","getRequestUrl","setDefaultHeaders","defaultHeaders","applyInterceptors","successName","errorName","interceptorArgs","successHandler","errorHandler","identity","hadRuntime","oldRuntime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","inModule","runtime","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","_invoke","makeInvokeMethod","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","awrap","__await","AsyncIterator","previousPromise","enqueue","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","_sent","dispatchException","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","skipTempReset","rootEntry","rootRecord","rval","exception","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","moment","hookCallback","setHookCallback","isObjectEmpty","isUndefined","isNumber","isDate","arr","res","hasOwnProp","extend","valueOf","createUTC","locale","strict","createLocalOrUTC","utc","defaultParsingFlags","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","getParsingFlags","_pf","fun","isValid","_isValid","parsedParts","isNowValid","_d","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","momentProperties","copyConfig","_isAMomentObject","_f","_tzm","_isUTC","_offset","_locale","updateInProgress","Moment","updateOffset","isMoment","absFloor","number","toInt","argumentForCoercion","coercedNumber","compareArrays","array1","dontConvert","lengthDiff","abs","diffs","suppressDeprecationWarnings","deprecate","firstTime","deprecationHandler","deprecations","deprecateSimple","_dayOfMonthOrdinalParseLenient","_dayOfMonthOrdinalParse","_ordinalParse","mergeConfigs","parentConfig","childConfig","Locale","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","calendar","mom","_calendar","defaultLongDateFormat","LTS","LT","L","LL","LLL","LLLL","longDateFormat","_longDateFormat","formatUpper","defaultInvalidDate","invalidDate","_invalidDate","defaultOrdinal","defaultDayOfMonthOrdinalParse","ordinal","_ordinal","defaultRelativeTime","future","past","ss","mm","h","hh","dd","M","MM","y","yy","relativeTime","withoutSuffix","isFuture","_relativeTime","pastFuture","diff","addUnitAlias","unit","shorthand","lowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedInput","normalizedProp","addUnitPriority","getPrioritizedUnits","unitsObj","zeroFill","targetLength","forceSign","absNumber","zerosToFill","sign","pow","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","padded","localeData","removeFormattingTokens","makeFormatFunction","formatMoment","expandFormat","replaceLongDateFormatTokens","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchTimestamp","matchWord","regexes","addRegexToken","strictRegex","isStrict","getParseRegexForToken","unescapeFormat","regexEscape","matched","p2","p3","p4","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","_a","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","year","parseTwoDigitYear","daysInYear","isLeapYear","getSetYear","makeGetSet","getIsLeapYear","keepTime","set$1","month","date","daysInMonth","stringGet","stringSet","prioritized","modMonth","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","MONTHS_IN_FORMAT","defaultLocaleMonths","localeMonths","_months","isFormat","defaultLocaleMonthsShort","localeMonthsShort","_monthsShort","handleStrictParse","monthName","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","localeMonthsParse","_monthsParseExact","setMonth","dayOfMonth","getSetMonth","getDaysInMonth","defaultMonthsShortRegex","computeMonthsParse","_monthsShortStrictRegex","_monthsShortRegex","defaultMonthsRegex","_monthsStrictRegex","_monthsRegex","cmpLenRev","shortPieces","longPieces","mixedPieces","createDate","ms","getFullYear","setFullYear","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","fwdlw","getUTCDay","dayOfYearFromWeeks","week","weekday","localWeekday","weekOffset","dayOfYear","resYear","resDayOfYear","weekOfYear","resWeek","weeksInYear","weekOffsetNext","localeWeek","_week","defaultLocaleWeek","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","getSetISOWeek","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","weekdaysParse","parseWeekday","parseIsoWeekday","defaultLocaleWeekdays","localeWeekdays","_weekdays","day","defaultLocaleWeekdaysShort","localeWeekdaysShort","_weekdaysShort","defaultLocaleWeekdaysMin","localeWeekdaysMin","_weekdaysMin","handleStrictParse$1","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","localeWeekdaysParse","_weekdaysParseExact","_fullWeekdaysParse","getSetDayOfWeek","getDay","getSetLocaleDayOfWeek","getSetISODayOfWeek","defaultWeekdaysRegex","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","defaultWeekdaysShortRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","defaultWeekdaysMinRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","minPieces","minp","shortp","longp","hFormat","hours","kFormat","minutes","seconds","lowercase","matchMeridiem","_meridiemParse","kInput","_isPm","isPM","_meridiem","pos1","pos2","localeIsPM","defaultLocaleMeridiemParse","localeMeridiem","isLower","getSetHour","dayOfMonthOrdinalParse","meridiemParse","locales","localeFamilies","globalLocale","normalizeLocale","chooseLocale","loadLocale","oldLocale","_abbr","aliasedRequire","getSetGlobalLocale","getLocale","defineLocale","abbr","parentLocale","updateLocale","tmpLocale","listLocales","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","currentDateArray","nowValue","_useUTC","getUTCMonth","getUTCDate","getMonth","getDate","configFromArray","currentDate","expectedWeekday","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","setUTCMinutes","getUTCMinutes","w","weekYear","weekdayOverflow","GG","W","createLocal","curWeek","gg","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","untruncateYear","preprocessRFC2822","checkWeekday","weekdayStr","parsedInput","weekdayProvided","weekdayActual","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","calculateOffset","obsOffset","militaryOffset","numOffset","hm","configFromRFC2822","parsedArray","configFromString","createFromInputFallback","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","meridiemFixWrap","hour","isPm","meridiemHour","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromObject","minute","second","millisecond","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","prototypeMin","other","prototypeMax","pickBy","moments","ordering","isDurationValid","unitHasDecimal","isValid$1","createInvalid$1","createDuration","Duration","duration","years","quarters","quarter","weeks","days","milliseconds","_milliseconds","_days","_data","_bubble","isDuration","absRound","round","utcOffset","offsetFromString","chunkOffset","chunk","cloneWithOffset","clone","setTime","getDateOffset","getTimezoneOffset","getSetOffset","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","addSubtract","getSetZone","setOffsetToUTC","setOffsetToLocal","subtract","setOffsetToParsedOffset","tZone","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","_isDSTShifted","toArray","isLocal","isUtcOffset","isUtc","aspNetRegex","isoRegex","diffRes","parseIso","momentsDifference","invalid","inp","positiveMomentsDifference","isAfter","isBefore","createAdder","period","dur","tmp","isAdding","getCalendarFormat","myMoment","calendar$1","time","formats","sod","startOf","calendarFormat","localInput","endOf","isBetween","inclusivity","isSame","inputMs","isSameOrAfter","isSameOrBefore","asFloat","zoneDelta","delta","monthDiff","wholeMonthDiff","anchor2","adjust","defaultFormat","defaultFormatUtc","toISOString","toDate","zone","datetime","inputString","postformat","humanize","fromNow","toNow","newLocaleData","lang","isoWeekday","unix","toObject","isValid$2","parsingFlags","invalidAt","creationData","isoWeekYear","addWeekYearFormatToken","getSetWeekYear","getSetWeekYearHelper","getSetISOWeekYear","isoWeek","getISOWeeksInYear","getWeeksInYear","weekInfo","weeksTarget","setWeekAll","dayOfYearData","getSetQuarter","getSetDayOfMonth","getSetDayOfYear","getSetMinute","getSetSecond","parseMs","getSetMillisecond","getZoneAbbr","getZoneName","isoWeeks","isoWeeksInYear","parseZone","isDST","zoneAbbr","zoneName","dates","isDSTShifted","createUnix","createInZone","preParsePostFormat","proto$1","firstDayOfYear","firstDayOfWeek","get$1","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","listMonths","listMonthsShort","listWeekdays","listWeekdaysShort","listWeekdaysMin","langData","mathAbs","addSubtract$1","add$1","subtract$1","absCeil","bubble","monthsFromDays","monthsToDays","daysToMonths","valueOf$1","makeAs","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","clone$1","get$2","makeGetter","thresholds","substituteTimeAgo","relativeTime$1","posNegDuration","getSetRelativeTimeRounding","roundingFunction","getSetRelativeTimeThreshold","limit","withSuffix","abs$1","toISOString$1","Y","D","toFixed","totalSign","ymSign","daysSign","hmsSign","proto$2","toIsoString","relativeTimeRounding","relativeTimeThreshold","compareDates","date1","date2","timeless","setHours","monthToStr","monthNumber","getWeek","givenDate","onejan","DAY","_disable","_enable","allowInput","altInputClass","userAgent","ariaDateFormat","clickOpens","closeOnSelect","conjunction","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","hourIncrement","ignoredFocusElements","inline","minuteIncrement","nextArrow","noCalendar","onClose","onDayCreate","onDestroy","onKeyDown","onOpen","onParseConfig","onValueUpdate","positionElement","prevArrow","shorthandCurrentMonth","static","time_24hr","weekNumbers","english","longhand","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","pad","int","bool","arrayify","mouseDelta","wheelDelta","deltaY","toggleClass","tag","clearNode","findParent","createNumberInput","inputClassName","wrapper","numInput","arrowUp","arrowDown","do_nothing","revFormat","F","dateObj","H","J","K","getHours","shortMonth","setSeconds","U","unixSeconds","weekNum","weekNumber","Z","ISODate","setMinutes","tokenRegex","getSeconds","getMinutes","_loop_1","args_1","FlatpickrInstance","instanceConfig","parseDate","formatDate","_animationLoop","_bind","_setHoursFromDate","setHoursFromDate","changeMonth","changeYear","close","_createElement","destroy","isEnabled","jumpToDate","redraw","setupHelperFunctions","utils","yr","currentMonth","currentYear","l10n","isOpen","parseConfig","setupLocale","setupInputs","setupDates","isMobile","build","bindEvents","latestSelectedDateObj","minDate","updateValue","showTimeInput","weekWrapper","daysContainer","calendarContainer","width","offsetWidth","positionCalendar","triggerEvent","bindToInstance","updateTime","setHoursFromInputs","timeWrapper","minDateHasTime","ampm2military","military2ampm","hourElement","minuteElement","secondElement","maxDate","maxDateHasTime","onYearInput","currentYearElement","ev","onClick","triggerChange","setupMobile","debouncedResize","onResize","_debouncedChange","onMouseOver","_input","ontouchstart","documentClick","monthNav","onMonthNavScroll","onMonthNavClick","selectDate","animateDays","animateMonths","timeContainer","selText","select","timeIncrement","processPostDayAnimation","animationName","navigationCurrentMonth","oldCurMonth","jumpDate","jumpTo","incrementNumInput","inputElem","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","createDay","dayNumber","dateIsEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","minRangeDate","maxRangeDate","isDateInRange","insertAdjacentHTML","focusOnDay","currentIndex","newIndex","targetNode","afterDayAnim","firstOfMonth","isRangeMode","prevMonthDays","dayIndex","dayNum","_hidePrevMonthArrow","_hideNextMonthArrow","updateNavigationCurrentMonth","dayContainer","monthNavFragment","prevMonthNav","currentMonthElement","yearInput","disabled","nextMonthNav","__hidePrevMonthArrow","display","__hideNextMonthArrow","hourInput","minuteInput","secondInput","weekdayContainer","is_offset","from_keyboard","index_1","triggerChangeEvent","mobileInput","_type","isCalendarElem","isCalendarElement","isInput","lostFocus","relatedTarget","newYear","newYearNum","isNewYear","dateToCheck","calendarElem","allowKeydown","allowInlineKeydown","isTimeObj","delta_1","hoverDate","initialDate","rangeStartDate","rangeEndDate","containsDisabled","timestamp","outOfRange","dayElem","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","dataset","formats$$1","parseDateRules","_minDate","_maxDate","pluginConf","l10ns","_positionElement","calendarHeight","offsetHeight","calendarWidth","configPos","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","pageYOffset","pageXOffset","rightMost","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","range","setSelectedDate","inputDate","rule","preloadedDate","defaultDate","_showTimeInput","frmt","givenFormat","parsedDate","date_orig","datestr","matchIndex","regexStr","isBackSlash","placeholder","required","inputType","mobileFormatStr","initEvent","joinChar","dObj","isYear","isPrevMonth","isNextMonth","isKeyDown","curValue","isHourElem","isMinuteElem","nodeList","HTMLCollection","en","localize","setDefaults","fp_incr","flatpickr$1","_authService","_authorizeStep","_authFetchConfig","_baseConfig","_authFilter","FetchConfig","BaseConfig","AuthFilterValueConverter","configCallback","_authentication","_oAuth","_oAuth2","_authUtilities","Authentication","OAuth1","OAuth2","oAuth1","oAuth2","tokenInterceptor","getMe","profileUrl","getProfileUrl","isAuthenticated","getTokenPayload","getPayload","setToken","signup","signupUrl","getSignupUrl","loginOnSignup","signupRedirect","getLoginUrl","redirectUri","authenticate","userData","provider","unlink","unlinkUrl","joinUrl","unlinkMethod","_storage","Storage","storage","tokenPrefix","idTokenName","getLoginRoute","loginRoute","getLoginRedirect","initialUrl","loginRedirect","getToken","decomposeToken","base64Url","base64","escape","atob","setInitialUrl","accessToken","responseTokenProp","tokenToStore","isString","tokenRoot","idToken","responseIdTokenProp","removeToken","httpInterceptor","incomingConfig","merge","signupRoute","withCredentials","identSrv","responseType","scopePrefix","scopeDelimiter","requiredUrlParams","optionalUrlParams","rand","clientId","nonce","popupOptions","height","google","authorizationEndpoint","facebook","linkedin","github","yahoo","twitter","live","instagram","isDefined","isBlankObject","isArrayLike","isWindow","setHashKey","$$hashKey","baseExtend","deep","letter","kv","joined","_getStorage","_popup","Popup","popup","serverUrl","popupWindow","popupListener","eventListener","pollPopup","exchangeForToken","oauthData","exchangeForTokenUrl","polling","windowName","optionsString","stringifyOptions","prepareOptions","hashParams","qs","deferred","documentOrigin","popupWindowOrigin","closed","screenX","outerWidth","screenY","outerHeight","responseParams","defaultUrlParams","stateName","nonceName","openPopup","verifyIdToken","providerName","idTokenObject","nonceFromToken","nonceInStorage","keyValuePairs","urlParams","paramName","camelizedName","paramValue","routingContext","isLoggedIn","authService","httpConfig"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\nexport class App {\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep);\n    config.map([\n      {\n    route: ['', 'home'],\n     moduleId: './modules/home',\n     name: 'Home'\n      },\n      {\n     route: 'list',\n     moduleId: './modules/list',\n     name: 'List',\n     auth: true \n     }\n    ]);\n  }\n}\n","var authConfig = {\r\n    baseUrl: \"http://localhost:5000/api\",\r\n    loginUrl: '/users/login',\r\n    tokenName: 'token',\r\n    authHeader: 'Authorization',\r\n    authToken: '',\r\n    logoutRedirect: '#/home'\r\n    }\r\n  \r\n  export default authConfig;\r\n  ","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport regeneratorRuntime from 'regenerator-runtime';\nimport config from './auth-config';\nwindow.regeneratorRuntime = regeneratorRuntime;\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig)=>{\n      baseConfig.configure(config);\n    })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport { Users } from '../resources/data/users';\r\nimport {AuthService} from 'aurelia-auth';\r\n\r\n@inject(Router, Users, AuthService)\r\nexport class Home {\r\n  constructor(router, users, auth) {\r\n    this.router = router;\r\n    this.auth = auth;\r\n    this.loginError = '';\r\n    this.title = \"You have things ToDo!\";\r\n    this.users = users;\r\n    this.message = 'Home';\r\n    this.showLogin = true;\r\n  }\r\n\r\n  login() {\r\n    return this.auth.login(this.email, this.password)\r\n    .then(response => {\r\n      sessionStorage.setItem(\"user\", JSON.stringify(response.user));\r\n      this.loginError = \"\";\r\n      this.router.navigate('list');\r\n    })\r\n.catch(error => {\r\n  console.log(error);\r\n  this.loginError = \"Invalid credentials.\";\r\n});\r\n  }\r\n\r\n  showRegister() {\r\n    this.user = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n    this.registerError = \"\";\r\n    this.showLogin = false;\r\n  }\r\n\r\n  async save() {\r\n    let serverResponse = await this.users.save(this.user);\r\n    if (!serverResponse.error) {\r\n      alert('User Successfully Registered');\r\n      this.showLogin = true;\r\n    } else {\r\n      this.registerError = \"There was a problem registering the user.\";\r\n      this.showLogin = false;\r\n    }\r\n  }\r\n\r\n  goback() {\r\n    this.showLogin = true;\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {ToDos} from '../resources/data/todos';\r\nimport { AuthService } from 'aurelia-auth';\r\n\r\n\r\n@inject(Router, ToDos, AuthService)\r\nexport class List {\r\n  constructor(router, todos, auth) {\r\n    this.todos = todos;\r\n    this.router = router;\r\n    this.message = 'List';\r\n    this.auth = auth;\r\n    this.user = JSON.parse(sessionStorage.getItem('user'));\r\n    this.title = \"You have things ToDo!\";\r\n    this.editTodoForm = false;\r\n    this.showList = true;\r\n    this.showCompleted = false;\r\n    this.priorities = ['Low', 'Medium', 'High', 'Critical'];\r\n  }\r\n\r\n\r\n  logout() {\r\n    sessionStorage.removeItem('user');\r\n    this.auth.logout();\r\n    this.router.navigate('home');\r\n  }\r\n\r\n  createTodo() {\r\n    this.todoObj = {\r\n      todo: '',\r\n      description: '',\r\n      dateDue: new Date(),\r\n      userId: this.user._id,\r\n      priority: this.priorities[0]\r\n    };\r\n    this.showList = false;\r\n  }\r\n\r\n  async saveTodo() {\r\n    if (this.todoObj) {\r\n      let response = await this.todos.save(this.todoObj);\r\n      if (response.error) {\r\n        alert('There was an error creating the ToDo');\r\n      } else {\r\n        var todoId = response._id;\r\n        if (this.filesToUpload && this.filesToUpload.length) {\r\n          await this.todos.uploadFile(this.filesToUpload, this.user._id, todoId);\r\n          this.filesToUpload = [];\r\n        }\r\n      }\r\n    }\r\n    this.showList = true;\r\n  }\r\n  async activate() {\r\n    await this.todos.getUserTodos(this.user._id);\r\n  }\r\n  editTodo(todo) {\r\n    this.todoObj = todo;\r\n    this.showList = false;\r\n  }\r\n  deleteTodo(todo) {\r\n    this.todos.deleteTodo(todo._id);\r\n  }\r\n  completeTodo(todo) {\r\n    todo.completed = !todo.completed;\r\n    this.todoObj = todo;\r\n    this.saveTodo();\r\n  }\r\n  toggleShowCompleted() {\r\n    this.showCompleted = !this.showCompleted;\r\n  }\r\n\r\n  back() {\r\n    this.showList = true;\r\n  }\r\n\r\n  changeFiles() {\r\n    this.filesToUpload = new Array();\r\n    this.filesToUpload.push(this.files[0]);\r\n  }\r\n  removeFile(index) {\r\n    this.filesToUpload.splice(index, 1);\r\n  }\r\n}\r\n","export function configure(config) {\n  config.globalResources([\n    './value-converters/date-format',\n    './value-converters/completed',\n    './elements/flatpickr'\n  ]);\n}\n","import {\r\n  inject\r\n} from 'aurelia-framework';\r\nimport {\r\n  HttpClient,\r\n  json\r\n} from 'aurelia-fetch-client';\r\n\r\n@inject(HttpClient)\r\nexport class DataServices {\r\n\r\n  constructor(http) {\r\n    this.httpClient = http;\r\n    this.BASE_URL = \"http://localhost:5000/api/\";\r\n    this.httpClient.configure(config => {\r\n      config\r\n        .withBaseUrl(this.BASE_URL)\r\n        .withDefaults({\r\n          credentials: 'same-origin',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'X-Requested-With': 'Fetch'\r\n          }\r\n        })\r\n        .withInterceptor({\r\n          request(request) {\r\n            var authHeader = 'Bearer ' + localStorage.getItem('aurelia_token');\r\n            request.headers.append('Authorization', authHeader);\r\n            console.log(`Requesting ${request.method} ${request.url}`);\r\n            return request;\r\n          },\r\n          response(response) {\r\n            console.log(`Received ${response.status} ${response.url}`);\r\n            return response;\r\n          }\r\n        });\r\n    });\r\n  }\r\n  get(url) {\r\n    return this.httpClient.fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  post(content, url) {\r\n    return this.httpClient\r\n      .fetch(url, {\r\n        method: 'post',\r\n        body: json(content)\r\n      })\r\n      .then(response => response.json())\r\n      .then(object => {\r\n        return object;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  put(content, url) {\r\n    return this.httpClient\r\n      .fetch(url, {\r\n        method: 'put',\r\n        body: json(content)\r\n      })\r\n      .then(response => response.json())\r\n      .then(object => {\r\n        return object;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  delete(url) {\r\n    return this.httpClient\r\n      .fetch(url, {\r\n        method: 'delete'\r\n      })\r\n      .then(response => response.json())\r\n      .then(object => {\r\n        return object;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  uploadFiles(files, url) {\r\n    return this.httpClient\r\n      .fetch(url, {\r\n        method: 'post',\r\n        body: files\r\n      })\r\n      .then(response => response.json())\r\n      .then(object => {\r\n        return object;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n}\r\n","import {\r\n  inject\r\n} from 'aurelia-framework';\r\nimport {\r\n  DataServices\r\n} from './data-services';\r\n@inject(DataServices)\r\nexport class ToDos {\r\n  constructor(data) {\r\n    this.data = data;\r\n    this.TODO_SERVICE = 'todos';\r\n    this.todosArray = [];\r\n  }\r\n\r\n\r\n  async save(todo) {\r\n    if (todo) {\r\n      if (!todo._id) {\r\n        let response = await this.data.post(todo, this.TODO_SERVICE);\r\n        if (!response.error) {\r\n          this.todosArray.push(response);\r\n        }\r\n        return response;\r\n      } else {\r\n        let response = await this.data.put(todo, this.TODO_SERVICE + \"/\" + todo._id);\r\n        if (!response.error) {\r\n          // this.updateArray(response);\r\n        }\r\n        return response;\r\n      }\r\n    }\r\n  }\r\n  async deleteTodo(id) {\r\n    let response = await this.data.delete(this.TODO_SERVICE + \"/\" + id);\r\n    if (!response.error) {\r\n      for (let i = 0; i < this.todosArray.length; i++) {\r\n        if (this.todosArray[i]._id === id) {\r\n          this.todosArray.splice(i, 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  async uploadFile(files, userId, todoId) {\r\n    let formData = new FormData();\r\n    files.forEach((item, index) => {\r\n      formData.append(\"file\" + index, item);\r\n    });\r\n    let response = await this.data.uploadFiles(formData, this.TODO_SERVICE + \"/upload/\" + userId + \"/\" + todoId);\r\n    return response;\r\n  }\r\n\r\n  async getUserTodos(id) {\r\n    let response = await this.data.get(this.TODO_SERVICE + \"/\" + id);\r\n    if (!response.error && !response.message) {\r\n      this.todosArray = response;\r\n    }\r\n  }\r\n\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class Users {\r\n  constructor(data) {\r\n    this.data = data;\r\n\r\n    this.USER_SERVICE = 'users';\r\n  }\r\n\r\n  async save(user) {\r\n    if (user) {\r\n      let serverResponse = await this.data.post(user, this.USER_SERVICE);\r\n      return serverResponse;\r\n    }\r\n  }\r\n}\r\n","import {inject, bindable, bindingMode} from 'aurelia-framework';\r\nimport Flatpickr from 'flatpickr';\r\n@inject(Element)\r\nexport class FlatPickerCustomElement {\r\n@bindable({defaultBindingMode: bindingMode.twoWay}) value;\r\nconstructor(element) {\r\n  this.element = element;\r\n}\r\n\r\nbind() {\r\n            const defaultConfig = {\r\n                \taltInput: true,\r\n                \taltFormat: \"F j, Y\",\r\n        wrap: true\r\n            };\r\n          this._config = Object.assign({}, defaultConfig);\r\n            this._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\r\n        }\r\n\r\n    attached() {\r\n                this.flatpickr = new Flatpickr(this.element.querySelector('.aurelia-flatpickr'), this._config);\r\n         }\r\n        \u000bonChange(selectedDates, dateStr, instance) {\r\n                this.value = selectedDates[0] \r\n        }\r\n\r\n        valueChanged() {\r\n                if (!this.flatpickr) {\r\n                    return;\r\n                }\r\n      if (this.value === this.flatpickr.selectedDates[0]) {\r\n                    return;\r\n                }\r\n         let newDate = this.value ? this.value : undefined;\r\n       this.flatpickr.setDate(newDate);\r\n            }\r\n}","export class CompletedValueConverter {\r\n    \r\n      toView(array, value) {\r\n        if (!value) {\r\n          return array.filter(item => {\r\n            return !item.completed;\r\n          });\r\n        } else {\r\n          return array;\r\n        }\r\n      }\r\n    }","import moment from 'moment';\r\nexport class DateFormatValueConverter {\r\n  toView(value) {\r\n    if (value === undefined || value === null) {\r\n      return;\r\n    }\r\n\r\n    return moment(value).format('MMM Do YYYY');\r\n  }\r\n}\r\n","define('app',['exports', 'aurelia-auth'], function (exports, _aureliaAuth) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.App = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var App = exports.App = function () {\n    function App() {\n      _classCallCheck(this, App);\n    }\n\n    App.prototype.configureRouter = function configureRouter(config, router) {\n      this.router = router;\n      config.addPipelineStep('authorize', _aureliaAuth.AuthorizeStep);\n      config.map([{\n        route: ['', 'home'],\n        moduleId: './modules/home',\n        name: 'Home'\n      }, {\n        route: 'list',\n        moduleId: './modules/list',\n        name: 'List',\n        auth: true\n      }]);\n    };\n\n    return App;\n  }();\n});\r\ndefine('auth-config',['exports'], function (exports) {\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n        value: true\n    });\n    var authConfig = {\n        baseUrl: \"http://localhost:5000/api\",\n        loginUrl: '/users/login',\n        tokenName: 'token',\n        authHeader: 'Authorization',\n        authToken: '',\n        logoutRedirect: '#/home'\n    };\n\n    exports.default = authConfig;\n});\r\ndefine('environment',[\"exports\"], function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = {\n    debug: true,\n    testing: true\n  };\n});\r\ndefine('main',['exports', './environment', 'regenerator-runtime', './auth-config'], function (exports, _environment, _regeneratorRuntime, _authConfig) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.configure = configure;\n\n  var _environment2 = _interopRequireDefault(_environment);\n\n  var _regeneratorRuntime2 = _interopRequireDefault(_regeneratorRuntime);\n\n  var _authConfig2 = _interopRequireDefault(_authConfig);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  window.regeneratorRuntime = _regeneratorRuntime2.default;\n\n  function configure(aurelia) {\n    aurelia.use.standardConfiguration().plugin('aurelia-auth', function (baseConfig) {\n      baseConfig.configure(_authConfig2.default);\n    }).feature('resources');\n\n    if (_environment2.default.debug) {\n      aurelia.use.developmentLogging();\n    }\n\n    if (_environment2.default.testing) {\n      aurelia.use.plugin('aurelia-testing');\n    }\n\n    aurelia.start().then(function () {\n      return aurelia.setRoot();\n    });\n  }\n});\r\ndefine('modules/home',['exports', 'aurelia-framework', 'aurelia-router', '../resources/data/users', 'aurelia-auth'], function (exports, _aureliaFramework, _aureliaRouter, _users, _aureliaAuth) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Home = undefined;\n\n  function _asyncToGenerator(fn) {\n    return function () {\n      var gen = fn.apply(this, arguments);\n      return new Promise(function (resolve, reject) {\n        function step(key, arg) {\n          try {\n            var info = gen[key](arg);\n            var value = info.value;\n          } catch (error) {\n            reject(error);\n            return;\n          }\n\n          if (info.done) {\n            resolve(value);\n          } else {\n            return Promise.resolve(value).then(function (value) {\n              step(\"next\", value);\n            }, function (err) {\n              step(\"throw\", err);\n            });\n          }\n        }\n\n        return step(\"next\");\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var Home = exports.Home = (_dec = (0, _aureliaFramework.inject)(_aureliaRouter.Router, _users.Users, _aureliaAuth.AuthService), _dec(_class = function () {\n    function Home(router, users, auth) {\n      _classCallCheck(this, Home);\n\n      this.router = router;\n      this.auth = auth;\n      this.loginError = '';\n      this.title = \"You have things ToDo!\";\n      this.users = users;\n      this.message = 'Home';\n      this.showLogin = true;\n    }\n\n    Home.prototype.login = function login() {\n      var _this = this;\n\n      return this.auth.login(this.email, this.password).then(function (response) {\n        sessionStorage.setItem(\"user\", JSON.stringify(response.user));\n        _this.loginError = \"\";\n        _this.router.navigate('list');\n      }).catch(function (error) {\n        console.log(error);\n        _this.loginError = \"Invalid credentials.\";\n      });\n    };\n\n    Home.prototype.showRegister = function showRegister() {\n      this.user = {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\"\n      };\n      this.registerError = \"\";\n      this.showLogin = false;\n    };\n\n    Home.prototype.save = function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var serverResponse;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.users.save(this.user);\n\n              case 2:\n                serverResponse = _context.sent;\n\n                if (!serverResponse.error) {\n                  alert('User Successfully Registered');\n                  this.showLogin = true;\n                } else {\n                  this.registerError = \"There was a problem registering the user.\";\n                  this.showLogin = false;\n                }\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function save() {\n        return _ref.apply(this, arguments);\n      }\n\n      return save;\n    }();\n\n    Home.prototype.goback = function goback() {\n      this.showLogin = true;\n    };\n\n    return Home;\n  }()) || _class);\n});\r\ndefine('modules/list',['exports', 'aurelia-framework', 'aurelia-router', '../resources/data/todos', 'aurelia-auth'], function (exports, _aureliaFramework, _aureliaRouter, _todos, _aureliaAuth) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.List = undefined;\n\n  function _asyncToGenerator(fn) {\n    return function () {\n      var gen = fn.apply(this, arguments);\n      return new Promise(function (resolve, reject) {\n        function step(key, arg) {\n          try {\n            var info = gen[key](arg);\n            var value = info.value;\n          } catch (error) {\n            reject(error);\n            return;\n          }\n\n          if (info.done) {\n            resolve(value);\n          } else {\n            return Promise.resolve(value).then(function (value) {\n              step(\"next\", value);\n            }, function (err) {\n              step(\"throw\", err);\n            });\n          }\n        }\n\n        return step(\"next\");\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var List = exports.List = (_dec = (0, _aureliaFramework.inject)(_aureliaRouter.Router, _todos.ToDos, _aureliaAuth.AuthService), _dec(_class = function () {\n    function List(router, todos, auth) {\n      _classCallCheck(this, List);\n\n      this.todos = todos;\n      this.router = router;\n      this.message = 'List';\n      this.auth = auth;\n      this.user = JSON.parse(sessionStorage.getItem('user'));\n      this.title = \"You have things ToDo!\";\n      this.editTodoForm = false;\n      this.showList = true;\n      this.showCompleted = false;\n      this.priorities = ['Low', 'Medium', 'High', 'Critical'];\n    }\n\n    List.prototype.logout = function logout() {\n      sessionStorage.removeItem('user');\n      this.auth.logout();\n      this.router.navigate('home');\n    };\n\n    List.prototype.createTodo = function createTodo() {\n      this.todoObj = {\n        todo: '',\n        description: '',\n        dateDue: new Date(),\n        userId: this.user._id,\n        priority: this.priorities[0]\n      };\n      this.showList = false;\n    };\n\n    List.prototype.saveTodo = function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var response, todoId;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.todoObj) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.todos.save(this.todoObj);\n\n              case 3:\n                response = _context.sent;\n\n                if (!response.error) {\n                  _context.next = 8;\n                  break;\n                }\n\n                alert('There was an error creating the ToDo');\n                _context.next = 13;\n                break;\n\n              case 8:\n                todoId = response._id;\n\n                if (!(this.filesToUpload && this.filesToUpload.length)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.next = 12;\n                return this.todos.uploadFile(this.filesToUpload, this.user._id, todoId);\n\n              case 12:\n                this.filesToUpload = [];\n\n              case 13:\n                this.showList = true;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function saveTodo() {\n        return _ref.apply(this, arguments);\n      }\n\n      return saveTodo;\n    }();\n\n    List.prototype.activate = function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.todos.getUserTodos(this.user._id);\n\n              case 2:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function activate() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return activate;\n    }();\n\n    List.prototype.editTodo = function editTodo(todo) {\n      this.todoObj = todo;\n      this.showList = false;\n    };\n\n    List.prototype.deleteTodo = function deleteTodo(todo) {\n      this.todos.deleteTodo(todo._id);\n    };\n\n    List.prototype.completeTodo = function completeTodo(todo) {\n      todo.completed = !todo.completed;\n      this.todoObj = todo;\n      this.saveTodo();\n    };\n\n    List.prototype.toggleShowCompleted = function toggleShowCompleted() {\n      this.showCompleted = !this.showCompleted;\n    };\n\n    List.prototype.back = function back() {\n      this.showList = true;\n    };\n\n    List.prototype.changeFiles = function changeFiles() {\n      this.filesToUpload = new Array();\n      this.filesToUpload.push(this.files[0]);\n    };\n\n    List.prototype.removeFile = function removeFile(index) {\n      this.filesToUpload.splice(index, 1);\n    };\n\n    return List;\n  }()) || _class);\n});\r\ndefine('resources/index',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.configure = configure;\n  function configure(config) {\n    config.globalResources(['./value-converters/date-format', './value-converters/completed', './elements/flatpickr']);\n  }\n});\r\ndefine('resources/data/data-services',['exports', 'aurelia-framework', 'aurelia-fetch-client'], function (exports, _aureliaFramework, _aureliaFetchClient) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DataServices = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var DataServices = exports.DataServices = (_dec = (0, _aureliaFramework.inject)(_aureliaFetchClient.HttpClient), _dec(_class = function () {\n    function DataServices(http) {\n      var _this = this;\n\n      _classCallCheck(this, DataServices);\n\n      this.httpClient = http;\n      this.BASE_URL = \"http://localhost:5000/api/\";\n      this.httpClient.configure(function (config) {\n        config.withBaseUrl(_this.BASE_URL).withDefaults({\n          credentials: 'same-origin',\n          headers: {\n            'Accept': 'application/json',\n            'X-Requested-With': 'Fetch'\n          }\n        }).withInterceptor({\n          request: function request(_request) {\n            var authHeader = 'Bearer ' + localStorage.getItem('aurelia_token');\n            _request.headers.append('Authorization', authHeader);\n            console.log('Requesting ' + _request.method + ' ' + _request.url);\n            return _request;\n          },\n          response: function response(_response) {\n            console.log('Received ' + _response.status + ' ' + _response.url);\n            return _response;\n          }\n        });\n      });\n    }\n\n    DataServices.prototype.get = function get(url) {\n      return this.httpClient.fetch(url).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return data;\n      }).catch(function (error) {\n        return error;\n      });\n    };\n\n    DataServices.prototype.post = function post(content, url) {\n      return this.httpClient.fetch(url, {\n        method: 'post',\n        body: (0, _aureliaFetchClient.json)(content)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (object) {\n        return object;\n      }).catch(function (error) {\n        return error;\n      });\n    };\n\n    DataServices.prototype.put = function put(content, url) {\n      return this.httpClient.fetch(url, {\n        method: 'put',\n        body: (0, _aureliaFetchClient.json)(content)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (object) {\n        return object;\n      }).catch(function (error) {\n        return error;\n      });\n    };\n\n    DataServices.prototype.delete = function _delete(url) {\n      return this.httpClient.fetch(url, {\n        method: 'delete'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (object) {\n        return object;\n      }).catch(function (error) {\n        return error;\n      });\n    };\n\n    DataServices.prototype.uploadFiles = function uploadFiles(files, url) {\n      return this.httpClient.fetch(url, {\n        method: 'post',\n        body: files\n      }).then(function (response) {\n        return response.json();\n      }).then(function (object) {\n        return object;\n      }).catch(function (error) {\n        return error;\n      });\n    };\n\n    return DataServices;\n  }()) || _class);\n});\r\ndefine('resources/data/todos',['exports', 'aurelia-framework', './data-services'], function (exports, _aureliaFramework, _dataServices) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ToDos = undefined;\n\n  function _asyncToGenerator(fn) {\n    return function () {\n      var gen = fn.apply(this, arguments);\n      return new Promise(function (resolve, reject) {\n        function step(key, arg) {\n          try {\n            var info = gen[key](arg);\n            var value = info.value;\n          } catch (error) {\n            reject(error);\n            return;\n          }\n\n          if (info.done) {\n            resolve(value);\n          } else {\n            return Promise.resolve(value).then(function (value) {\n              step(\"next\", value);\n            }, function (err) {\n              step(\"throw\", err);\n            });\n          }\n        }\n\n        return step(\"next\");\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var ToDos = exports.ToDos = (_dec = (0, _aureliaFramework.inject)(_dataServices.DataServices), _dec(_class = function () {\n    function ToDos(data) {\n      _classCallCheck(this, ToDos);\n\n      this.data = data;\n      this.TODO_SERVICE = 'todos';\n      this.todosArray = [];\n    }\n\n    ToDos.prototype.save = function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(todo) {\n        var response, _response;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!todo) {\n                  _context.next = 14;\n                  break;\n                }\n\n                if (todo._id) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.data.post(todo, this.TODO_SERVICE);\n\n              case 4:\n                response = _context.sent;\n\n                if (!response.error) {\n                  this.todosArray.push(response);\n                }\n                return _context.abrupt('return', response);\n\n              case 9:\n                _context.next = 11;\n                return this.data.put(todo, this.TODO_SERVICE + \"/\" + todo._id);\n\n              case 11:\n                _response = _context.sent;\n\n                if (!_response.error) {}\n                return _context.abrupt('return', _response);\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function save(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return save;\n    }();\n\n    ToDos.prototype.deleteTodo = function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(id) {\n        var response, i;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.data.delete(this.TODO_SERVICE + \"/\" + id);\n\n              case 2:\n                response = _context2.sent;\n\n                if (!response.error) {\n                  for (i = 0; i < this.todosArray.length; i++) {\n                    if (this.todosArray[i]._id === id) {\n                      this.todosArray.splice(i, 1);\n                    }\n                  }\n                }\n\n              case 4:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function deleteTodo(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return deleteTodo;\n    }();\n\n    ToDos.prototype.uploadFile = function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(files, userId, todoId) {\n        var formData, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                formData = new FormData();\n\n                files.forEach(function (item, index) {\n                  formData.append(\"file\" + index, item);\n                });\n                _context3.next = 4;\n                return this.data.uploadFiles(formData, this.TODO_SERVICE + \"/upload/\" + userId + \"/\" + todoId);\n\n              case 4:\n                response = _context3.sent;\n                return _context3.abrupt('return', response);\n\n              case 6:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function uploadFile(_x3, _x4, _x5) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return uploadFile;\n    }();\n\n    ToDos.prototype.getUserTodos = function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(id) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.data.get(this.TODO_SERVICE + \"/\" + id);\n\n              case 2:\n                response = _context4.sent;\n\n                if (!response.error && !response.message) {\n                  this.todosArray = response;\n                }\n\n              case 4:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getUserTodos(_x6) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return getUserTodos;\n    }();\n\n    return ToDos;\n  }()) || _class);\n});\r\ndefine('resources/data/users',['exports', 'aurelia-framework', './data-services'], function (exports, _aureliaFramework, _dataServices) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Users = undefined;\n\n  function _asyncToGenerator(fn) {\n    return function () {\n      var gen = fn.apply(this, arguments);\n      return new Promise(function (resolve, reject) {\n        function step(key, arg) {\n          try {\n            var info = gen[key](arg);\n            var value = info.value;\n          } catch (error) {\n            reject(error);\n            return;\n          }\n\n          if (info.done) {\n            resolve(value);\n          } else {\n            return Promise.resolve(value).then(function (value) {\n              step(\"next\", value);\n            }, function (err) {\n              step(\"throw\", err);\n            });\n          }\n        }\n\n        return step(\"next\");\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var Users = exports.Users = (_dec = (0, _aureliaFramework.inject)(_dataServices.DataServices), _dec(_class = function () {\n    function Users(data) {\n      _classCallCheck(this, Users);\n\n      this.data = data;\n\n      this.USER_SERVICE = 'users';\n    }\n\n    Users.prototype.save = function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(user) {\n        var serverResponse;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!user) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.data.post(user, this.USER_SERVICE);\n\n              case 3:\n                serverResponse = _context.sent;\n                return _context.abrupt('return', serverResponse);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function save(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return save;\n    }();\n\n    return Users;\n  }()) || _class);\n});\r\ndefine('resources/elements/flatpickr',['exports', 'aurelia-framework', 'flatpickr'], function (exports, _aureliaFramework, _flatpickr) {\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n        value: true\n    });\n    exports.FlatPickerCustomElement = undefined;\n\n    var _flatpickr2 = _interopRequireDefault(_flatpickr);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    function _initDefineProp(target, property, descriptor, context) {\n        if (!descriptor) return;\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n        });\n    }\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n        var desc = {};\n        Object['ke' + 'ys'](descriptor).forEach(function (key) {\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n\n        if ('value' in desc || desc.initializer) {\n            desc.writable = true;\n        }\n\n        desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n            return decorator(target, property, desc) || desc;\n        }, desc);\n\n        if (context && desc.initializer !== void 0) {\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n\n        if (desc.initializer === void 0) {\n            Object['define' + 'Property'](target, property, desc);\n            desc = null;\n        }\n\n        return desc;\n    }\n\n    function _initializerWarningHelper(descriptor, context) {\n        throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n    }\n\n    var _dec, _dec2, _class, _desc, _value, _class2, _descriptor;\n\n    var FlatPickerCustomElement = exports.FlatPickerCustomElement = (_dec = (0, _aureliaFramework.inject)(Element), _dec2 = (0, _aureliaFramework.bindable)({ defaultBindingMode: _aureliaFramework.bindingMode.twoWay }), _dec(_class = (_class2 = function () {\n        function FlatPickerCustomElement(element) {\n            _classCallCheck(this, FlatPickerCustomElement);\n\n            _initDefineProp(this, 'value', _descriptor, this);\n\n            this.element = element;\n        }\n\n        FlatPickerCustomElement.prototype.bind = function bind() {\n            var defaultConfig = {\n                altInput: true,\n                altFormat: \"F j, Y\",\n                wrap: true\n            };\n            this._config = Object.assign({}, defaultConfig);\n            this._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\n        };\n\n        FlatPickerCustomElement.prototype.attached = function attached() {\n            this.flatpickr = new _flatpickr2.default(this.element.querySelector('.aurelia-flatpickr'), this._config);\n        };\n\n        FlatPickerCustomElement.prototype.onChange = function onChange(selectedDates, dateStr, instance) {\n            this.value = selectedDates[0];\n        };\n\n        FlatPickerCustomElement.prototype.valueChanged = function valueChanged() {\n            if (!this.flatpickr) {\n                return;\n            }\n            if (this.value === this.flatpickr.selectedDates[0]) {\n                return;\n            }\n            var newDate = this.value ? this.value : undefined;\n            this.flatpickr.setDate(newDate);\n        };\n\n        return FlatPickerCustomElement;\n    }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, 'value', [_dec2], {\n        enumerable: true,\n        initializer: null\n    })), _class2)) || _class);\n});\r\ndefine('resources/value-converters/completed',[\"exports\"], function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var CompletedValueConverter = exports.CompletedValueConverter = function () {\n    function CompletedValueConverter() {\n      _classCallCheck(this, CompletedValueConverter);\n    }\n\n    CompletedValueConverter.prototype.toView = function toView(array, value) {\n      if (!value) {\n        return array.filter(function (item) {\n          return !item.completed;\n        });\n      } else {\n        return array;\n      }\n    };\n\n    return CompletedValueConverter;\n  }();\n});\r\ndefine('resources/value-converters/date-format',['exports', 'moment'], function (exports, _moment) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DateFormatValueConverter = undefined;\n\n  var _moment2 = _interopRequireDefault(_moment);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var DateFormatValueConverter = exports.DateFormatValueConverter = function () {\n    function DateFormatValueConverter() {\n      _classCallCheck(this, DateFormatValueConverter);\n    }\n\n    DateFormatValueConverter.prototype.toView = function toView(value) {\n      if (value === undefined || value === null) {\n        return;\n      }\n\n      return (0, _moment2.default)(value).format('MMM Do YYYY');\n    };\n\n    return DateFormatValueConverter;\n  }();\n});\r\ndefine('text!app.html', ['module'], function(module) { module.exports = \"<template><require from=\\\"resources/css/styles.css\\\"></require><router-view></router-view></template>\"; });\r\ndefine('text!resources/css/styles.css', ['module'], function(module) { module.exports = \"\\r\\n@charset \\\"UTF-8\\\";\\r\\n/* CSS Document */\\r\\n\\r\\n.jumbotron {\\r\\n    height: 150px;\\r\\n    font-size: 18px;\\r\\n    font-weight: bold;\\r\\n    text-align: center;\\r\\n  }\\r\\n\\r\\n  .left {\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.right {\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.wrapper {\\r\\n    width: 500px;\\r\\n    margin: auto;\\r\\n    padding: auto;\\r\\n    overflow: auto;\\r\\n}\"; });\r\ndefine('text!modules/home.html', ['module'], function(module) { module.exports = \"<template><div align=\\\"center\\\"><link href=\\\"../../resources/css/styles.css\\\" rel=\\\"stylesheet\\\"><div class=\\\"container\\\"><div class=\\\"jumbotron\\\"><h2>Welcome to the Todo App</h2><p>Please sign in below</p></div></div><compose show.bind=\\\"showLogin\\\" view=\\\"./components/login.html\\\"></compose><compose show.bind=\\\"!showLogin\\\" view=\\\"./components/register.html\\\"></compose></div></template>\"; });\r\ndefine('text!modules/list.html', ['module'], function(module) { module.exports = \"<template><div align=\\\"center\\\"><div class=\\\"container\\\"><div class=\\\"jumbotron\\\"><h2>Welcome to ${user.firstName}'s To Do List!</h2></div></div><compose show.bind=\\\"showList\\\" view=\\\"./components/todoList.html\\\"></compose><compose show.bind=\\\"!showList\\\" view=\\\"./components/todoForm.html\\\"></compose></div></template>\"; });\r\ndefine('text!modules/components/login.html', ['module'], function(module) { module.exports = \"<template><link href=\\\"../../resources/css/styles.css\\\" rel=\\\"stylesheet\\\">    <div id=\\\"errorMsg\\\" innerhtml.bind=\\\"loginError\\\"></div><center><div class=\\\"card\\\" style=\\\"width:600px\\\"><div class=\\\"card-body\\\"><h4 class=\\\"card-title\\\">Login</h4><div class=\\\"form-group col\\\"><div class=\\\"col-lg-6 col-lg-offset-6\\\">    <label for=\\\"email\\\">Email</label>    <input value.bind=\\\"email\\\" type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"email\\\" placeholder=\\\"Email\\\">    <label for=\\\"password\\\">Password</label>    <input value.bind=\\\"password\\\" type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"password\\\" placeholder=\\\"Password\\\"><br><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" click.trigger=\\\"login()\\\">Login</button>       <button type=\\\"button\\\" class=\\\"btn btn-link\\\" click.trigger=\\\"showRegister()\\\">Register</button></div></div></div>    </div></center></template>\"; });\r\ndefine('text!modules/components/register.html', ['module'], function(module) { module.exports = \"<template><h1 align=\\\"center\\\">Register for a ToDo Account!</h1><div align=\\\"center\\\"><table width=\\\"33%\\\" border=\\\"0\\\" cellpadding=\\\"6\\\"><tr><td width=\\\"33%\\\">First Name:</td><td width=\\\"67%\\\"><input value.bind=\\\"user.firstName\\\"></td></tr><tr><td>Last Name:</td><td><input value.bind=\\\"user.lastName\\\"></td></tr><tr><td>Email:</td><td><input value.bind=\\\"user.email\\\"></td></tr><tr><td>Password:</td><td><input value.bind=\\\"user.password\\\"></td></tr></table><button click.trigger=\\\"save()\\\" class=\\\"btn btn-primary topMargin\\\">Register</button></div></template>\"; });\r\ndefine('text!modules/components/todoForm.html', ['module'], function(module) { module.exports = \"<template><div class=\\\"card topMargin\\\"><div class=\\\"card-body\\\"><span><i click.trigger=\\\"back()\\\" class=\\\"fa fa-arrow-left fa-lg\\\" aria-hidden=\\\"true\\\"></i></span></div></div><form><div class=\\\"form-group topMargin\\\"><label for=\\\"todoInput\\\">Todo *</label><input value.bind=\\\"todoObj.todo\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"todoInput\\\" aria-describedby=\\\"todoHelp\\\" placeholder=\\\"Enter ToDo\\\"> <small id=\\\"todoHelp\\\" class=\\\"form-text text-muted\\\">Please keep it short.</small></div>        <div class=\\\"form-group\\\">            <label for=\\\"descriptionInput\\\">Description</label>            <textarea value.bind=\\\"todoObj.description\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"descriptionInput\\\" aria-describedby=\\\"descriptionHelp\\\" placeholder=\\\"Enter Description\\\"></textarea>            <small id=\\\"descriptionHelp\\\" class=\\\"form-text text-muted\\\">The description can be longer.</small>         </div><div class=\\\"form-group\\\">            <label for=\\\"priorityInput\\\">Priority</label>            <select value.bind=\\\"todoObj.priority\\\" class=\\\"form-control\\\" id=\\\"exampleFormControlSelect2\\\">                <option repeat.for=\\\"priority of priorities\\\" value.bind=\\\"priority\\\"> ${priority}</option>            </select>            <small id=\\\"priorityHelp\\\" class=\\\"form-text text-muted\\\">How urgent is this?</small>         </div>               <div class=\\\"form-group\\\">            <label for=\\\"dueDateInput\\\">Due Date *</label>            <flat-picker value.bind=\\\"todoObj.dateDue\\\"></flat-picker>            <small id=\\\"dueDateHelp\\\" class=\\\"form-text text-muted\\\">Due Date.</small>         </div><div class=\\\"row\\\"><div class=\\\"col\\\"><label class=\\\"btn btn-secondary\\\">Browse for files&hellip; <input type=\\\"file\\\" style=\\\"display:none\\\" change.delegate=\\\"changeFiles()\\\" files.bind=\\\"files\\\"></label><small id=\\\"fileHelp\\\" class=\\\"form-text text-muted\\\">Upload files that pertain to this todo.</small></div><div class=\\\"col-8\\\"><ul><li repeat.for=\\\"file of filesToUpload\\\" class=\\\"list-group-item\\\"> ${file.name}<span click.delegate=\\\"removeFile($index)\\\" class=\\\"pull-right\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></span></li></ul></div></div><br> <button click.trigger=\\\"saveTodo()\\\" class=\\\"btn btn-primary topMargin\\\">Save</button><br>    </form></template>\"; });\r\ndefine('text!modules/components/todoList.html', ['module'], function(module) { module.exports = \"<template><center><table width=\\\"42%\\\" border=\\\"0\\\" cellpadding=\\\"6\\\"><tr><td><div align=\\\"center\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary btn-md\\\" click.trigger=\\\"createTodo()\\\">Create a Todo</button> &nbsp; <button type=\\\"button\\\" class=\\\"btn btn-info btn-md\\\" click.trigger=\\\"logout()\\\">Logout</button></div></td></tr></table></center><table width=\\\"42%\\\" border=\\\"0\\\" cellpadding=\\\"6\\\"><tr><td><div align=\\\"center\\\"><div class=\\\"form-check\\\"><label class=\\\"form-check-label\\\"><div align=\\\"right\\\"><input change.trigger=\\\"toggleShowCompleted()\\\" type=\\\"checkbox\\\" class=\\\"form-check-input\\\"> Show completed</div></label></div></div></td></tr></table><center><div class=\\\"container\\\"><div show.bind=\\\"todos.todosArray.length\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table\\\"><thead><tr><th>ToDo</th><th>Due Date</th><th>Priority</th><th>File</th><th>Edit</th></tr></thead><tbody><tr class=\\\"${todo.priority === 'Critical' ? 'table-secondary' : ' '} \\\" repeat.for=\\\"todo of todos.todosArray | completed:showCompleted\\\"><th>${todo.todo}</th><td>${todo.dateDue | dateFormat}</td><td>${todo.priority}</td><td><a href=\\\"/uploads/${user._id}/${todo.file.filename}\\\" target=\\\"_blank\\\">${todo.file.originalName}</a></td><td><i click.trigger=\\\"editTodo(todo)\\\" class=\\\"fa fa-pencil rightMargin\\\" aria-hidden=\\\"true\\\"></i> <i click.trigger=\\\"deleteTodo(todo)\\\" class=\\\"fa fa-trash rightMargin\\\" aria-hidden=\\\"true\\\"></i> <i show.bind=\\\"!todo.completed\\\" click.trigger=\\\"completeTodo(todo)\\\" class=\\\"fa fa-square-o\\\" aria-hidden=\\\"true\\\"></i> <i show.bind=\\\"todo.completed \\\" click.trigger=\\\"completeTodo(todo)\\\" class=\\\"fa fa-check\\\" aria-hidden=\\\"true \\\"></i></td></tr></tbody></table></div></div></div></center><div show.bind=\\\"!todos.todosArray.length\\\"><h2>Cripes! You don't have anything to do!</h2></div></template>\"; });\r\ndefine('text!resources/elements/flatpickr.html', ['module'], function(module) { module.exports = \"<template>    <require from=\\\"flatpickr/flatpickr.css\\\"></require>    <div class=\\\"input-group aurelia-flatpickr\\\">        <input type=\\\"text\\\" class=\\\"aurelia-flatpickr form-control flatPicker\\\" data-input>     </div></template>\"; });\r\n//# sourceMappingURL=app-bundle.js.map","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2017 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.1\n * Features enabled: core\n * Features disabled: race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":17,\"./schedule\":18,\"./util\":21}],2:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],3:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":15}],4:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":21}],5:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":10,\"./util\":21}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    var self = this;\n    setTimeout(function() {\n        self._notifyUnhandledRejection();\n    }, 1);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":9,\"./util\":21}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":10,\"./util\":21}],10:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":5,\"./util\":21}],12:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":21}],13:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":21}],14:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":9,\"./es5\":10,\"./util\":21}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.1\";\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./async\":1,\"./bind\":2,\"./cancel\":4,\"./catch_filter\":5,\"./context\":6,\"./debuggability\":7,\"./direct_resolve\":8,\"./errors\":9,\"./es5\":10,\"./finally\":11,\"./join\":12,\"./method\":13,\"./nodeback\":14,\"./promise_array\":16,\"./synchronous_inspection\":19,\"./thenables\":20,\"./util\":21}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":21}],17:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],18:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":21}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],20:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":21}],21:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":10}]},{},[3])(3)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }\r\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\r\n/** vim: et:ts=4:sw=4:sts=4\n * @license RequireJS 2.3.5 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE\n */\n//Not using strict: uneven strict support in browsers, #392, and causes\n//problems with requirejs.exec()/transpiler plugins that may not be strict.\n/*jslint regexp: true, nomen: true, sloppy: true */\n/*global window, navigator, document, importScripts, setTimeout, opera */\n\nvar requirejs, require, define;\n(function (global, setTimeout) {\n    var req, s, head, baseElement, dataMain, src,\n        interactiveScript, currentlyAddingScript, mainScript, subPath,\n        version = '2.3.5',\n        commentRegExp = /\\/\\*[\\s\\S]*?\\*\\/|([^:\"'=]|^)\\/\\/.*$/mg,\n        cjsRequireRegExp = /[^.]\\s*require\\s*\\(\\s*[\"']([^'\"\\s]+)[\"']\\s*\\)/g,\n        jsSuffixRegExp = /\\.js$/,\n        currDirRegExp = /^\\.\\//,\n        op = Object.prototype,\n        ostring = op.toString,\n        hasOwn = op.hasOwnProperty,\n        isBrowser = !!(typeof window !== 'undefined' && typeof navigator !== 'undefined' && window.document),\n        isWebWorker = !isBrowser && typeof importScripts !== 'undefined',\n        //PS3 indicates loaded and complete, but need to wait for complete\n        //specifically. Sequence is 'loading', 'loaded', execution,\n        // then 'complete'. The UA check is unfortunate, but not sure how\n        //to feature test w/o causing perf issues.\n        readyRegExp = isBrowser && navigator.platform === 'PLAYSTATION 3' ?\n                      /^complete$/ : /^(complete|loaded)$/,\n        defContextName = '_',\n        //Oh the tragedy, detecting opera. See the usage of isOpera for reason.\n        isOpera = typeof opera !== 'undefined' && opera.toString() === '[object Opera]',\n        contexts = {},\n        cfg = {},\n        globalDefQueue = [],\n        useInteractive = false;\n\n    //Could match something like ')//comment', do not lose the prefix to comment.\n    function commentReplace(match, singlePrefix) {\n        return singlePrefix || '';\n    }\n\n    function isFunction(it) {\n        return ostring.call(it) === '[object Function]';\n    }\n\n    function isArray(it) {\n        return ostring.call(it) === '[object Array]';\n    }\n\n    /**\n     * Helper function for iterating over an array. If the func returns\n     * a true value, it will break out of the loop.\n     */\n    function each(ary, func) {\n        if (ary) {\n            var i;\n            for (i = 0; i < ary.length; i += 1) {\n                if (ary[i] && func(ary[i], i, ary)) {\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * Helper function for iterating over an array backwards. If the func\n     * returns a true value, it will break out of the loop.\n     */\n    function eachReverse(ary, func) {\n        if (ary) {\n            var i;\n            for (i = ary.length - 1; i > -1; i -= 1) {\n                if (ary[i] && func(ary[i], i, ary)) {\n                    break;\n                }\n            }\n        }\n    }\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    function getOwn(obj, prop) {\n        return hasProp(obj, prop) && obj[prop];\n    }\n\n    /**\n     * Cycles over properties in an object and calls a function for each\n     * property value. If the function returns a truthy value, then the\n     * iteration is stopped.\n     */\n    function eachProp(obj, func) {\n        var prop;\n        for (prop in obj) {\n            if (hasProp(obj, prop)) {\n                if (func(obj[prop], prop)) {\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * Simple function to mix in properties from source into target,\n     * but only if target does not already have a property of the same name.\n     */\n    function mixin(target, source, force, deepStringMixin) {\n        if (source) {\n            eachProp(source, function (value, prop) {\n                if (force || !hasProp(target, prop)) {\n                    if (deepStringMixin && typeof value === 'object' && value &&\n                        !isArray(value) && !isFunction(value) &&\n                        !(value instanceof RegExp)) {\n\n                        if (!target[prop]) {\n                            target[prop] = {};\n                        }\n                        mixin(target[prop], value, force, deepStringMixin);\n                    } else {\n                        target[prop] = value;\n                    }\n                }\n            });\n        }\n        return target;\n    }\n\n    //Similar to Function.prototype.bind, but the 'this' object is specified\n    //first, since it is easier to read/figure out what 'this' will be.\n    function bind(obj, fn) {\n        return function () {\n            return fn.apply(obj, arguments);\n        };\n    }\n\n    function scripts() {\n        return document.getElementsByTagName('script');\n    }\n\n    function defaultOnError(err) {\n        throw err;\n    }\n\n    //Allow getting a global that is expressed in\n    //dot notation, like 'a.b.c'.\n    function getGlobal(value) {\n        if (!value) {\n            return value;\n        }\n        var g = global;\n        each(value.split('.'), function (part) {\n            g = g[part];\n        });\n        return g;\n    }\n\n    /**\n     * Constructs an error with a pointer to an URL with more information.\n     * @param {String} id the error ID that maps to an ID on a web page.\n     * @param {String} message human readable error.\n     * @param {Error} [err] the original error, if there is one.\n     *\n     * @returns {Error}\n     */\n    function makeError(id, msg, err, requireModules) {\n        var e = new Error(msg + '\\nhttp://requirejs.org/docs/errors.html#' + id);\n        e.requireType = id;\n        e.requireModules = requireModules;\n        if (err) {\n            e.originalError = err;\n        }\n        return e;\n    }\n\n    if (typeof define !== 'undefined') {\n        //If a define is already in play via another AMD loader,\n        //do not overwrite.\n        return;\n    }\n\n    if (typeof requirejs !== 'undefined') {\n        if (isFunction(requirejs)) {\n            //Do not overwrite an existing requirejs instance.\n            return;\n        }\n        cfg = requirejs;\n        requirejs = undefined;\n    }\n\n    //Allow for a require config object\n    if (typeof require !== 'undefined' && !isFunction(require)) {\n        //assume it is a config object.\n        cfg = require;\n        require = undefined;\n    }\n\n    function newContext(contextName) {\n        var inCheckLoaded, Module, context, handlers,\n            checkLoadedTimeoutId,\n            config = {\n                //Defaults. Do not set a default for map\n                //config to speed up normalize(), which\n                //will run faster if there is no default.\n                waitSeconds: 7,\n                baseUrl: './',\n                paths: {},\n                bundles: {},\n                pkgs: {},\n                shim: {},\n                config: {}\n            },\n            registry = {},\n            //registry of just enabled modules, to speed\n            //cycle breaking code when lots of modules\n            //are registered, but not activated.\n            enabledRegistry = {},\n            undefEvents = {},\n            defQueue = [],\n            defined = {},\n            urlFetched = {},\n            bundlesMap = {},\n            requireCounter = 1,\n            unnormalizedCounter = 1;\n\n        /**\n         * Trims the . and .. from an array of path segments.\n         * It will keep a leading path segment if a .. will become\n         * the first path segment, to help with module name lookups,\n         * which act like paths, but can be remapped. But the end result,\n         * all paths that use this function should look normalized.\n         * NOTE: this method MODIFIES the input array.\n         * @param {Array} ary the array of path segments.\n         */\n        function trimDots(ary) {\n            var i, part;\n            for (i = 0; i < ary.length; i++) {\n                part = ary[i];\n                if (part === '.') {\n                    ary.splice(i, 1);\n                    i -= 1;\n                } else if (part === '..') {\n                    // If at the start, or previous value is still ..,\n                    // keep them so that when converted to a path it may\n                    // still work when converted to a path, even though\n                    // as an ID it is less than ideal. In larger point\n                    // releases, may be better to just kick out an error.\n                    if (i === 0 || (i === 1 && ary[2] === '..') || ary[i - 1] === '..') {\n                        continue;\n                    } else if (i > 0) {\n                        ary.splice(i - 1, 2);\n                        i -= 2;\n                    }\n                }\n            }\n        }\n\n        /**\n         * Given a relative module name, like ./something, normalize it to\n         * a real name that can be mapped to a path.\n         * @param {String} name the relative name\n         * @param {String} baseName a real name that the name arg is relative\n         * to.\n         * @param {Boolean} applyMap apply the map config to the value. Should\n         * only be done if this normalization is for a dependency ID.\n         * @returns {String} normalized name\n         */\n        function normalize(name, baseName, applyMap) {\n            var pkgMain, mapValue, nameParts, i, j, nameSegment, lastIndex,\n                foundMap, foundI, foundStarMap, starI, normalizedBaseParts,\n                baseParts = (baseName && baseName.split('/')),\n                map = config.map,\n                starMap = map && map['*'];\n\n            //Adjust any relative paths.\n            if (name) {\n                name = name.split('/');\n                lastIndex = name.length - 1;\n\n                // If wanting node ID compatibility, strip .js from end\n                // of IDs. Have to do this here, and not in nameToUrl\n                // because node allows either .js or non .js to map\n                // to same file.\n                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n                }\n\n                // Starts with a '.' so need the baseName\n                if (name[0].charAt(0) === '.' && baseParts) {\n                    //Convert baseName to array, and lop off the last part,\n                    //so that . matches that 'directory' and not name of the baseName's\n                    //module. For instance, baseName of 'one/two/three', maps to\n                    //'one/two/three.js', but we want the directory, 'one/two' for\n                    //this normalization.\n                    normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n                    name = normalizedBaseParts.concat(name);\n                }\n\n                trimDots(name);\n                name = name.join('/');\n            }\n\n            //Apply map config if available.\n            if (applyMap && map && (baseParts || starMap)) {\n                nameParts = name.split('/');\n\n                outerLoop: for (i = nameParts.length; i > 0; i -= 1) {\n                    nameSegment = nameParts.slice(0, i).join('/');\n\n                    if (baseParts) {\n                        //Find the longest baseName segment match in the config.\n                        //So, do joins on the biggest to smallest lengths of baseParts.\n                        for (j = baseParts.length; j > 0; j -= 1) {\n                            mapValue = getOwn(map, baseParts.slice(0, j).join('/'));\n\n                            //baseName segment has config, find if it has one for\n                            //this name.\n                            if (mapValue) {\n                                mapValue = getOwn(mapValue, nameSegment);\n                                if (mapValue) {\n                                    //Match, update name to the new value.\n                                    foundMap = mapValue;\n                                    foundI = i;\n                                    break outerLoop;\n                                }\n                            }\n                        }\n                    }\n\n                    //Check for a star map match, but just hold on to it,\n                    //if there is a shorter segment match later in a matching\n                    //config, then favor over this star map.\n                    if (!foundStarMap && starMap && getOwn(starMap, nameSegment)) {\n                        foundStarMap = getOwn(starMap, nameSegment);\n                        starI = i;\n                    }\n                }\n\n                if (!foundMap && foundStarMap) {\n                    foundMap = foundStarMap;\n                    foundI = starI;\n                }\n\n                if (foundMap) {\n                    nameParts.splice(0, foundI, foundMap);\n                    name = nameParts.join('/');\n                }\n            }\n\n            // If the name points to a package's name, use\n            // the package main instead.\n            pkgMain = getOwn(config.pkgs, name);\n\n            return pkgMain ? pkgMain : name;\n        }\n\n        function removeScript(name) {\n            if (isBrowser) {\n                each(scripts(), function (scriptNode) {\n                    if (scriptNode.getAttribute('data-requiremodule') === name &&\n                            scriptNode.getAttribute('data-requirecontext') === context.contextName) {\n                        scriptNode.parentNode.removeChild(scriptNode);\n                        return true;\n                    }\n                });\n            }\n        }\n\n        function hasPathFallback(id) {\n            var pathConfig = getOwn(config.paths, id);\n            if (pathConfig && isArray(pathConfig) && pathConfig.length > 1) {\n                //Pop off the first array value, since it failed, and\n                //retry\n                pathConfig.shift();\n                context.require.undef(id);\n\n                //Custom require that does not do map translation, since\n                //ID is \"absolute\", already mapped/resolved.\n                context.makeRequire(null, {\n                    skipMap: true\n                })([id]);\n\n                return true;\n            }\n        }\n\n        //Turns a plugin!resource to [plugin, resource]\n        //with the plugin being undefined if the name\n        //did not have a plugin prefix.\n        function splitPrefix(name) {\n            var prefix,\n                index = name ? name.indexOf('!') : -1;\n            if (index > -1) {\n                prefix = name.substring(0, index);\n                name = name.substring(index + 1, name.length);\n            }\n            return [prefix, name];\n        }\n\n        /**\n         * Creates a module mapping that includes plugin prefix, module\n         * name, and path. If parentModuleMap is provided it will\n         * also normalize the name via require.normalize()\n         *\n         * @param {String} name the module name\n         * @param {String} [parentModuleMap] parent module map\n         * for the module name, used to resolve relative names.\n         * @param {Boolean} isNormalized: is the ID already normalized.\n         * This is true if this call is done for a define() module ID.\n         * @param {Boolean} applyMap: apply the map config to the ID.\n         * Should only be true if this map is for a dependency.\n         *\n         * @returns {Object}\n         */\n        function makeModuleMap(name, parentModuleMap, isNormalized, applyMap) {\n            var url, pluginModule, suffix, nameParts,\n                prefix = null,\n                parentName = parentModuleMap ? parentModuleMap.name : null,\n                originalName = name,\n                isDefine = true,\n                normalizedName = '';\n\n            //If no name, then it means it is a require call, generate an\n            //internal name.\n            if (!name) {\n                isDefine = false;\n                name = '_@r' + (requireCounter += 1);\n            }\n\n            nameParts = splitPrefix(name);\n            prefix = nameParts[0];\n            name = nameParts[1];\n\n            if (prefix) {\n                prefix = normalize(prefix, parentName, applyMap);\n                pluginModule = getOwn(defined, prefix);\n            }\n\n            //Account for relative paths if there is a base name.\n            if (name) {\n                if (prefix) {\n                    if (isNormalized) {\n                        normalizedName = name;\n                    } else if (pluginModule && pluginModule.normalize) {\n                        //Plugin is loaded, use its normalize method.\n                        normalizedName = pluginModule.normalize(name, function (name) {\n                            return normalize(name, parentName, applyMap);\n                        });\n                    } else {\n                        // If nested plugin references, then do not try to\n                        // normalize, as it will not normalize correctly. This\n                        // places a restriction on resourceIds, and the longer\n                        // term solution is not to normalize until plugins are\n                        // loaded and all normalizations to allow for async\n                        // loading of a loader plugin. But for now, fixes the\n                        // common uses. Details in #1131\n                        normalizedName = name.indexOf('!') === -1 ?\n                                         normalize(name, parentName, applyMap) :\n                                         name;\n                    }\n                } else {\n                    //A regular module.\n                    normalizedName = normalize(name, parentName, applyMap);\n\n                    //Normalized name may be a plugin ID due to map config\n                    //application in normalize. The map config values must\n                    //already be normalized, so do not need to redo that part.\n                    nameParts = splitPrefix(normalizedName);\n                    prefix = nameParts[0];\n                    normalizedName = nameParts[1];\n                    isNormalized = true;\n\n                    url = context.nameToUrl(normalizedName);\n                }\n            }\n\n            //If the id is a plugin id that cannot be determined if it needs\n            //normalization, stamp it with a unique ID so two matching relative\n            //ids that may conflict can be separate.\n            suffix = prefix && !pluginModule && !isNormalized ?\n                     '_unnormalized' + (unnormalizedCounter += 1) :\n                     '';\n\n            return {\n                prefix: prefix,\n                name: normalizedName,\n                parentMap: parentModuleMap,\n                unnormalized: !!suffix,\n                url: url,\n                originalName: originalName,\n                isDefine: isDefine,\n                id: (prefix ?\n                        prefix + '!' + normalizedName :\n                        normalizedName) + suffix\n            };\n        }\n\n        function getModule(depMap) {\n            var id = depMap.id,\n                mod = getOwn(registry, id);\n\n            if (!mod) {\n                mod = registry[id] = new context.Module(depMap);\n            }\n\n            return mod;\n        }\n\n        function on(depMap, name, fn) {\n            var id = depMap.id,\n                mod = getOwn(registry, id);\n\n            if (hasProp(defined, id) &&\n                    (!mod || mod.defineEmitComplete)) {\n                if (name === 'defined') {\n                    fn(defined[id]);\n                }\n            } else {\n                mod = getModule(depMap);\n                if (mod.error && name === 'error') {\n                    fn(mod.error);\n                } else {\n                    mod.on(name, fn);\n                }\n            }\n        }\n\n        function onError(err, errback) {\n            var ids = err.requireModules,\n                notified = false;\n\n            if (errback) {\n                errback(err);\n            } else {\n                each(ids, function (id) {\n                    var mod = getOwn(registry, id);\n                    if (mod) {\n                        //Set error on module, so it skips timeout checks.\n                        mod.error = err;\n                        if (mod.events.error) {\n                            notified = true;\n                            mod.emit('error', err);\n                        }\n                    }\n                });\n\n                if (!notified) {\n                    req.onError(err);\n                }\n            }\n        }\n\n        /**\n         * Internal method to transfer globalQueue items to this context's\n         * defQueue.\n         */\n        function takeGlobalQueue() {\n            //Push all the globalDefQueue items into the context's defQueue\n            if (globalDefQueue.length) {\n                each(globalDefQueue, function(queueItem) {\n                    var id = queueItem[0];\n                    if (typeof id === 'string') {\n                        context.defQueueMap[id] = true;\n                    }\n                    defQueue.push(queueItem);\n                });\n                globalDefQueue = [];\n            }\n        }\n\n        handlers = {\n            'require': function (mod) {\n                if (mod.require) {\n                    return mod.require;\n                } else {\n                    return (mod.require = context.makeRequire(mod.map));\n                }\n            },\n            'exports': function (mod) {\n                mod.usingExports = true;\n                if (mod.map.isDefine) {\n                    if (mod.exports) {\n                        return (defined[mod.map.id] = mod.exports);\n                    } else {\n                        return (mod.exports = defined[mod.map.id] = {});\n                    }\n                }\n            },\n            'module': function (mod) {\n                if (mod.module) {\n                    return mod.module;\n                } else {\n                    return (mod.module = {\n                        id: mod.map.id,\n                        uri: mod.map.url,\n                        config: function () {\n                            return getOwn(config.config, mod.map.id) || {};\n                        },\n                        exports: mod.exports || (mod.exports = {})\n                    });\n                }\n            }\n        };\n\n        function cleanRegistry(id) {\n            //Clean up machinery used for waiting modules.\n            delete registry[id];\n            delete enabledRegistry[id];\n        }\n\n        function breakCycle(mod, traced, processed) {\n            var id = mod.map.id;\n\n            if (mod.error) {\n                mod.emit('error', mod.error);\n            } else {\n                traced[id] = true;\n                each(mod.depMaps, function (depMap, i) {\n                    var depId = depMap.id,\n                        dep = getOwn(registry, depId);\n\n                    //Only force things that have not completed\n                    //being defined, so still in the registry,\n                    //and only if it has not been matched up\n                    //in the module already.\n                    if (dep && !mod.depMatched[i] && !processed[depId]) {\n                        if (getOwn(traced, depId)) {\n                            mod.defineDep(i, defined[depId]);\n                            mod.check(); //pass false?\n                        } else {\n                            breakCycle(dep, traced, processed);\n                        }\n                    }\n                });\n                processed[id] = true;\n            }\n        }\n\n        function checkLoaded() {\n            var err, usingPathFallback,\n                waitInterval = config.waitSeconds * 1000,\n                //It is possible to disable the wait interval by using waitSeconds of 0.\n                expired = waitInterval && (context.startTime + waitInterval) < new Date().getTime(),\n                noLoads = [],\n                reqCalls = [],\n                stillLoading = false,\n                needCycleCheck = true;\n\n            //Do not bother if this call was a result of a cycle break.\n            if (inCheckLoaded) {\n                return;\n            }\n\n            inCheckLoaded = true;\n\n            //Figure out the state of all the modules.\n            eachProp(enabledRegistry, function (mod) {\n                var map = mod.map,\n                    modId = map.id;\n\n                //Skip things that are not enabled or in error state.\n                if (!mod.enabled) {\n                    return;\n                }\n\n                if (!map.isDefine) {\n                    reqCalls.push(mod);\n                }\n\n                if (!mod.error) {\n                    //If the module should be executed, and it has not\n                    //been inited and time is up, remember it.\n                    if (!mod.inited && expired) {\n                        if (hasPathFallback(modId)) {\n                            usingPathFallback = true;\n                            stillLoading = true;\n                        } else {\n                            noLoads.push(modId);\n                            removeScript(modId);\n                        }\n                    } else if (!mod.inited && mod.fetched && map.isDefine) {\n                        stillLoading = true;\n                        if (!map.prefix) {\n                            //No reason to keep looking for unfinished\n                            //loading. If the only stillLoading is a\n                            //plugin resource though, keep going,\n                            //because it may be that a plugin resource\n                            //is waiting on a non-plugin cycle.\n                            return (needCycleCheck = false);\n                        }\n                    }\n                }\n            });\n\n            if (expired && noLoads.length) {\n                //If wait time expired, throw error of unloaded modules.\n                err = makeError('timeout', 'Load timeout for modules: ' + noLoads, null, noLoads);\n                err.contextName = context.contextName;\n                return onError(err);\n            }\n\n            //Not expired, check for a cycle.\n            if (needCycleCheck) {\n                each(reqCalls, function (mod) {\n                    breakCycle(mod, {}, {});\n                });\n            }\n\n            //If still waiting on loads, and the waiting load is something\n            //other than a plugin resource, or there are still outstanding\n            //scripts, then just try back later.\n            if ((!expired || usingPathFallback) && stillLoading) {\n                //Something is still waiting to load. Wait for it, but only\n                //if a timeout is not already in effect.\n                if ((isBrowser || isWebWorker) && !checkLoadedTimeoutId) {\n                    checkLoadedTimeoutId = setTimeout(function () {\n                        checkLoadedTimeoutId = 0;\n                        checkLoaded();\n                    }, 50);\n                }\n            }\n\n            inCheckLoaded = false;\n        }\n\n        Module = function (map) {\n            this.events = getOwn(undefEvents, map.id) || {};\n            this.map = map;\n            this.shim = getOwn(config.shim, map.id);\n            this.depExports = [];\n            this.depMaps = [];\n            this.depMatched = [];\n            this.pluginMaps = {};\n            this.depCount = 0;\n\n            /* this.exports this.factory\n               this.depMaps = [],\n               this.enabled, this.fetched\n            */\n        };\n\n        Module.prototype = {\n            init: function (depMaps, factory, errback, options) {\n                options = options || {};\n\n                //Do not do more inits if already done. Can happen if there\n                //are multiple define calls for the same module. That is not\n                //a normal, common case, but it is also not unexpected.\n                if (this.inited) {\n                    return;\n                }\n\n                this.factory = factory;\n\n                if (errback) {\n                    //Register for errors on this module.\n                    this.on('error', errback);\n                } else if (this.events.error) {\n                    //If no errback already, but there are error listeners\n                    //on this module, set up an errback to pass to the deps.\n                    errback = bind(this, function (err) {\n                        this.emit('error', err);\n                    });\n                }\n\n                //Do a copy of the dependency array, so that\n                //source inputs are not modified. For example\n                //\"shim\" deps are passed in here directly, and\n                //doing a direct modification of the depMaps array\n                //would affect that config.\n                this.depMaps = depMaps && depMaps.slice(0);\n\n                this.errback = errback;\n\n                //Indicate this module has be initialized\n                this.inited = true;\n\n                this.ignore = options.ignore;\n\n                //Could have option to init this module in enabled mode,\n                //or could have been previously marked as enabled. However,\n                //the dependencies are not known until init is called. So\n                //if enabled previously, now trigger dependencies as enabled.\n                if (options.enabled || this.enabled) {\n                    //Enable this module and dependencies.\n                    //Will call this.check()\n                    this.enable();\n                } else {\n                    this.check();\n                }\n            },\n\n            defineDep: function (i, depExports) {\n                //Because of cycles, defined callback for a given\n                //export can be called more than once.\n                if (!this.depMatched[i]) {\n                    this.depMatched[i] = true;\n                    this.depCount -= 1;\n                    this.depExports[i] = depExports;\n                }\n            },\n\n            fetch: function () {\n                if (this.fetched) {\n                    return;\n                }\n                this.fetched = true;\n\n                context.startTime = (new Date()).getTime();\n\n                var map = this.map;\n\n                //If the manager is for a plugin managed resource,\n                //ask the plugin to load it now.\n                if (this.shim) {\n                    context.makeRequire(this.map, {\n                        enableBuildCallback: true\n                    })(this.shim.deps || [], bind(this, function () {\n                        return map.prefix ? this.callPlugin() : this.load();\n                    }));\n                } else {\n                    //Regular dependency.\n                    return map.prefix ? this.callPlugin() : this.load();\n                }\n            },\n\n            load: function () {\n                var url = this.map.url;\n\n                //Regular dependency.\n                if (!urlFetched[url]) {\n                    urlFetched[url] = true;\n                    context.load(this.map.id, url);\n                }\n            },\n\n            /**\n             * Checks if the module is ready to define itself, and if so,\n             * define it.\n             */\n            check: function () {\n                if (!this.enabled || this.enabling) {\n                    return;\n                }\n\n                var err, cjsModule,\n                    id = this.map.id,\n                    depExports = this.depExports,\n                    exports = this.exports,\n                    factory = this.factory;\n\n                if (!this.inited) {\n                    // Only fetch if not already in the defQueue.\n                    if (!hasProp(context.defQueueMap, id)) {\n                        this.fetch();\n                    }\n                } else if (this.error) {\n                    this.emit('error', this.error);\n                } else if (!this.defining) {\n                    //The factory could trigger another require call\n                    //that would result in checking this module to\n                    //define itself again. If already in the process\n                    //of doing that, skip this work.\n                    this.defining = true;\n\n                    if (this.depCount < 1 && !this.defined) {\n                        if (isFunction(factory)) {\n                            //If there is an error listener, favor passing\n                            //to that instead of throwing an error. However,\n                            //only do it for define()'d  modules. require\n                            //errbacks should not be called for failures in\n                            //their callbacks (#699). However if a global\n                            //onError is set, use that.\n                            if ((this.events.error && this.map.isDefine) ||\n                                req.onError !== defaultOnError) {\n                                try {\n                                    exports = context.execCb(id, factory, depExports, exports);\n                                } catch (e) {\n                                    err = e;\n                                }\n                            } else {\n                                exports = context.execCb(id, factory, depExports, exports);\n                            }\n\n                            // Favor return value over exports. If node/cjs in play,\n                            // then will not have a return value anyway. Favor\n                            // module.exports assignment over exports object.\n                            if (this.map.isDefine && exports === undefined) {\n                                cjsModule = this.module;\n                                if (cjsModule) {\n                                    exports = cjsModule.exports;\n                                } else if (this.usingExports) {\n                                    //exports already set the defined value.\n                                    exports = this.exports;\n                                }\n                            }\n\n                            if (err) {\n                                err.requireMap = this.map;\n                                err.requireModules = this.map.isDefine ? [this.map.id] : null;\n                                err.requireType = this.map.isDefine ? 'define' : 'require';\n                                return onError((this.error = err));\n                            }\n\n                        } else {\n                            //Just a literal value\n                            exports = factory;\n                        }\n\n                        this.exports = exports;\n\n                        if (this.map.isDefine && !this.ignore) {\n                            defined[id] = exports;\n\n                            if (req.onResourceLoad) {\n                                var resLoadMaps = [];\n                                each(this.depMaps, function (depMap) {\n                                    resLoadMaps.push(depMap.normalizedMap || depMap);\n                                });\n                                req.onResourceLoad(context, this.map, resLoadMaps);\n                            }\n                        }\n\n                        //Clean up\n                        cleanRegistry(id);\n\n                        this.defined = true;\n                    }\n\n                    //Finished the define stage. Allow calling check again\n                    //to allow define notifications below in the case of a\n                    //cycle.\n                    this.defining = false;\n\n                    if (this.defined && !this.defineEmitted) {\n                        this.defineEmitted = true;\n                        this.emit('defined', this.exports);\n                        this.defineEmitComplete = true;\n                    }\n\n                }\n            },\n\n            callPlugin: function () {\n                var map = this.map,\n                    id = map.id,\n                    //Map already normalized the prefix.\n                    pluginMap = makeModuleMap(map.prefix);\n\n                //Mark this as a dependency for this plugin, so it\n                //can be traced for cycles.\n                this.depMaps.push(pluginMap);\n\n                on(pluginMap, 'defined', bind(this, function (plugin) {\n                    var load, normalizedMap, normalizedMod,\n                        bundleId = getOwn(bundlesMap, this.map.id),\n                        name = this.map.name,\n                        parentName = this.map.parentMap ? this.map.parentMap.name : null,\n                        localRequire = context.makeRequire(map.parentMap, {\n                            enableBuildCallback: true\n                        });\n\n                    //If current map is not normalized, wait for that\n                    //normalized name to load instead of continuing.\n                    if (this.map.unnormalized) {\n                        //Normalize the ID if the plugin allows it.\n                        if (plugin.normalize) {\n                            name = plugin.normalize(name, function (name) {\n                                return normalize(name, parentName, true);\n                            }) || '';\n                        }\n\n                        //prefix and name should already be normalized, no need\n                        //for applying map config again either.\n                        normalizedMap = makeModuleMap(map.prefix + '!' + name,\n                                                      this.map.parentMap,\n                                                      true);\n                        on(normalizedMap,\n                            'defined', bind(this, function (value) {\n                                this.map.normalizedMap = normalizedMap;\n                                this.init([], function () { return value; }, null, {\n                                    enabled: true,\n                                    ignore: true\n                                });\n                            }));\n\n                        normalizedMod = getOwn(registry, normalizedMap.id);\n                        if (normalizedMod) {\n                            //Mark this as a dependency for this plugin, so it\n                            //can be traced for cycles.\n                            this.depMaps.push(normalizedMap);\n\n                            if (this.events.error) {\n                                normalizedMod.on('error', bind(this, function (err) {\n                                    this.emit('error', err);\n                                }));\n                            }\n                            normalizedMod.enable();\n                        }\n\n                        return;\n                    }\n\n                    //If a paths config, then just load that file instead to\n                    //resolve the plugin, as it is built into that paths layer.\n                    if (bundleId) {\n                        this.map.url = context.nameToUrl(bundleId);\n                        this.load();\n                        return;\n                    }\n\n                    load = bind(this, function (value) {\n                        this.init([], function () { return value; }, null, {\n                            enabled: true\n                        });\n                    });\n\n                    load.error = bind(this, function (err) {\n                        this.inited = true;\n                        this.error = err;\n                        err.requireModules = [id];\n\n                        //Remove temp unnormalized modules for this module,\n                        //since they will never be resolved otherwise now.\n                        eachProp(registry, function (mod) {\n                            if (mod.map.id.indexOf(id + '_unnormalized') === 0) {\n                                cleanRegistry(mod.map.id);\n                            }\n                        });\n\n                        onError(err);\n                    });\n\n                    //Allow plugins to load other code without having to know the\n                    //context or how to 'complete' the load.\n                    load.fromText = bind(this, function (text, textAlt) {\n                        /*jslint evil: true */\n                        var moduleName = map.name,\n                            moduleMap = makeModuleMap(moduleName),\n                            hasInteractive = useInteractive;\n\n                        //As of 2.1.0, support just passing the text, to reinforce\n                        //fromText only being called once per resource. Still\n                        //support old style of passing moduleName but discard\n                        //that moduleName in favor of the internal ref.\n                        if (textAlt) {\n                            text = textAlt;\n                        }\n\n                        //Turn off interactive script matching for IE for any define\n                        //calls in the text, then turn it back on at the end.\n                        if (hasInteractive) {\n                            useInteractive = false;\n                        }\n\n                        //Prime the system by creating a module instance for\n                        //it.\n                        getModule(moduleMap);\n\n                        //Transfer any config to this other module.\n                        if (hasProp(config.config, id)) {\n                            config.config[moduleName] = config.config[id];\n                        }\n\n                        try {\n                            req.exec(text);\n                        } catch (e) {\n                            return onError(makeError('fromtexteval',\n                                             'fromText eval for ' + id +\n                                            ' failed: ' + e,\n                                             e,\n                                             [id]));\n                        }\n\n                        if (hasInteractive) {\n                            useInteractive = true;\n                        }\n\n                        //Mark this as a dependency for the plugin\n                        //resource\n                        this.depMaps.push(moduleMap);\n\n                        //Support anonymous modules.\n                        context.completeLoad(moduleName);\n\n                        //Bind the value of that module to the value for this\n                        //resource ID.\n                        localRequire([moduleName], load);\n                    });\n\n                    //Use parentName here since the plugin's name is not reliable,\n                    //could be some weird string with no path that actually wants to\n                    //reference the parentName's path.\n                    plugin.load(map.name, localRequire, load, config);\n                }));\n\n                context.enable(pluginMap, this);\n                this.pluginMaps[pluginMap.id] = pluginMap;\n            },\n\n            enable: function () {\n                enabledRegistry[this.map.id] = this;\n                this.enabled = true;\n\n                //Set flag mentioning that the module is enabling,\n                //so that immediate calls to the defined callbacks\n                //for dependencies do not trigger inadvertent load\n                //with the depCount still being zero.\n                this.enabling = true;\n\n                //Enable each dependency\n                each(this.depMaps, bind(this, function (depMap, i) {\n                    var id, mod, handler;\n\n                    if (typeof depMap === 'string') {\n                        //Dependency needs to be converted to a depMap\n                        //and wired up to this module.\n                        depMap = makeModuleMap(depMap,\n                                               (this.map.isDefine ? this.map : this.map.parentMap),\n                                               false,\n                                               !this.skipMap);\n                        this.depMaps[i] = depMap;\n\n                        handler = getOwn(handlers, depMap.id);\n\n                        if (handler) {\n                            this.depExports[i] = handler(this);\n                            return;\n                        }\n\n                        this.depCount += 1;\n\n                        on(depMap, 'defined', bind(this, function (depExports) {\n                            if (this.undefed) {\n                                return;\n                            }\n                            this.defineDep(i, depExports);\n                            this.check();\n                        }));\n\n                        if (this.errback) {\n                            on(depMap, 'error', bind(this, this.errback));\n                        } else if (this.events.error) {\n                            // No direct errback on this module, but something\n                            // else is listening for errors, so be sure to\n                            // propagate the error correctly.\n                            on(depMap, 'error', bind(this, function(err) {\n                                this.emit('error', err);\n                            }));\n                        }\n                    }\n\n                    id = depMap.id;\n                    mod = registry[id];\n\n                    //Skip special modules like 'require', 'exports', 'module'\n                    //Also, don't call enable if it is already enabled,\n                    //important in circular dependency cases.\n                    if (!hasProp(handlers, id) && mod && !mod.enabled) {\n                        context.enable(depMap, this);\n                    }\n                }));\n\n                //Enable each plugin that is used in\n                //a dependency\n                eachProp(this.pluginMaps, bind(this, function (pluginMap) {\n                    var mod = getOwn(registry, pluginMap.id);\n                    if (mod && !mod.enabled) {\n                        context.enable(pluginMap, this);\n                    }\n                }));\n\n                this.enabling = false;\n\n                this.check();\n            },\n\n            on: function (name, cb) {\n                var cbs = this.events[name];\n                if (!cbs) {\n                    cbs = this.events[name] = [];\n                }\n                cbs.push(cb);\n            },\n\n            emit: function (name, evt) {\n                each(this.events[name], function (cb) {\n                    cb(evt);\n                });\n                if (name === 'error') {\n                    //Now that the error handler was triggered, remove\n                    //the listeners, since this broken Module instance\n                    //can stay around for a while in the registry.\n                    delete this.events[name];\n                }\n            }\n        };\n\n        function callGetModule(args) {\n            //Skip modules already defined.\n            if (!hasProp(defined, args[0])) {\n                getModule(makeModuleMap(args[0], null, true)).init(args[1], args[2]);\n            }\n        }\n\n        function removeListener(node, func, name, ieName) {\n            //Favor detachEvent because of IE9\n            //issue, see attachEvent/addEventListener comment elsewhere\n            //in this file.\n            if (node.detachEvent && !isOpera) {\n                //Probably IE. If not it will throw an error, which will be\n                //useful to know.\n                if (ieName) {\n                    node.detachEvent(ieName, func);\n                }\n            } else {\n                node.removeEventListener(name, func, false);\n            }\n        }\n\n        /**\n         * Given an event from a script node, get the requirejs info from it,\n         * and then removes the event listeners on the node.\n         * @param {Event} evt\n         * @returns {Object}\n         */\n        function getScriptData(evt) {\n            //Using currentTarget instead of target for Firefox 2.0's sake. Not\n            //all old browsers will be supported, but this one was easy enough\n            //to support and still makes sense.\n            var node = evt.currentTarget || evt.srcElement;\n\n            //Remove the listeners once here.\n            removeListener(node, context.onScriptLoad, 'load', 'onreadystatechange');\n            removeListener(node, context.onScriptError, 'error');\n\n            return {\n                node: node,\n                id: node && node.getAttribute('data-requiremodule')\n            };\n        }\n\n        function intakeDefines() {\n            var args;\n\n            //Any defined modules in the global queue, intake them now.\n            takeGlobalQueue();\n\n            //Make sure any remaining defQueue items get properly processed.\n            while (defQueue.length) {\n                args = defQueue.shift();\n                if (args[0] === null) {\n                    return onError(makeError('mismatch', 'Mismatched anonymous define() module: ' +\n                        args[args.length - 1]));\n                } else {\n                    //args are id, deps, factory. Should be normalized by the\n                    //define() function.\n                    callGetModule(args);\n                }\n            }\n            context.defQueueMap = {};\n        }\n\n        context = {\n            config: config,\n            contextName: contextName,\n            registry: registry,\n            defined: defined,\n            urlFetched: urlFetched,\n            defQueue: defQueue,\n            defQueueMap: {},\n            Module: Module,\n            makeModuleMap: makeModuleMap,\n            nextTick: req.nextTick,\n            onError: onError,\n\n            /**\n             * Set a configuration for the context.\n             * @param {Object} cfg config object to integrate.\n             */\n            configure: function (cfg) {\n                //Make sure the baseUrl ends in a slash.\n                if (cfg.baseUrl) {\n                    if (cfg.baseUrl.charAt(cfg.baseUrl.length - 1) !== '/') {\n                        cfg.baseUrl += '/';\n                    }\n                }\n\n                // Convert old style urlArgs string to a function.\n                if (typeof cfg.urlArgs === 'string') {\n                    var urlArgs = cfg.urlArgs;\n                    cfg.urlArgs = function(id, url) {\n                        return (url.indexOf('?') === -1 ? '?' : '&') + urlArgs;\n                    };\n                }\n\n                //Save off the paths since they require special processing,\n                //they are additive.\n                var shim = config.shim,\n                    objs = {\n                        paths: true,\n                        bundles: true,\n                        config: true,\n                        map: true\n                    };\n\n                eachProp(cfg, function (value, prop) {\n                    if (objs[prop]) {\n                        if (!config[prop]) {\n                            config[prop] = {};\n                        }\n                        mixin(config[prop], value, true, true);\n                    } else {\n                        config[prop] = value;\n                    }\n                });\n\n                //Reverse map the bundles\n                if (cfg.bundles) {\n                    eachProp(cfg.bundles, function (value, prop) {\n                        each(value, function (v) {\n                            if (v !== prop) {\n                                bundlesMap[v] = prop;\n                            }\n                        });\n                    });\n                }\n\n                //Merge shim\n                if (cfg.shim) {\n                    eachProp(cfg.shim, function (value, id) {\n                        //Normalize the structure\n                        if (isArray(value)) {\n                            value = {\n                                deps: value\n                            };\n                        }\n                        if ((value.exports || value.init) && !value.exportsFn) {\n                            value.exportsFn = context.makeShimExports(value);\n                        }\n                        shim[id] = value;\n                    });\n                    config.shim = shim;\n                }\n\n                //Adjust packages if necessary.\n                if (cfg.packages) {\n                    each(cfg.packages, function (pkgObj) {\n                        var location, name;\n\n                        pkgObj = typeof pkgObj === 'string' ? {name: pkgObj} : pkgObj;\n\n                        name = pkgObj.name;\n                        location = pkgObj.location;\n                        if (location) {\n                            config.paths[name] = pkgObj.location;\n                        }\n\n                        //Save pointer to main module ID for pkg name.\n                        //Remove leading dot in main, so main paths are normalized,\n                        //and remove any trailing .js, since different package\n                        //envs have different conventions: some use a module name,\n                        //some use a file name.\n                        config.pkgs[name] = pkgObj.name + '/' + (pkgObj.main || 'main')\n                                     .replace(currDirRegExp, '')\n                                     .replace(jsSuffixRegExp, '');\n                    });\n                }\n\n                //If there are any \"waiting to execute\" modules in the registry,\n                //update the maps for them, since their info, like URLs to load,\n                //may have changed.\n                eachProp(registry, function (mod, id) {\n                    //If module already has init called, since it is too\n                    //late to modify them, and ignore unnormalized ones\n                    //since they are transient.\n                    if (!mod.inited && !mod.map.unnormalized) {\n                        mod.map = makeModuleMap(id, null, true);\n                    }\n                });\n\n                //If a deps array or a config callback is specified, then call\n                //require with those args. This is useful when require is defined as a\n                //config object before require.js is loaded.\n                if (cfg.deps || cfg.callback) {\n                    context.require(cfg.deps || [], cfg.callback);\n                }\n            },\n\n            makeShimExports: function (value) {\n                function fn() {\n                    var ret;\n                    if (value.init) {\n                        ret = value.init.apply(global, arguments);\n                    }\n                    return ret || (value.exports && getGlobal(value.exports));\n                }\n                return fn;\n            },\n\n            makeRequire: function (relMap, options) {\n                options = options || {};\n\n                function localRequire(deps, callback, errback) {\n                    var id, map, requireMod;\n\n                    if (options.enableBuildCallback && callback && isFunction(callback)) {\n                        callback.__requireJsBuild = true;\n                    }\n\n                    if (typeof deps === 'string') {\n                        if (isFunction(callback)) {\n                            //Invalid call\n                            return onError(makeError('requireargs', 'Invalid require call'), errback);\n                        }\n\n                        //If require|exports|module are requested, get the\n                        //value for them from the special handlers. Caveat:\n                        //this only works while module is being defined.\n                        if (relMap && hasProp(handlers, deps)) {\n                            return handlers[deps](registry[relMap.id]);\n                        }\n\n                        //Synchronous access to one module. If require.get is\n                        //available (as in the Node adapter), prefer that.\n                        if (req.get) {\n                            return req.get(context, deps, relMap, localRequire);\n                        }\n\n                        //Normalize module name, if it contains . or ..\n                        map = makeModuleMap(deps, relMap, false, true);\n                        id = map.id;\n\n                        if (!hasProp(defined, id)) {\n                            return onError(makeError('notloaded', 'Module name \"' +\n                                        id +\n                                        '\" has not been loaded yet for context: ' +\n                                        contextName +\n                                        (relMap ? '' : '. Use require([])')));\n                        }\n                        return defined[id];\n                    }\n\n                    //Grab defines waiting in the global queue.\n                    intakeDefines();\n\n                    //Mark all the dependencies as needing to be loaded.\n                    context.nextTick(function () {\n                        //Some defines could have been added since the\n                        //require call, collect them.\n                        intakeDefines();\n\n                        requireMod = getModule(makeModuleMap(null, relMap));\n\n                        //Store if map config should be applied to this require\n                        //call for dependencies.\n                        requireMod.skipMap = options.skipMap;\n\n                        requireMod.init(deps, callback, errback, {\n                            enabled: true\n                        });\n\n                        checkLoaded();\n                    });\n\n                    return localRequire;\n                }\n\n                mixin(localRequire, {\n                    isBrowser: isBrowser,\n\n                    /**\n                     * Converts a module name + .extension into an URL path.\n                     * *Requires* the use of a module name. It does not support using\n                     * plain URLs like nameToUrl.\n                     */\n                    toUrl: function (moduleNamePlusExt) {\n                        var ext,\n                            index = moduleNamePlusExt.lastIndexOf('.'),\n                            segment = moduleNamePlusExt.split('/')[0],\n                            isRelative = segment === '.' || segment === '..';\n\n                        //Have a file extension alias, and it is not the\n                        //dots from a relative path.\n                        if (index !== -1 && (!isRelative || index > 1)) {\n                            ext = moduleNamePlusExt.substring(index, moduleNamePlusExt.length);\n                            moduleNamePlusExt = moduleNamePlusExt.substring(0, index);\n                        }\n\n                        return context.nameToUrl(normalize(moduleNamePlusExt,\n                                                relMap && relMap.id, true), ext,  true);\n                    },\n\n                    defined: function (id) {\n                        return hasProp(defined, makeModuleMap(id, relMap, false, true).id);\n                    },\n\n                    specified: function (id) {\n                        id = makeModuleMap(id, relMap, false, true).id;\n                        return hasProp(defined, id) || hasProp(registry, id);\n                    }\n                });\n\n                //Only allow undef on top level require calls\n                if (!relMap) {\n                    localRequire.undef = function (id) {\n                        //Bind any waiting define() calls to this context,\n                        //fix for #408\n                        takeGlobalQueue();\n\n                        var map = makeModuleMap(id, relMap, true),\n                            mod = getOwn(registry, id);\n\n                        mod.undefed = true;\n                        removeScript(id);\n\n                        delete defined[id];\n                        delete urlFetched[map.url];\n                        delete undefEvents[id];\n\n                        //Clean queued defines too. Go backwards\n                        //in array so that the splices do not\n                        //mess up the iteration.\n                        eachReverse(defQueue, function(args, i) {\n                            if (args[0] === id) {\n                                defQueue.splice(i, 1);\n                            }\n                        });\n                        delete context.defQueueMap[id];\n\n                        if (mod) {\n                            //Hold on to listeners in case the\n                            //module will be attempted to be reloaded\n                            //using a different config.\n                            if (mod.events.defined) {\n                                undefEvents[id] = mod.events;\n                            }\n\n                            cleanRegistry(id);\n                        }\n                    };\n                }\n\n                return localRequire;\n            },\n\n            /**\n             * Called to enable a module if it is still in the registry\n             * awaiting enablement. A second arg, parent, the parent module,\n             * is passed in for context, when this method is overridden by\n             * the optimizer. Not shown here to keep code compact.\n             */\n            enable: function (depMap) {\n                var mod = getOwn(registry, depMap.id);\n                if (mod) {\n                    getModule(depMap).enable();\n                }\n            },\n\n            /**\n             * Internal method used by environment adapters to complete a load event.\n             * A load event could be a script load or just a load pass from a synchronous\n             * load call.\n             * @param {String} moduleName the name of the module to potentially complete.\n             */\n            completeLoad: function (moduleName) {\n                var found, args, mod,\n                    shim = getOwn(config.shim, moduleName) || {},\n                    shExports = shim.exports;\n\n                takeGlobalQueue();\n\n                while (defQueue.length) {\n                    args = defQueue.shift();\n                    if (args[0] === null) {\n                        args[0] = moduleName;\n                        //If already found an anonymous module and bound it\n                        //to this name, then this is some other anon module\n                        //waiting for its completeLoad to fire.\n                        if (found) {\n                            break;\n                        }\n                        found = true;\n                    } else if (args[0] === moduleName) {\n                        //Found matching define call for this script!\n                        found = true;\n                    }\n\n                    callGetModule(args);\n                }\n                context.defQueueMap = {};\n\n                //Do this after the cycle of callGetModule in case the result\n                //of those calls/init calls changes the registry.\n                mod = getOwn(registry, moduleName);\n\n                if (!found && !hasProp(defined, moduleName) && mod && !mod.inited) {\n                    if (config.enforceDefine && (!shExports || !getGlobal(shExports))) {\n                        if (hasPathFallback(moduleName)) {\n                            return;\n                        } else {\n                            return onError(makeError('nodefine',\n                                             'No define call for ' + moduleName,\n                                             null,\n                                             [moduleName]));\n                        }\n                    } else {\n                        //A script that does not call define(), so just simulate\n                        //the call for it.\n                        callGetModule([moduleName, (shim.deps || []), shim.exportsFn]);\n                    }\n                }\n\n                checkLoaded();\n            },\n\n            /**\n             * Converts a module name to a file path. Supports cases where\n             * moduleName may actually be just an URL.\n             * Note that it **does not** call normalize on the moduleName,\n             * it is assumed to have already been normalized. This is an\n             * internal API, not a public one. Use toUrl for the public API.\n             */\n            nameToUrl: function (moduleName, ext, skipExt) {\n                var paths, syms, i, parentModule, url,\n                    parentPath, bundleId,\n                    pkgMain = getOwn(config.pkgs, moduleName);\n\n                if (pkgMain) {\n                    moduleName = pkgMain;\n                }\n\n                bundleId = getOwn(bundlesMap, moduleName);\n\n                if (bundleId) {\n                    return context.nameToUrl(bundleId, ext, skipExt);\n                }\n\n                //If a colon is in the URL, it indicates a protocol is used and it is just\n                //an URL to a file, or if it starts with a slash, contains a query arg (i.e. ?)\n                //or ends with .js, then assume the user meant to use an url and not a module id.\n                //The slash is important for protocol-less URLs as well as full paths.\n                if (req.jsExtRegExp.test(moduleName)) {\n                    //Just a plain path, not module name lookup, so just return it.\n                    //Add extension if it is included. This is a bit wonky, only non-.js things pass\n                    //an extension, this method probably needs to be reworked.\n                    url = moduleName + (ext || '');\n                } else {\n                    //A module that needs to be converted to a path.\n                    paths = config.paths;\n\n                    syms = moduleName.split('/');\n                    //For each module name segment, see if there is a path\n                    //registered for it. Start with most specific name\n                    //and work up from it.\n                    for (i = syms.length; i > 0; i -= 1) {\n                        parentModule = syms.slice(0, i).join('/');\n\n                        parentPath = getOwn(paths, parentModule);\n                        if (parentPath) {\n                            //If an array, it means there are a few choices,\n                            //Choose the one that is desired\n                            if (isArray(parentPath)) {\n                                parentPath = parentPath[0];\n                            }\n                            syms.splice(0, i, parentPath);\n                            break;\n                        }\n                    }\n\n                    //Join the path parts together, then figure out if baseUrl is needed.\n                    url = syms.join('/');\n                    url += (ext || (/^data\\:|^blob\\:|\\?/.test(url) || skipExt ? '' : '.js'));\n                    url = (url.charAt(0) === '/' || url.match(/^[\\w\\+\\.\\-]+:/) ? '' : config.baseUrl) + url;\n                }\n\n                return config.urlArgs && !/^blob\\:/.test(url) ?\n                       url + config.urlArgs(moduleName, url) : url;\n            },\n\n            //Delegates to req.load. Broken out as a separate function to\n            //allow overriding in the optimizer.\n            load: function (id, url) {\n                req.load(context, id, url);\n            },\n\n            /**\n             * Executes a module callback function. Broken out as a separate function\n             * solely to allow the build system to sequence the files in the built\n             * layer in the right sequence.\n             *\n             * @private\n             */\n            execCb: function (name, callback, args, exports) {\n                return callback.apply(exports, args);\n            },\n\n            /**\n             * callback for script loads, used to check status of loading.\n             *\n             * @param {Event} evt the event from the browser for the script\n             * that was loaded.\n             */\n            onScriptLoad: function (evt) {\n                //Using currentTarget instead of target for Firefox 2.0's sake. Not\n                //all old browsers will be supported, but this one was easy enough\n                //to support and still makes sense.\n                if (evt.type === 'load' ||\n                        (readyRegExp.test((evt.currentTarget || evt.srcElement).readyState))) {\n                    //Reset interactive script so a script node is not held onto for\n                    //to long.\n                    interactiveScript = null;\n\n                    //Pull out the name of the module and the context.\n                    var data = getScriptData(evt);\n                    context.completeLoad(data.id);\n                }\n            },\n\n            /**\n             * Callback for script errors.\n             */\n            onScriptError: function (evt) {\n                var data = getScriptData(evt);\n                if (!hasPathFallback(data.id)) {\n                    var parents = [];\n                    eachProp(registry, function(value, key) {\n                        if (key.indexOf('_@r') !== 0) {\n                            each(value.depMaps, function(depMap) {\n                                if (depMap.id === data.id) {\n                                    parents.push(key);\n                                    return true;\n                                }\n                            });\n                        }\n                    });\n                    return onError(makeError('scripterror', 'Script error for \"' + data.id +\n                                             (parents.length ?\n                                             '\", needed by: ' + parents.join(', ') :\n                                             '\"'), evt, [data.id]));\n                }\n            }\n        };\n\n        context.require = context.makeRequire();\n        return context;\n    }\n\n    /**\n     * Main entry point.\n     *\n     * If the only argument to require is a string, then the module that\n     * is represented by that string is fetched for the appropriate context.\n     *\n     * If the first argument is an array, then it will be treated as an array\n     * of dependency string names to fetch. An optional function callback can\n     * be specified to execute when all of those dependencies are available.\n     *\n     * Make a local req variable to help Caja compliance (it assumes things\n     * on a require that are not standardized), and to give a short\n     * name for minification/local scope use.\n     */\n    req = requirejs = function (deps, callback, errback, optional) {\n\n        //Find the right context, use default\n        var context, config,\n            contextName = defContextName;\n\n        // Determine if have config object in the call.\n        if (!isArray(deps) && typeof deps !== 'string') {\n            // deps is a config object\n            config = deps;\n            if (isArray(callback)) {\n                // Adjust args if there are dependencies\n                deps = callback;\n                callback = errback;\n                errback = optional;\n            } else {\n                deps = [];\n            }\n        }\n\n        if (config && config.context) {\n            contextName = config.context;\n        }\n\n        context = getOwn(contexts, contextName);\n        if (!context) {\n            context = contexts[contextName] = req.s.newContext(contextName);\n        }\n\n        if (config) {\n            context.configure(config);\n        }\n\n        return context.require(deps, callback, errback);\n    };\n\n    /**\n     * Support require.config() to make it easier to cooperate with other\n     * AMD loaders on globally agreed names.\n     */\n    req.config = function (config) {\n        return req(config);\n    };\n\n    /**\n     * Execute something after the current tick\n     * of the event loop. Override for other envs\n     * that have a better solution than setTimeout.\n     * @param  {Function} fn function to execute later.\n     */\n    req.nextTick = typeof setTimeout !== 'undefined' ? function (fn) {\n        setTimeout(fn, 4);\n    } : function (fn) { fn(); };\n\n    /**\n     * Export require as a global, but only if it does not already exist.\n     */\n    if (!require) {\n        require = req;\n    }\n\n    req.version = version;\n\n    //Used to filter out dependencies that are already paths.\n    req.jsExtRegExp = /^\\/|:|\\?|\\.js$/;\n    req.isBrowser = isBrowser;\n    s = req.s = {\n        contexts: contexts,\n        newContext: newContext\n    };\n\n    //Create default context.\n    req({});\n\n    //Exports some context-sensitive methods on global require.\n    each([\n        'toUrl',\n        'undef',\n        'defined',\n        'specified'\n    ], function (prop) {\n        //Reference from contexts instead of early binding to default context,\n        //so that during builds, the latest instance of the default context\n        //with its config gets used.\n        req[prop] = function () {\n            var ctx = contexts[defContextName];\n            return ctx.require[prop].apply(ctx, arguments);\n        };\n    });\n\n    if (isBrowser) {\n        head = s.head = document.getElementsByTagName('head')[0];\n        //If BASE tag is in play, using appendChild is a problem for IE6.\n        //When that browser dies, this can be removed. Details in this jQuery bug:\n        //http://dev.jquery.com/ticket/2709\n        baseElement = document.getElementsByTagName('base')[0];\n        if (baseElement) {\n            head = s.head = baseElement.parentNode;\n        }\n    }\n\n    /**\n     * Any errors that require explicitly generates will be passed to this\n     * function. Intercept/override it if you want custom error handling.\n     * @param {Error} err the error object.\n     */\n    req.onError = defaultOnError;\n\n    /**\n     * Creates the node for the load command. Only used in browser envs.\n     */\n    req.createNode = function (config, moduleName, url) {\n        var node = config.xhtml ?\n                document.createElementNS('http://www.w3.org/1999/xhtml', 'html:script') :\n                document.createElement('script');\n        node.type = config.scriptType || 'text/javascript';\n        node.charset = 'utf-8';\n        node.async = true;\n        return node;\n    };\n\n    /**\n     * Does the request to load a module for the browser case.\n     * Make this a separate function to allow other environments\n     * to override it.\n     *\n     * @param {Object} context the require context to find state.\n     * @param {String} moduleName the name of the module.\n     * @param {Object} url the URL to the module.\n     */\n    req.load = function (context, moduleName, url) {\n        var config = (context && context.config) || {},\n            node;\n        if (isBrowser) {\n            //In the browser so use a script tag\n            node = req.createNode(config, moduleName, url);\n\n            node.setAttribute('data-requirecontext', context.contextName);\n            node.setAttribute('data-requiremodule', moduleName);\n\n            //Set up load listener. Test attachEvent first because IE9 has\n            //a subtle issue in its addEventListener and script onload firings\n            //that do not match the behavior of all other browsers with\n            //addEventListener support, which fire the onload event for a\n            //script right after the script execution. See:\n            //https://connect.microsoft.com/IE/feedback/details/648057/script-onload-event-is-not-fired-immediately-after-script-execution\n            //UNFORTUNATELY Opera implements attachEvent but does not follow the script\n            //script execution mode.\n            if (node.attachEvent &&\n                    //Check if node.attachEvent is artificially added by custom script or\n                    //natively supported by browser\n                    //read https://github.com/requirejs/requirejs/issues/187\n                    //if we can NOT find [native code] then it must NOT natively supported.\n                    //in IE8, node.attachEvent does not have toString()\n                    //Note the test for \"[native code\" with no closing brace, see:\n                    //https://github.com/requirejs/requirejs/issues/273\n                    !(node.attachEvent.toString && node.attachEvent.toString().indexOf('[native code') < 0) &&\n                    !isOpera) {\n                //Probably IE. IE (at least 6-8) do not fire\n                //script onload right after executing the script, so\n                //we cannot tie the anonymous define call to a name.\n                //However, IE reports the script as being in 'interactive'\n                //readyState at the time of the define call.\n                useInteractive = true;\n\n                node.attachEvent('onreadystatechange', context.onScriptLoad);\n                //It would be great to add an error handler here to catch\n                //404s in IE9+. However, onreadystatechange will fire before\n                //the error handler, so that does not help. If addEventListener\n                //is used, then IE will fire error before load, but we cannot\n                //use that pathway given the connect.microsoft.com issue\n                //mentioned above about not doing the 'script execute,\n                //then fire the script load event listener before execute\n                //next script' that other browsers do.\n                //Best hope: IE10 fixes the issues,\n                //and then destroys all installs of IE 6-9.\n                //node.attachEvent('onerror', context.onScriptError);\n            } else {\n                node.addEventListener('load', context.onScriptLoad, false);\n                node.addEventListener('error', context.onScriptError, false);\n            }\n            node.src = url;\n\n            //Calling onNodeCreated after all properties on the node have been\n            //set, but before it is placed in the DOM.\n            if (config.onNodeCreated) {\n                config.onNodeCreated(node, config, moduleName, url);\n            }\n\n            //For some cache cases in IE 6-8, the script executes before the end\n            //of the appendChild execution, so to tie an anonymous define\n            //call to the module name (which is stored on the node), hold on\n            //to a reference to this node, but clear after the DOM insertion.\n            currentlyAddingScript = node;\n            if (baseElement) {\n                head.insertBefore(node, baseElement);\n            } else {\n                head.appendChild(node);\n            }\n            currentlyAddingScript = null;\n\n            return node;\n        } else if (isWebWorker) {\n            try {\n                //In a web worker, use importScripts. This is not a very\n                //efficient use of importScripts, importScripts will block until\n                //its script is downloaded and evaluated. However, if web workers\n                //are in play, the expectation is that a build has been done so\n                //that only one script needs to be loaded anyway. This may need\n                //to be reevaluated if other use cases become common.\n\n                // Post a task to the event loop to work around a bug in WebKit\n                // where the worker gets garbage-collected after calling\n                // importScripts(): https://webkit.org/b/153317\n                setTimeout(function() {}, 0);\n                importScripts(url);\n\n                //Account for anonymous modules\n                context.completeLoad(moduleName);\n            } catch (e) {\n                context.onError(makeError('importscripts',\n                                'importScripts failed for ' +\n                                    moduleName + ' at ' + url,\n                                e,\n                                [moduleName]));\n            }\n        }\n    };\n\n    function getInteractiveScript() {\n        if (interactiveScript && interactiveScript.readyState === 'interactive') {\n            return interactiveScript;\n        }\n\n        eachReverse(scripts(), function (script) {\n            if (script.readyState === 'interactive') {\n                return (interactiveScript = script);\n            }\n        });\n        return interactiveScript;\n    }\n\n    //Look for a data-main script attribute, which could also adjust the baseUrl.\n    if (isBrowser && !cfg.skipDataMain) {\n        //Figure out baseUrl. Get it from the script tag with require.js in it.\n        eachReverse(scripts(), function (script) {\n            //Set the 'head' where we can append children by\n            //using the script's parent.\n            if (!head) {\n                head = script.parentNode;\n            }\n\n            //Look for a data-main attribute to set main script for the page\n            //to load. If it is there, the path to data main becomes the\n            //baseUrl, if it is not already set.\n            dataMain = script.getAttribute('data-main');\n            if (dataMain) {\n                //Preserve dataMain in case it is a path (i.e. contains '?')\n                mainScript = dataMain;\n\n                //Set final baseUrl if there is not already an explicit one,\n                //but only do so if the data-main value is not a loader plugin\n                //module ID.\n                if (!cfg.baseUrl && mainScript.indexOf('!') === -1) {\n                    //Pull off the directory of data-main for use as the\n                    //baseUrl.\n                    src = mainScript.split('/');\n                    mainScript = src.pop();\n                    subPath = src.length ? src.join('/')  + '/' : './';\n\n                    cfg.baseUrl = subPath;\n                }\n\n                //Strip off any trailing .js since mainScript is now\n                //like a module name.\n                mainScript = mainScript.replace(jsSuffixRegExp, '');\n\n                //If mainScript is still a path, fall back to dataMain\n                if (req.jsExtRegExp.test(mainScript)) {\n                    mainScript = dataMain;\n                }\n\n                //Put the data-main script in the files to load.\n                cfg.deps = cfg.deps ? cfg.deps.concat(mainScript) : [mainScript];\n\n                return true;\n            }\n        });\n    }\n\n    /**\n     * The function that handles definitions of modules. Differs from\n     * require() in that a string for the module should be the first argument,\n     * and the function to execute after dependencies are loaded should\n     * return a value to define the module corresponding to the first argument's\n     * name.\n     */\n    define = function (name, deps, callback) {\n        var node, context;\n\n        //Allow for anonymous modules\n        if (typeof name !== 'string') {\n            //Adjust args appropriately\n            callback = deps;\n            deps = name;\n            name = null;\n        }\n\n        //This module may not have dependencies\n        if (!isArray(deps)) {\n            callback = deps;\n            deps = null;\n        }\n\n        //If no name, and callback is a function, then figure out if it a\n        //CommonJS thing with dependencies.\n        if (!deps && isFunction(callback)) {\n            deps = [];\n            //Remove comments from the callback string,\n            //look for require calls, and pull them into the dependencies,\n            //but only if there are function args.\n            if (callback.length) {\n                callback\n                    .toString()\n                    .replace(commentRegExp, commentReplace)\n                    .replace(cjsRequireRegExp, function (match, dep) {\n                        deps.push(dep);\n                    });\n\n                //May be a CommonJS thing even without require calls, but still\n                //could use exports, and module. Avoid doing exports and module\n                //work though if it just needs require.\n                //REQUIRES the function to expect the CommonJS variables in the\n                //order listed below.\n                deps = (callback.length === 1 ? ['require'] : ['require', 'exports', 'module']).concat(deps);\n            }\n        }\n\n        //If in IE 6-8 and hit an anonymous define() call, do the interactive\n        //work.\n        if (useInteractive) {\n            node = currentlyAddingScript || getInteractiveScript();\n            if (node) {\n                if (!name) {\n                    name = node.getAttribute('data-requiremodule');\n                }\n                context = contexts[node.getAttribute('data-requirecontext')];\n            }\n        }\n\n        //Always save off evaluating the def call until the script onload handler.\n        //This allows multiple modules to be in a file without prematurely\n        //tracing dependencies, and allows for anonymous module support,\n        //where the module name is not known until the script onload event\n        //occurs. If no context, use the global queue, and get it processed\n        //in the onscript load callback.\n        if (context) {\n            context.defQueue.push([name, deps, callback]);\n            context.defQueueMap[name] = true;\n        } else {\n            globalDefQueue.push([name, deps, callback]);\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n\n    /**\n     * Executes the text. Normally just uses eval, but can be modified\n     * to use a better, environment-specific call. Only used for transpiling\n     * loader plugins, not for plain JS modules.\n     * @param {String} text the text to execute/evaluate.\n     */\n    req.exec = function (text) {\n        /*jslint evil: true */\n        return eval(text);\n    };\n\n    //Set up with config info.\n    req(cfg);\n}(this, (typeof setTimeout === 'undefined' ? undefined : setTimeout)));\n\r\n_aureliaConfigureModuleLoader();\r\ndefine('aurelia-binding',['exports', 'aurelia-logging', 'aurelia-pal', 'aurelia-task-queue', 'aurelia-metadata'], function (exports, _aureliaLogging, _aureliaPal, _aureliaTaskQueue, _aureliaMetadata) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getSetObserver = exports.BindingEngine = exports.NameExpression = exports.Listener = exports.ListenerExpression = exports.BindingBehaviorResource = exports.ValueConverterResource = exports.Call = exports.CallExpression = exports.Binding = exports.BindingExpression = exports.ObjectObservationAdapter = exports.ObserverLocator = exports.SVGAnalyzer = exports.presentationAttributes = exports.presentationElements = exports.elements = exports.ComputedExpression = exports.ClassObserver = exports.SelectValueObserver = exports.CheckedObserver = exports.ValueAttributeObserver = exports.StyleObserver = exports.DataAttributeObserver = exports.dataAttributeAccessor = exports.XLinkAttributeObserver = exports.SetterObserver = exports.PrimitiveObserver = exports.propertyAccessor = exports.DirtyCheckProperty = exports.DirtyChecker = exports.EventManager = exports.delegationStrategy = exports.getMapObserver = exports.ParserImplementation = exports.Parser = exports.Scanner = exports.Lexer = exports.Token = exports.bindingMode = exports.ExpressionCloner = exports.Unparser = exports.LiteralObject = exports.LiteralArray = exports.LiteralString = exports.LiteralPrimitive = exports.PrefixNot = exports.Binary = exports.CallFunction = exports.CallMember = exports.CallScope = exports.AccessKeyed = exports.AccessMember = exports.AccessScope = exports.AccessThis = exports.Conditional = exports.Assign = exports.ValueConverter = exports.BindingBehavior = exports.Chain = exports.Expression = exports.getArrayObserver = exports.CollectionLengthObserver = exports.ModifyCollectionObserver = exports.ExpressionObserver = exports.sourceContext = exports.targetContext = undefined;\n  exports.camelCase = camelCase;\n  exports.createOverrideContext = createOverrideContext;\n  exports.getContextFor = getContextFor;\n  exports.createScopeForTest = createScopeForTest;\n  exports.connectable = connectable;\n  exports.enqueueBindingConnect = enqueueBindingConnect;\n  exports.subscriberCollection = subscriberCollection;\n  exports.calcSplices = calcSplices;\n  exports.mergeSplice = mergeSplice;\n  exports.projectArraySplices = projectArraySplices;\n  exports.getChangeRecords = getChangeRecords;\n  exports.cloneExpression = cloneExpression;\n  exports.hasDeclaredDependencies = hasDeclaredDependencies;\n  exports.declarePropertyDependencies = declarePropertyDependencies;\n  exports.computedFrom = computedFrom;\n  exports.createComputedObserver = createComputedObserver;\n  exports.valueConverter = valueConverter;\n  exports.bindingBehavior = bindingBehavior;\n  exports.observable = observable;\n  exports.connectBindingToSignal = connectBindingToSignal;\n  exports.signalBindings = signalBindings;\n\n  var LogManager = _interopRequireWildcard(_aureliaLogging);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  \n\n  var _dec, _dec2, _class, _dec3, _class2, _dec4, _class3, _dec5, _class5, _dec6, _class7, _dec7, _class8, _dec8, _class9, _dec9, _class10, _class12, _temp, _dec10, _class13, _class14, _temp2;\n\n  var targetContext = exports.targetContext = 'Binding:target';\n  var sourceContext = exports.sourceContext = 'Binding:source';\n\n  var map = Object.create(null);\n\n  function camelCase(name) {\n    if (name in map) {\n      return map[name];\n    }\n    var result = name.charAt(0).toLowerCase() + name.slice(1).replace(/[_.-](\\w|$)/g, function (_, x) {\n      return x.toUpperCase();\n    });\n    map[name] = result;\n    return result;\n  }\n\n  function createOverrideContext(bindingContext, parentOverrideContext) {\n    return {\n      bindingContext: bindingContext,\n      parentOverrideContext: parentOverrideContext || null\n    };\n  }\n\n  function getContextFor(name, scope, ancestor) {\n    var oc = scope.overrideContext;\n\n    if (ancestor) {\n      while (ancestor && oc) {\n        ancestor--;\n        oc = oc.parentOverrideContext;\n      }\n      if (ancestor || !oc) {\n        return undefined;\n      }\n      return name in oc ? oc : oc.bindingContext;\n    }\n\n    while (oc && !(name in oc) && !(oc.bindingContext && name in oc.bindingContext)) {\n      oc = oc.parentOverrideContext;\n    }\n    if (oc) {\n      return name in oc ? oc : oc.bindingContext;\n    }\n\n    return scope.bindingContext || scope.overrideContext;\n  }\n\n  function createScopeForTest(bindingContext, parentBindingContext) {\n    if (parentBindingContext) {\n      return {\n        bindingContext: bindingContext,\n        overrideContext: createOverrideContext(bindingContext, createOverrideContext(parentBindingContext))\n      };\n    }\n    return {\n      bindingContext: bindingContext,\n      overrideContext: createOverrideContext(bindingContext)\n    };\n  }\n\n  var slotNames = [];\n  var versionSlotNames = [];\n\n  for (var i = 0; i < 100; i++) {\n    slotNames.push('_observer' + i);\n    versionSlotNames.push('_observerVersion' + i);\n  }\n\n  function addObserver(observer) {\n    var observerSlots = this._observerSlots === undefined ? 0 : this._observerSlots;\n    var i = observerSlots;\n    while (i-- && this[slotNames[i]] !== observer) {}\n\n    if (i === -1) {\n      i = 0;\n      while (this[slotNames[i]]) {\n        i++;\n      }\n      this[slotNames[i]] = observer;\n      observer.subscribe(sourceContext, this);\n\n      if (i === observerSlots) {\n        this._observerSlots = i + 1;\n      }\n    }\n\n    if (this._version === undefined) {\n      this._version = 0;\n    }\n    this[versionSlotNames[i]] = this._version;\n  }\n\n  function observeProperty(obj, propertyName) {\n    var observer = this.observerLocator.getObserver(obj, propertyName);\n    addObserver.call(this, observer);\n  }\n\n  function observeArray(array) {\n    var observer = this.observerLocator.getArrayObserver(array);\n    addObserver.call(this, observer);\n  }\n\n  function unobserve(all) {\n    var i = this._observerSlots;\n    while (i--) {\n      if (all || this[versionSlotNames[i]] !== this._version) {\n        var observer = this[slotNames[i]];\n        this[slotNames[i]] = null;\n        if (observer) {\n          observer.unsubscribe(sourceContext, this);\n        }\n      }\n    }\n  }\n\n  function connectable() {\n    return function (target) {\n      target.prototype.observeProperty = observeProperty;\n      target.prototype.observeArray = observeArray;\n      target.prototype.unobserve = unobserve;\n      target.prototype.addObserver = addObserver;\n    };\n  }\n\n  var queue = [];\n  var queued = {};\n  var nextId = 0;\n  var minimumImmediate = 100;\n  var frameBudget = 15;\n\n  var isFlushRequested = false;\n  var immediate = 0;\n\n  function flush(animationFrameStart) {\n    var length = queue.length;\n    var i = 0;\n    while (i < length) {\n      var binding = queue[i];\n      queued[binding.__connectQueueId] = false;\n      binding.connect(true);\n      i++;\n\n      if (i % 100 === 0 && _aureliaPal.PLATFORM.performance.now() - animationFrameStart > frameBudget) {\n        break;\n      }\n    }\n    queue.splice(0, i);\n\n    if (queue.length) {\n      _aureliaPal.PLATFORM.requestAnimationFrame(flush);\n    } else {\n      isFlushRequested = false;\n      immediate = 0;\n    }\n  }\n\n  function enqueueBindingConnect(binding) {\n    if (immediate < minimumImmediate) {\n      immediate++;\n      binding.connect(false);\n    } else {\n      var id = binding.__connectQueueId;\n      if (id === undefined) {\n        id = nextId;\n        nextId++;\n        binding.__connectQueueId = id;\n      }\n\n      if (!queued[id]) {\n        queue.push(binding);\n        queued[id] = true;\n      }\n    }\n    if (!isFlushRequested) {\n      isFlushRequested = true;\n      _aureliaPal.PLATFORM.requestAnimationFrame(flush);\n    }\n  }\n\n  function addSubscriber(context, callable) {\n    if (this.hasSubscriber(context, callable)) {\n      return false;\n    }\n    if (!this._context0) {\n      this._context0 = context;\n      this._callable0 = callable;\n      return true;\n    }\n    if (!this._context1) {\n      this._context1 = context;\n      this._callable1 = callable;\n      return true;\n    }\n    if (!this._context2) {\n      this._context2 = context;\n      this._callable2 = callable;\n      return true;\n    }\n    if (!this._contextsRest) {\n      this._contextsRest = [context];\n      this._callablesRest = [callable];\n      return true;\n    }\n    this._contextsRest.push(context);\n    this._callablesRest.push(callable);\n    return true;\n  }\n\n  function removeSubscriber(context, callable) {\n    if (this._context0 === context && this._callable0 === callable) {\n      this._context0 = null;\n      this._callable0 = null;\n      return true;\n    }\n    if (this._context1 === context && this._callable1 === callable) {\n      this._context1 = null;\n      this._callable1 = null;\n      return true;\n    }\n    if (this._context2 === context && this._callable2 === callable) {\n      this._context2 = null;\n      this._callable2 = null;\n      return true;\n    }\n    var callables = this._callablesRest;\n    if (callables === undefined || callables.length === 0) {\n      return false;\n    }\n    var contexts = this._contextsRest;\n    var i = 0;\n    while (!(callables[i] === callable && contexts[i] === context) && callables.length > i) {\n      i++;\n    }\n    if (i >= callables.length) {\n      return false;\n    }\n    contexts.splice(i, 1);\n    callables.splice(i, 1);\n    return true;\n  }\n\n  var arrayPool1 = [];\n  var arrayPool2 = [];\n  var poolUtilization = [];\n\n  function callSubscribers(newValue, oldValue) {\n    var context0 = this._context0;\n    var callable0 = this._callable0;\n    var context1 = this._context1;\n    var callable1 = this._callable1;\n    var context2 = this._context2;\n    var callable2 = this._callable2;\n    var length = this._contextsRest ? this._contextsRest.length : 0;\n    var contextsRest = void 0;\n    var callablesRest = void 0;\n    var poolIndex = void 0;\n    var i = void 0;\n    if (length) {\n      poolIndex = poolUtilization.length;\n      while (poolIndex-- && poolUtilization[poolIndex]) {}\n      if (poolIndex < 0) {\n        poolIndex = poolUtilization.length;\n        contextsRest = [];\n        callablesRest = [];\n        poolUtilization.push(true);\n        arrayPool1.push(contextsRest);\n        arrayPool2.push(callablesRest);\n      } else {\n        poolUtilization[poolIndex] = true;\n        contextsRest = arrayPool1[poolIndex];\n        callablesRest = arrayPool2[poolIndex];\n      }\n\n      i = length;\n      while (i--) {\n        contextsRest[i] = this._contextsRest[i];\n        callablesRest[i] = this._callablesRest[i];\n      }\n    }\n\n    if (context0) {\n      if (callable0) {\n        callable0.call(context0, newValue, oldValue);\n      } else {\n        context0(newValue, oldValue);\n      }\n    }\n    if (context1) {\n      if (callable1) {\n        callable1.call(context1, newValue, oldValue);\n      } else {\n        context1(newValue, oldValue);\n      }\n    }\n    if (context2) {\n      if (callable2) {\n        callable2.call(context2, newValue, oldValue);\n      } else {\n        context2(newValue, oldValue);\n      }\n    }\n    if (length) {\n      for (i = 0; i < length; i++) {\n        var callable = callablesRest[i];\n        var context = contextsRest[i];\n        if (callable) {\n          callable.call(context, newValue, oldValue);\n        } else {\n          context(newValue, oldValue);\n        }\n        contextsRest[i] = null;\n        callablesRest[i] = null;\n      }\n      poolUtilization[poolIndex] = false;\n    }\n  }\n\n  function hasSubscribers() {\n    return !!(this._context0 || this._context1 || this._context2 || this._contextsRest && this._contextsRest.length);\n  }\n\n  function hasSubscriber(context, callable) {\n    var has = this._context0 === context && this._callable0 === callable || this._context1 === context && this._callable1 === callable || this._context2 === context && this._callable2 === callable;\n    if (has) {\n      return true;\n    }\n    var index = void 0;\n    var contexts = this._contextsRest;\n    if (!contexts || (index = contexts.length) === 0) {\n      return false;\n    }\n    var callables = this._callablesRest;\n    while (index--) {\n      if (contexts[index] === context && callables[index] === callable) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  function subscriberCollection() {\n    return function (target) {\n      target.prototype.addSubscriber = addSubscriber;\n      target.prototype.removeSubscriber = removeSubscriber;\n      target.prototype.callSubscribers = callSubscribers;\n      target.prototype.hasSubscribers = hasSubscribers;\n      target.prototype.hasSubscriber = hasSubscriber;\n    };\n  }\n\n  var ExpressionObserver = exports.ExpressionObserver = (_dec = connectable(), _dec2 = subscriberCollection(), _dec(_class = _dec2(_class = function () {\n    function ExpressionObserver(scope, expression, observerLocator, lookupFunctions) {\n      \n\n      this.scope = scope;\n      this.expression = expression;\n      this.observerLocator = observerLocator;\n      this.lookupFunctions = lookupFunctions;\n    }\n\n    ExpressionObserver.prototype.getValue = function getValue() {\n      return this.expression.evaluate(this.scope, this.lookupFunctions);\n    };\n\n    ExpressionObserver.prototype.setValue = function setValue(newValue) {\n      this.expression.assign(this.scope, newValue);\n    };\n\n    ExpressionObserver.prototype.subscribe = function subscribe(context, callable) {\n      var _this = this;\n\n      if (!this.hasSubscribers()) {\n        this.oldValue = this.expression.evaluate(this.scope, this.lookupFunctions);\n        this.expression.connect(this, this.scope);\n      }\n      this.addSubscriber(context, callable);\n      if (arguments.length === 1 && context instanceof Function) {\n        return {\n          dispose: function dispose() {\n            _this.unsubscribe(context, callable);\n          }\n        };\n      }\n    };\n\n    ExpressionObserver.prototype.unsubscribe = function unsubscribe(context, callable) {\n      if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n        this.unobserve(true);\n        this.oldValue = undefined;\n      }\n    };\n\n    ExpressionObserver.prototype.call = function call() {\n      var newValue = this.expression.evaluate(this.scope, this.lookupFunctions);\n      var oldValue = this.oldValue;\n      if (newValue !== oldValue) {\n        this.oldValue = newValue;\n        this.callSubscribers(newValue, oldValue);\n      }\n      this._version++;\n      this.expression.connect(this, this.scope);\n      this.unobserve(false);\n    };\n\n    return ExpressionObserver;\n  }()) || _class) || _class);\n\n\n  function isIndex(s) {\n    return +s === s >>> 0;\n  }\n\n  function toNumber(s) {\n    return +s;\n  }\n\n  function newSplice(index, removed, addedCount) {\n    return {\n      index: index,\n      removed: removed,\n      addedCount: addedCount\n    };\n  }\n\n  var EDIT_LEAVE = 0;\n  var EDIT_UPDATE = 1;\n  var EDIT_ADD = 2;\n  var EDIT_DELETE = 3;\n\n  function ArraySplice() {}\n\n  ArraySplice.prototype = {\n    calcEditDistances: function calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n      var rowCount = oldEnd - oldStart + 1;\n      var columnCount = currentEnd - currentStart + 1;\n      var distances = new Array(rowCount);\n      var north = void 0;\n      var west = void 0;\n\n      for (var _i = 0; _i < rowCount; ++_i) {\n        distances[_i] = new Array(columnCount);\n        distances[_i][0] = _i;\n      }\n\n      for (var j = 0; j < columnCount; ++j) {\n        distances[0][j] = j;\n      }\n\n      for (var _i2 = 1; _i2 < rowCount; ++_i2) {\n        for (var _j = 1; _j < columnCount; ++_j) {\n          if (this.equals(current[currentStart + _j - 1], old[oldStart + _i2 - 1])) {\n            distances[_i2][_j] = distances[_i2 - 1][_j - 1];\n          } else {\n            north = distances[_i2 - 1][_j] + 1;\n            west = distances[_i2][_j - 1] + 1;\n            distances[_i2][_j] = north < west ? north : west;\n          }\n        }\n      }\n\n      return distances;\n    },\n\n    spliceOperationsFromEditDistances: function spliceOperationsFromEditDistances(distances) {\n      var i = distances.length - 1;\n      var j = distances[0].length - 1;\n      var current = distances[i][j];\n      var edits = [];\n      while (i > 0 || j > 0) {\n        if (i === 0) {\n          edits.push(EDIT_ADD);\n          j--;\n          continue;\n        }\n        if (j === 0) {\n          edits.push(EDIT_DELETE);\n          i--;\n          continue;\n        }\n        var northWest = distances[i - 1][j - 1];\n        var west = distances[i - 1][j];\n        var north = distances[i][j - 1];\n\n        var min = void 0;\n        if (west < north) {\n          min = west < northWest ? west : northWest;\n        } else {\n          min = north < northWest ? north : northWest;\n        }\n\n        if (min === northWest) {\n          if (northWest === current) {\n            edits.push(EDIT_LEAVE);\n          } else {\n            edits.push(EDIT_UPDATE);\n            current = northWest;\n          }\n          i--;\n          j--;\n        } else if (min === west) {\n          edits.push(EDIT_DELETE);\n          i--;\n          current = west;\n        } else {\n          edits.push(EDIT_ADD);\n          j--;\n          current = north;\n        }\n      }\n\n      edits.reverse();\n      return edits;\n    },\n\n    calcSplices: function calcSplices(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n      var prefixCount = 0;\n      var suffixCount = 0;\n\n      var minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n      if (currentStart === 0 && oldStart === 0) {\n        prefixCount = this.sharedPrefix(current, old, minLength);\n      }\n\n      if (currentEnd === current.length && oldEnd === old.length) {\n        suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n      }\n\n      currentStart += prefixCount;\n      oldStart += prefixCount;\n      currentEnd -= suffixCount;\n      oldEnd -= suffixCount;\n\n      if (currentEnd - currentStart === 0 && oldEnd - oldStart === 0) {\n        return [];\n      }\n\n      if (currentStart === currentEnd) {\n        var _splice = newSplice(currentStart, [], 0);\n        while (oldStart < oldEnd) {\n          _splice.removed.push(old[oldStart++]);\n        }\n\n        return [_splice];\n      } else if (oldStart === oldEnd) {\n        return [newSplice(currentStart, [], currentEnd - currentStart)];\n      }\n\n      var ops = this.spliceOperationsFromEditDistances(this.calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd));\n\n      var splice = undefined;\n      var splices = [];\n      var index = currentStart;\n      var oldIndex = oldStart;\n      for (var _i3 = 0; _i3 < ops.length; ++_i3) {\n        switch (ops[_i3]) {\n          case EDIT_LEAVE:\n            if (splice) {\n              splices.push(splice);\n              splice = undefined;\n            }\n\n            index++;\n            oldIndex++;\n            break;\n          case EDIT_UPDATE:\n            if (!splice) {\n              splice = newSplice(index, [], 0);\n            }\n\n            splice.addedCount++;\n            index++;\n\n            splice.removed.push(old[oldIndex]);\n            oldIndex++;\n            break;\n          case EDIT_ADD:\n            if (!splice) {\n              splice = newSplice(index, [], 0);\n            }\n\n            splice.addedCount++;\n            index++;\n            break;\n          case EDIT_DELETE:\n            if (!splice) {\n              splice = newSplice(index, [], 0);\n            }\n\n            splice.removed.push(old[oldIndex]);\n            oldIndex++;\n            break;\n        }\n      }\n\n      if (splice) {\n        splices.push(splice);\n      }\n      return splices;\n    },\n\n    sharedPrefix: function sharedPrefix(current, old, searchLength) {\n      for (var _i4 = 0; _i4 < searchLength; ++_i4) {\n        if (!this.equals(current[_i4], old[_i4])) {\n          return _i4;\n        }\n      }\n\n      return searchLength;\n    },\n\n    sharedSuffix: function sharedSuffix(current, old, searchLength) {\n      var index1 = current.length;\n      var index2 = old.length;\n      var count = 0;\n      while (count < searchLength && this.equals(current[--index1], old[--index2])) {\n        count++;\n      }\n\n      return count;\n    },\n\n    calculateSplices: function calculateSplices(current, previous) {\n      return this.calcSplices(current, 0, current.length, previous, 0, previous.length);\n    },\n\n    equals: function equals(currentValue, previousValue) {\n      return currentValue === previousValue;\n    }\n  };\n\n  var arraySplice = new ArraySplice();\n\n  function calcSplices(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n    return arraySplice.calcSplices(current, currentStart, currentEnd, old, oldStart, oldEnd);\n  }\n\n  function intersect(start1, end1, start2, end2) {\n    if (end1 < start2 || end2 < start1) {\n      return -1;\n    }\n\n    if (end1 === start2 || end2 === start1) {\n      return 0;\n    }\n\n    if (start1 < start2) {\n      if (end1 < end2) {\n        return end1 - start2;\n      }\n\n      return end2 - start2;\n    }\n\n    if (end2 < end1) {\n      return end2 - start1;\n    }\n\n    return end1 - start1;\n  }\n\n  function mergeSplice(splices, index, removed, addedCount) {\n    var splice = newSplice(index, removed, addedCount);\n\n    var inserted = false;\n    var insertionOffset = 0;\n\n    for (var _i5 = 0; _i5 < splices.length; _i5++) {\n      var current = splices[_i5];\n      current.index += insertionOffset;\n\n      if (inserted) {\n        continue;\n      }\n\n      var intersectCount = intersect(splice.index, splice.index + splice.removed.length, current.index, current.index + current.addedCount);\n\n      if (intersectCount >= 0) {\n\n        splices.splice(_i5, 1);\n        _i5--;\n\n        insertionOffset -= current.addedCount - current.removed.length;\n\n        splice.addedCount += current.addedCount - intersectCount;\n        var deleteCount = splice.removed.length + current.removed.length - intersectCount;\n\n        if (!splice.addedCount && !deleteCount) {\n          inserted = true;\n        } else {\n          var currentRemoved = current.removed;\n\n          if (splice.index < current.index) {\n            var prepend = splice.removed.slice(0, current.index - splice.index);\n            Array.prototype.push.apply(prepend, currentRemoved);\n            currentRemoved = prepend;\n          }\n\n          if (splice.index + splice.removed.length > current.index + current.addedCount) {\n            var append = splice.removed.slice(current.index + current.addedCount - splice.index);\n            Array.prototype.push.apply(currentRemoved, append);\n          }\n\n          splice.removed = currentRemoved;\n          if (current.index < splice.index) {\n            splice.index = current.index;\n          }\n        }\n      } else if (splice.index < current.index) {\n\n        inserted = true;\n\n        splices.splice(_i5, 0, splice);\n        _i5++;\n\n        var offset = splice.addedCount - splice.removed.length;\n        current.index += offset;\n        insertionOffset += offset;\n      }\n    }\n\n    if (!inserted) {\n      splices.push(splice);\n    }\n  }\n\n  function createInitialSplices(array, changeRecords) {\n    var splices = [];\n\n    for (var _i6 = 0; _i6 < changeRecords.length; _i6++) {\n      var record = changeRecords[_i6];\n      switch (record.type) {\n        case 'splice':\n          mergeSplice(splices, record.index, record.removed.slice(), record.addedCount);\n          break;\n        case 'add':\n        case 'update':\n        case 'delete':\n          if (!isIndex(record.name)) {\n            continue;\n          }\n\n          var index = toNumber(record.name);\n          if (index < 0) {\n            continue;\n          }\n\n          mergeSplice(splices, index, [record.oldValue], record.type === 'delete' ? 0 : 1);\n          break;\n        default:\n          console.error('Unexpected record type: ' + JSON.stringify(record));\n          break;\n      }\n    }\n\n    return splices;\n  }\n\n  function projectArraySplices(array, changeRecords) {\n    var splices = [];\n\n    createInitialSplices(array, changeRecords).forEach(function (splice) {\n      if (splice.addedCount === 1 && splice.removed.length === 1) {\n        if (splice.removed[0] !== array[splice.index]) {\n          splices.push(splice);\n        }\n\n        return;\n      }\n\n      splices = splices.concat(calcSplices(array, splice.index, splice.index + splice.addedCount, splice.removed, 0, splice.removed.length));\n    });\n\n    return splices;\n  }\n\n  function newRecord(type, object, key, oldValue) {\n    return {\n      type: type,\n      object: object,\n      key: key,\n      oldValue: oldValue\n    };\n  }\n\n  function getChangeRecords(map) {\n    var entries = new Array(map.size);\n    var keys = map.keys();\n    var i = 0;\n    var item = void 0;\n\n    while (item = keys.next()) {\n      if (item.done) {\n        break;\n      }\n\n      entries[i] = newRecord('added', map, item.value);\n      i++;\n    }\n\n    return entries;\n  }\n\n  var ModifyCollectionObserver = exports.ModifyCollectionObserver = (_dec3 = subscriberCollection(), _dec3(_class2 = function () {\n    function ModifyCollectionObserver(taskQueue, collection) {\n      \n\n      this.taskQueue = taskQueue;\n      this.queued = false;\n      this.changeRecords = null;\n      this.oldCollection = null;\n      this.collection = collection;\n      this.lengthPropertyName = collection instanceof Map || collection instanceof Set ? 'size' : 'length';\n    }\n\n    ModifyCollectionObserver.prototype.subscribe = function subscribe(context, callable) {\n      this.addSubscriber(context, callable);\n    };\n\n    ModifyCollectionObserver.prototype.unsubscribe = function unsubscribe(context, callable) {\n      this.removeSubscriber(context, callable);\n    };\n\n    ModifyCollectionObserver.prototype.addChangeRecord = function addChangeRecord(changeRecord) {\n      if (!this.hasSubscribers() && !this.lengthObserver) {\n        return;\n      }\n\n      if (changeRecord.type === 'splice') {\n        var index = changeRecord.index;\n        var arrayLength = changeRecord.object.length;\n        if (index > arrayLength) {\n          index = arrayLength - changeRecord.addedCount;\n        } else if (index < 0) {\n          index = arrayLength + changeRecord.removed.length + index - changeRecord.addedCount;\n        }\n        if (index < 0) {\n          index = 0;\n        }\n        changeRecord.index = index;\n      }\n\n      if (this.changeRecords === null) {\n        this.changeRecords = [changeRecord];\n      } else {\n        this.changeRecords.push(changeRecord);\n      }\n\n      if (!this.queued) {\n        this.queued = true;\n        this.taskQueue.queueMicroTask(this);\n      }\n    };\n\n    ModifyCollectionObserver.prototype.flushChangeRecords = function flushChangeRecords() {\n      if (this.changeRecords && this.changeRecords.length || this.oldCollection) {\n        this.call();\n      }\n    };\n\n    ModifyCollectionObserver.prototype.reset = function reset(oldCollection) {\n      this.oldCollection = oldCollection;\n\n      if (this.hasSubscribers() && !this.queued) {\n        this.queued = true;\n        this.taskQueue.queueMicroTask(this);\n      }\n    };\n\n    ModifyCollectionObserver.prototype.getLengthObserver = function getLengthObserver() {\n      return this.lengthObserver || (this.lengthObserver = new CollectionLengthObserver(this.collection));\n    };\n\n    ModifyCollectionObserver.prototype.call = function call() {\n      var changeRecords = this.changeRecords;\n      var oldCollection = this.oldCollection;\n      var records = void 0;\n\n      this.queued = false;\n      this.changeRecords = [];\n      this.oldCollection = null;\n\n      if (this.hasSubscribers()) {\n        if (oldCollection) {\n          if (this.collection instanceof Map || this.collection instanceof Set) {\n            records = getChangeRecords(oldCollection);\n          } else {\n            records = calcSplices(this.collection, 0, this.collection.length, oldCollection, 0, oldCollection.length);\n          }\n        } else {\n          if (this.collection instanceof Map || this.collection instanceof Set) {\n            records = changeRecords;\n          } else {\n            records = projectArraySplices(this.collection, changeRecords);\n          }\n        }\n\n        this.callSubscribers(records);\n      }\n\n      if (this.lengthObserver) {\n        this.lengthObserver.call(this.collection[this.lengthPropertyName]);\n      }\n    };\n\n    return ModifyCollectionObserver;\n  }()) || _class2);\n  var CollectionLengthObserver = exports.CollectionLengthObserver = (_dec4 = subscriberCollection(), _dec4(_class3 = function () {\n    function CollectionLengthObserver(collection) {\n      \n\n      this.collection = collection;\n      this.lengthPropertyName = collection instanceof Map || collection instanceof Set ? 'size' : 'length';\n      this.currentValue = collection[this.lengthPropertyName];\n    }\n\n    CollectionLengthObserver.prototype.getValue = function getValue() {\n      return this.collection[this.lengthPropertyName];\n    };\n\n    CollectionLengthObserver.prototype.setValue = function setValue(newValue) {\n      this.collection[this.lengthPropertyName] = newValue;\n    };\n\n    CollectionLengthObserver.prototype.subscribe = function subscribe(context, callable) {\n      this.addSubscriber(context, callable);\n    };\n\n    CollectionLengthObserver.prototype.unsubscribe = function unsubscribe(context, callable) {\n      this.removeSubscriber(context, callable);\n    };\n\n    CollectionLengthObserver.prototype.call = function call(newValue) {\n      var oldValue = this.currentValue;\n      this.callSubscribers(newValue, oldValue);\n      this.currentValue = newValue;\n    };\n\n    return CollectionLengthObserver;\n  }()) || _class3);\n\n  var pop = Array.prototype.pop;\n  var push = Array.prototype.push;\n  var reverse = Array.prototype.reverse;\n  var shift = Array.prototype.shift;\n  var sort = Array.prototype.sort;\n  var splice = Array.prototype.splice;\n  var unshift = Array.prototype.unshift;\n\n  Array.prototype.pop = function () {\n    var notEmpty = this.length > 0;\n    var methodCallResult = pop.apply(this, arguments);\n    if (notEmpty && this.__array_observer__ !== undefined) {\n      this.__array_observer__.addChangeRecord({\n        type: 'delete',\n        object: this,\n        name: this.length,\n        oldValue: methodCallResult\n      });\n    }\n    return methodCallResult;\n  };\n\n  Array.prototype.push = function () {\n    var methodCallResult = push.apply(this, arguments);\n    if (this.__array_observer__ !== undefined) {\n      this.__array_observer__.addChangeRecord({\n        type: 'splice',\n        object: this,\n        index: this.length - arguments.length,\n        removed: [],\n        addedCount: arguments.length\n      });\n    }\n    return methodCallResult;\n  };\n\n  Array.prototype.reverse = function () {\n    var oldArray = void 0;\n    if (this.__array_observer__ !== undefined) {\n      this.__array_observer__.flushChangeRecords();\n      oldArray = this.slice();\n    }\n    var methodCallResult = reverse.apply(this, arguments);\n    if (this.__array_observer__ !== undefined) {\n      this.__array_observer__.reset(oldArray);\n    }\n    return methodCallResult;\n  };\n\n  Array.prototype.shift = function () {\n    var notEmpty = this.length > 0;\n    var methodCallResult = shift.apply(this, arguments);\n    if (notEmpty && this.__array_observer__ !== undefined) {\n      this.__array_observer__.addChangeRecord({\n        type: 'delete',\n        object: this,\n        name: 0,\n        oldValue: methodCallResult\n      });\n    }\n    return methodCallResult;\n  };\n\n  Array.prototype.sort = function () {\n    var oldArray = void 0;\n    if (this.__array_observer__ !== undefined) {\n      this.__array_observer__.flushChangeRecords();\n      oldArray = this.slice();\n    }\n    var methodCallResult = sort.apply(this, arguments);\n    if (this.__array_observer__ !== undefined) {\n      this.__array_observer__.reset(oldArray);\n    }\n    return methodCallResult;\n  };\n\n  Array.prototype.splice = function () {\n    var methodCallResult = splice.apply(this, arguments);\n    if (this.__array_observer__ !== undefined) {\n      this.__array_observer__.addChangeRecord({\n        type: 'splice',\n        object: this,\n        index: +arguments[0],\n        removed: methodCallResult,\n        addedCount: arguments.length > 2 ? arguments.length - 2 : 0\n      });\n    }\n    return methodCallResult;\n  };\n\n  Array.prototype.unshift = function () {\n    var methodCallResult = unshift.apply(this, arguments);\n    if (this.__array_observer__ !== undefined) {\n      this.__array_observer__.addChangeRecord({\n        type: 'splice',\n        object: this,\n        index: 0,\n        removed: [],\n        addedCount: arguments.length\n      });\n    }\n    return methodCallResult;\n  };\n\n  function _getArrayObserver(taskQueue, array) {\n    return ModifyArrayObserver.for(taskQueue, array);\n  }\n\n  exports.getArrayObserver = _getArrayObserver;\n\n  var ModifyArrayObserver = function (_ModifyCollectionObse) {\n    _inherits(ModifyArrayObserver, _ModifyCollectionObse);\n\n    function ModifyArrayObserver(taskQueue, array) {\n      \n\n      return _possibleConstructorReturn(this, _ModifyCollectionObse.call(this, taskQueue, array));\n    }\n\n    ModifyArrayObserver.for = function _for(taskQueue, array) {\n      if (!('__array_observer__' in array)) {\n        Reflect.defineProperty(array, '__array_observer__', {\n          value: ModifyArrayObserver.create(taskQueue, array),\n          enumerable: false, configurable: false\n        });\n      }\n      return array.__array_observer__;\n    };\n\n    ModifyArrayObserver.create = function create(taskQueue, array) {\n      return new ModifyArrayObserver(taskQueue, array);\n    };\n\n    return ModifyArrayObserver;\n  }(ModifyCollectionObserver);\n\n  var Expression = exports.Expression = function () {\n    function Expression() {\n      \n\n      this.isChain = false;\n      this.isAssignable = false;\n    }\n\n    Expression.prototype.evaluate = function evaluate(scope, lookupFunctions, args) {\n      throw new Error('Binding expression \"' + this + '\" cannot be evaluated.');\n    };\n\n    Expression.prototype.assign = function assign(scope, value, lookupFunctions) {\n      throw new Error('Binding expression \"' + this + '\" cannot be assigned to.');\n    };\n\n    Expression.prototype.toString = function toString() {\n      return typeof FEATURE_NO_UNPARSER === 'undefined' ? _Unparser.unparse(this) : Function.prototype.toString.call(this);\n    };\n\n    return Expression;\n  }();\n\n  var Chain = exports.Chain = function (_Expression) {\n    _inherits(Chain, _Expression);\n\n    function Chain(expressions) {\n      \n\n      var _this3 = _possibleConstructorReturn(this, _Expression.call(this));\n\n      _this3.expressions = expressions;\n      _this3.isChain = true;\n      return _this3;\n    }\n\n    Chain.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var result = void 0;\n      var expressions = this.expressions;\n      var last = void 0;\n\n      for (var _i7 = 0, length = expressions.length; _i7 < length; ++_i7) {\n        last = expressions[_i7].evaluate(scope, lookupFunctions);\n\n        if (last !== null) {\n          result = last;\n        }\n      }\n\n      return result;\n    };\n\n    Chain.prototype.accept = function accept(visitor) {\n      return visitor.visitChain(this);\n    };\n\n    return Chain;\n  }(Expression);\n\n  var BindingBehavior = exports.BindingBehavior = function (_Expression2) {\n    _inherits(BindingBehavior, _Expression2);\n\n    function BindingBehavior(expression, name, args) {\n      \n\n      var _this4 = _possibleConstructorReturn(this, _Expression2.call(this));\n\n      _this4.expression = expression;\n      _this4.name = name;\n      _this4.args = args;\n      return _this4;\n    }\n\n    BindingBehavior.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      return this.expression.evaluate(scope, lookupFunctions);\n    };\n\n    BindingBehavior.prototype.assign = function assign(scope, value, lookupFunctions) {\n      return this.expression.assign(scope, value, lookupFunctions);\n    };\n\n    BindingBehavior.prototype.accept = function accept(visitor) {\n      return visitor.visitBindingBehavior(this);\n    };\n\n    BindingBehavior.prototype.connect = function connect(binding, scope) {\n      this.expression.connect(binding, scope);\n    };\n\n    BindingBehavior.prototype.bind = function bind(binding, scope, lookupFunctions) {\n      if (this.expression.expression && this.expression.bind) {\n        this.expression.bind(binding, scope, lookupFunctions);\n      }\n      var behavior = lookupFunctions.bindingBehaviors(this.name);\n      if (!behavior) {\n        throw new Error('No BindingBehavior named \"' + this.name + '\" was found!');\n      }\n      var behaviorKey = 'behavior-' + this.name;\n      if (binding[behaviorKey]) {\n        throw new Error('A binding behavior named \"' + this.name + '\" has already been applied to \"' + this.expression + '\"');\n      }\n      binding[behaviorKey] = behavior;\n      behavior.bind.apply(behavior, [binding, scope].concat(evalList(scope, this.args, binding.lookupFunctions)));\n    };\n\n    BindingBehavior.prototype.unbind = function unbind(binding, scope) {\n      var behaviorKey = 'behavior-' + this.name;\n      binding[behaviorKey].unbind(binding, scope);\n      binding[behaviorKey] = null;\n      if (this.expression.expression && this.expression.unbind) {\n        this.expression.unbind(binding, scope);\n      }\n    };\n\n    return BindingBehavior;\n  }(Expression);\n\n  var ValueConverter = exports.ValueConverter = function (_Expression3) {\n    _inherits(ValueConverter, _Expression3);\n\n    function ValueConverter(expression, name, args, allArgs) {\n      \n\n      var _this5 = _possibleConstructorReturn(this, _Expression3.call(this));\n\n      _this5.expression = expression;\n      _this5.name = name;\n      _this5.args = args;\n      _this5.allArgs = allArgs;\n      return _this5;\n    }\n\n    ValueConverter.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var converter = lookupFunctions.valueConverters(this.name);\n      if (!converter) {\n        throw new Error('No ValueConverter named \"' + this.name + '\" was found!');\n      }\n\n      if ('toView' in converter) {\n        return converter.toView.apply(converter, evalList(scope, this.allArgs, lookupFunctions));\n      }\n\n      return this.allArgs[0].evaluate(scope, lookupFunctions);\n    };\n\n    ValueConverter.prototype.assign = function assign(scope, value, lookupFunctions) {\n      var converter = lookupFunctions.valueConverters(this.name);\n      if (!converter) {\n        throw new Error('No ValueConverter named \"' + this.name + '\" was found!');\n      }\n\n      if ('fromView' in converter) {\n        value = converter.fromView.apply(converter, [value].concat(evalList(scope, this.args, lookupFunctions)));\n      }\n\n      return this.allArgs[0].assign(scope, value, lookupFunctions);\n    };\n\n    ValueConverter.prototype.accept = function accept(visitor) {\n      return visitor.visitValueConverter(this);\n    };\n\n    ValueConverter.prototype.connect = function connect(binding, scope) {\n      var expressions = this.allArgs;\n      var i = expressions.length;\n      while (i--) {\n        expressions[i].connect(binding, scope);\n      }\n      var converter = binding.lookupFunctions.valueConverters(this.name);\n      if (!converter) {\n        throw new Error('No ValueConverter named \"' + this.name + '\" was found!');\n      }\n      var signals = converter.signals;\n      if (signals === undefined) {\n        return;\n      }\n      i = signals.length;\n      while (i--) {\n        connectBindingToSignal(binding, signals[i]);\n      }\n    };\n\n    return ValueConverter;\n  }(Expression);\n\n  var Assign = exports.Assign = function (_Expression4) {\n    _inherits(Assign, _Expression4);\n\n    function Assign(target, value) {\n      \n\n      var _this6 = _possibleConstructorReturn(this, _Expression4.call(this));\n\n      _this6.target = target;\n      _this6.value = value;\n      _this6.isAssignable = true;\n      return _this6;\n    }\n\n    Assign.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      return this.target.assign(scope, this.value.evaluate(scope, lookupFunctions));\n    };\n\n    Assign.prototype.accept = function accept(vistor) {\n      vistor.visitAssign(this);\n    };\n\n    Assign.prototype.connect = function connect(binding, scope) {};\n\n    Assign.prototype.assign = function assign(scope, value) {\n      this.value.assign(scope, value);\n      this.target.assign(scope, value);\n    };\n\n    return Assign;\n  }(Expression);\n\n  var Conditional = exports.Conditional = function (_Expression5) {\n    _inherits(Conditional, _Expression5);\n\n    function Conditional(condition, yes, no) {\n      \n\n      var _this7 = _possibleConstructorReturn(this, _Expression5.call(this));\n\n      _this7.condition = condition;\n      _this7.yes = yes;\n      _this7.no = no;\n      return _this7;\n    }\n\n    Conditional.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      return !!this.condition.evaluate(scope, lookupFunctions) ? this.yes.evaluate(scope, lookupFunctions) : this.no.evaluate(scope, lookupFunctions);\n    };\n\n    Conditional.prototype.accept = function accept(visitor) {\n      return visitor.visitConditional(this);\n    };\n\n    Conditional.prototype.connect = function connect(binding, scope) {\n      this.condition.connect(binding, scope);\n      if (this.condition.evaluate(scope)) {\n        this.yes.connect(binding, scope);\n      } else {\n        this.no.connect(binding, scope);\n      }\n    };\n\n    return Conditional;\n  }(Expression);\n\n  var AccessThis = exports.AccessThis = function (_Expression6) {\n    _inherits(AccessThis, _Expression6);\n\n    function AccessThis(ancestor) {\n      \n\n      var _this8 = _possibleConstructorReturn(this, _Expression6.call(this));\n\n      _this8.ancestor = ancestor;\n      return _this8;\n    }\n\n    AccessThis.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var oc = scope.overrideContext;\n      var i = this.ancestor;\n      while (i-- && oc) {\n        oc = oc.parentOverrideContext;\n      }\n      return i < 1 && oc ? oc.bindingContext : undefined;\n    };\n\n    AccessThis.prototype.accept = function accept(visitor) {\n      return visitor.visitAccessThis(this);\n    };\n\n    AccessThis.prototype.connect = function connect(binding, scope) {};\n\n    return AccessThis;\n  }(Expression);\n\n  var AccessScope = exports.AccessScope = function (_Expression7) {\n    _inherits(AccessScope, _Expression7);\n\n    function AccessScope(name, ancestor) {\n      \n\n      var _this9 = _possibleConstructorReturn(this, _Expression7.call(this));\n\n      _this9.name = name;\n      _this9.ancestor = ancestor;\n      _this9.isAssignable = true;\n      return _this9;\n    }\n\n    AccessScope.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var context = getContextFor(this.name, scope, this.ancestor);\n      return context[this.name];\n    };\n\n    AccessScope.prototype.assign = function assign(scope, value) {\n      var context = getContextFor(this.name, scope, this.ancestor);\n      return context ? context[this.name] = value : undefined;\n    };\n\n    AccessScope.prototype.accept = function accept(visitor) {\n      return visitor.visitAccessScope(this);\n    };\n\n    AccessScope.prototype.connect = function connect(binding, scope) {\n      var context = getContextFor(this.name, scope, this.ancestor);\n      binding.observeProperty(context, this.name);\n    };\n\n    return AccessScope;\n  }(Expression);\n\n  var AccessMember = exports.AccessMember = function (_Expression8) {\n    _inherits(AccessMember, _Expression8);\n\n    function AccessMember(object, name) {\n      \n\n      var _this10 = _possibleConstructorReturn(this, _Expression8.call(this));\n\n      _this10.object = object;\n      _this10.name = name;\n      _this10.isAssignable = true;\n      return _this10;\n    }\n\n    AccessMember.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var instance = this.object.evaluate(scope, lookupFunctions);\n      return instance === null || instance === undefined ? instance : instance[this.name];\n    };\n\n    AccessMember.prototype.assign = function assign(scope, value) {\n      var instance = this.object.evaluate(scope);\n\n      if (instance === null || instance === undefined) {\n        instance = {};\n        this.object.assign(scope, instance);\n      }\n\n      instance[this.name] = value;\n      return value;\n    };\n\n    AccessMember.prototype.accept = function accept(visitor) {\n      return visitor.visitAccessMember(this);\n    };\n\n    AccessMember.prototype.connect = function connect(binding, scope) {\n      this.object.connect(binding, scope);\n      var obj = this.object.evaluate(scope);\n      if (obj) {\n        binding.observeProperty(obj, this.name);\n      }\n    };\n\n    return AccessMember;\n  }(Expression);\n\n  var AccessKeyed = exports.AccessKeyed = function (_Expression9) {\n    _inherits(AccessKeyed, _Expression9);\n\n    function AccessKeyed(object, key) {\n      \n\n      var _this11 = _possibleConstructorReturn(this, _Expression9.call(this));\n\n      _this11.object = object;\n      _this11.key = key;\n      _this11.isAssignable = true;\n      return _this11;\n    }\n\n    AccessKeyed.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var instance = this.object.evaluate(scope, lookupFunctions);\n      var lookup = this.key.evaluate(scope, lookupFunctions);\n      return getKeyed(instance, lookup);\n    };\n\n    AccessKeyed.prototype.assign = function assign(scope, value) {\n      var instance = this.object.evaluate(scope);\n      var lookup = this.key.evaluate(scope);\n      return setKeyed(instance, lookup, value);\n    };\n\n    AccessKeyed.prototype.accept = function accept(visitor) {\n      return visitor.visitAccessKeyed(this);\n    };\n\n    AccessKeyed.prototype.connect = function connect(binding, scope) {\n      this.object.connect(binding, scope);\n      var obj = this.object.evaluate(scope);\n      if (obj instanceof Object) {\n        this.key.connect(binding, scope);\n        var key = this.key.evaluate(scope);\n\n        if (key !== null && key !== undefined && !(Array.isArray(obj) && typeof key === 'number')) {\n          binding.observeProperty(obj, key);\n        }\n      }\n    };\n\n    return AccessKeyed;\n  }(Expression);\n\n  var CallScope = exports.CallScope = function (_Expression10) {\n    _inherits(CallScope, _Expression10);\n\n    function CallScope(name, args, ancestor) {\n      \n\n      var _this12 = _possibleConstructorReturn(this, _Expression10.call(this));\n\n      _this12.name = name;\n      _this12.args = args;\n      _this12.ancestor = ancestor;\n      return _this12;\n    }\n\n    CallScope.prototype.evaluate = function evaluate(scope, lookupFunctions, mustEvaluate) {\n      var args = evalList(scope, this.args, lookupFunctions);\n      var context = getContextFor(this.name, scope, this.ancestor);\n      var func = getFunction(context, this.name, mustEvaluate);\n      if (func) {\n        return func.apply(context, args);\n      }\n      return undefined;\n    };\n\n    CallScope.prototype.accept = function accept(visitor) {\n      return visitor.visitCallScope(this);\n    };\n\n    CallScope.prototype.connect = function connect(binding, scope) {\n      var args = this.args;\n      var i = args.length;\n      while (i--) {\n        args[i].connect(binding, scope);\n      }\n    };\n\n    return CallScope;\n  }(Expression);\n\n  var CallMember = exports.CallMember = function (_Expression11) {\n    _inherits(CallMember, _Expression11);\n\n    function CallMember(object, name, args) {\n      \n\n      var _this13 = _possibleConstructorReturn(this, _Expression11.call(this));\n\n      _this13.object = object;\n      _this13.name = name;\n      _this13.args = args;\n      return _this13;\n    }\n\n    CallMember.prototype.evaluate = function evaluate(scope, lookupFunctions, mustEvaluate) {\n      var instance = this.object.evaluate(scope, lookupFunctions);\n      var args = evalList(scope, this.args, lookupFunctions);\n      var func = getFunction(instance, this.name, mustEvaluate);\n      if (func) {\n        return func.apply(instance, args);\n      }\n      return undefined;\n    };\n\n    CallMember.prototype.accept = function accept(visitor) {\n      return visitor.visitCallMember(this);\n    };\n\n    CallMember.prototype.connect = function connect(binding, scope) {\n      this.object.connect(binding, scope);\n      var obj = this.object.evaluate(scope);\n      if (getFunction(obj, this.name, false)) {\n        var args = this.args;\n        var _i8 = args.length;\n        while (_i8--) {\n          args[_i8].connect(binding, scope);\n        }\n      }\n    };\n\n    return CallMember;\n  }(Expression);\n\n  var CallFunction = exports.CallFunction = function (_Expression12) {\n    _inherits(CallFunction, _Expression12);\n\n    function CallFunction(func, args) {\n      \n\n      var _this14 = _possibleConstructorReturn(this, _Expression12.call(this));\n\n      _this14.func = func;\n      _this14.args = args;\n      return _this14;\n    }\n\n    CallFunction.prototype.evaluate = function evaluate(scope, lookupFunctions, mustEvaluate) {\n      var func = this.func.evaluate(scope, lookupFunctions);\n      if (typeof func === 'function') {\n        return func.apply(null, evalList(scope, this.args, lookupFunctions));\n      }\n      if (!mustEvaluate && (func === null || func === undefined)) {\n        return undefined;\n      }\n      throw new Error(this.func + ' is not a function');\n    };\n\n    CallFunction.prototype.accept = function accept(visitor) {\n      return visitor.visitCallFunction(this);\n    };\n\n    CallFunction.prototype.connect = function connect(binding, scope) {\n      this.func.connect(binding, scope);\n      var func = this.func.evaluate(scope);\n      if (typeof func === 'function') {\n        var args = this.args;\n        var _i9 = args.length;\n        while (_i9--) {\n          args[_i9].connect(binding, scope);\n        }\n      }\n    };\n\n    return CallFunction;\n  }(Expression);\n\n  var Binary = exports.Binary = function (_Expression13) {\n    _inherits(Binary, _Expression13);\n\n    function Binary(operation, left, right) {\n      \n\n      var _this15 = _possibleConstructorReturn(this, _Expression13.call(this));\n\n      _this15.operation = operation;\n      _this15.left = left;\n      _this15.right = right;\n      return _this15;\n    }\n\n    Binary.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var left = this.left.evaluate(scope, lookupFunctions);\n\n      switch (this.operation) {\n        case '&&':\n          return left && this.right.evaluate(scope, lookupFunctions);\n        case '||':\n          return left || this.right.evaluate(scope, lookupFunctions);\n      }\n\n      var right = this.right.evaluate(scope, lookupFunctions);\n\n      switch (this.operation) {\n        case '==':\n          return left == right;\n        case '===':\n          return left === right;\n        case '!=':\n          return left != right;\n        case '!==':\n          return left !== right;\n      }\n\n      if (left === null || right === null || left === undefined || right === undefined) {\n        switch (this.operation) {\n          case '+':\n            if (left !== null && left !== undefined) return left;\n            if (right !== null && right !== undefined) return right;\n            return 0;\n          case '-':\n            if (left !== null && left !== undefined) return left;\n            if (right !== null && right !== undefined) return 0 - right;\n            return 0;\n        }\n\n        return null;\n      }\n\n      switch (this.operation) {\n        case '+':\n          return autoConvertAdd(left, right);\n        case '-':\n          return left - right;\n        case '*':\n          return left * right;\n        case '/':\n          return left / right;\n        case '%':\n          return left % right;\n        case '<':\n          return left < right;\n        case '>':\n          return left > right;\n        case '<=':\n          return left <= right;\n        case '>=':\n          return left >= right;\n        case '^':\n          return left ^ right;\n      }\n\n      throw new Error('Internal error [' + this.operation + '] not handled');\n    };\n\n    Binary.prototype.accept = function accept(visitor) {\n      return visitor.visitBinary(this);\n    };\n\n    Binary.prototype.connect = function connect(binding, scope) {\n      this.left.connect(binding, scope);\n      var left = this.left.evaluate(scope);\n      if (this.operation === '&&' && !left || this.operation === '||' && left) {\n        return;\n      }\n      this.right.connect(binding, scope);\n    };\n\n    return Binary;\n  }(Expression);\n\n  var PrefixNot = exports.PrefixNot = function (_Expression14) {\n    _inherits(PrefixNot, _Expression14);\n\n    function PrefixNot(operation, expression) {\n      \n\n      var _this16 = _possibleConstructorReturn(this, _Expression14.call(this));\n\n      _this16.operation = operation;\n      _this16.expression = expression;\n      return _this16;\n    }\n\n    PrefixNot.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      return !this.expression.evaluate(scope, lookupFunctions);\n    };\n\n    PrefixNot.prototype.accept = function accept(visitor) {\n      return visitor.visitPrefix(this);\n    };\n\n    PrefixNot.prototype.connect = function connect(binding, scope) {\n      this.expression.connect(binding, scope);\n    };\n\n    return PrefixNot;\n  }(Expression);\n\n  var LiteralPrimitive = exports.LiteralPrimitive = function (_Expression15) {\n    _inherits(LiteralPrimitive, _Expression15);\n\n    function LiteralPrimitive(value) {\n      \n\n      var _this17 = _possibleConstructorReturn(this, _Expression15.call(this));\n\n      _this17.value = value;\n      return _this17;\n    }\n\n    LiteralPrimitive.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      return this.value;\n    };\n\n    LiteralPrimitive.prototype.accept = function accept(visitor) {\n      return visitor.visitLiteralPrimitive(this);\n    };\n\n    LiteralPrimitive.prototype.connect = function connect(binding, scope) {};\n\n    return LiteralPrimitive;\n  }(Expression);\n\n  var LiteralString = exports.LiteralString = function (_Expression16) {\n    _inherits(LiteralString, _Expression16);\n\n    function LiteralString(value) {\n      \n\n      var _this18 = _possibleConstructorReturn(this, _Expression16.call(this));\n\n      _this18.value = value;\n      return _this18;\n    }\n\n    LiteralString.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      return this.value;\n    };\n\n    LiteralString.prototype.accept = function accept(visitor) {\n      return visitor.visitLiteralString(this);\n    };\n\n    LiteralString.prototype.connect = function connect(binding, scope) {};\n\n    return LiteralString;\n  }(Expression);\n\n  var LiteralArray = exports.LiteralArray = function (_Expression17) {\n    _inherits(LiteralArray, _Expression17);\n\n    function LiteralArray(elements) {\n      \n\n      var _this19 = _possibleConstructorReturn(this, _Expression17.call(this));\n\n      _this19.elements = elements;\n      return _this19;\n    }\n\n    LiteralArray.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var elements = this.elements;\n      var result = [];\n\n      for (var _i10 = 0, length = elements.length; _i10 < length; ++_i10) {\n        result[_i10] = elements[_i10].evaluate(scope, lookupFunctions);\n      }\n\n      return result;\n    };\n\n    LiteralArray.prototype.accept = function accept(visitor) {\n      return visitor.visitLiteralArray(this);\n    };\n\n    LiteralArray.prototype.connect = function connect(binding, scope) {\n      var length = this.elements.length;\n      for (var _i11 = 0; _i11 < length; _i11++) {\n        this.elements[_i11].connect(binding, scope);\n      }\n    };\n\n    return LiteralArray;\n  }(Expression);\n\n  var LiteralObject = exports.LiteralObject = function (_Expression18) {\n    _inherits(LiteralObject, _Expression18);\n\n    function LiteralObject(keys, values) {\n      \n\n      var _this20 = _possibleConstructorReturn(this, _Expression18.call(this));\n\n      _this20.keys = keys;\n      _this20.values = values;\n      return _this20;\n    }\n\n    LiteralObject.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      var instance = {};\n      var keys = this.keys;\n      var values = this.values;\n\n      for (var _i12 = 0, length = keys.length; _i12 < length; ++_i12) {\n        instance[keys[_i12]] = values[_i12].evaluate(scope, lookupFunctions);\n      }\n\n      return instance;\n    };\n\n    LiteralObject.prototype.accept = function accept(visitor) {\n      return visitor.visitLiteralObject(this);\n    };\n\n    LiteralObject.prototype.connect = function connect(binding, scope) {\n      var length = this.keys.length;\n      for (var _i13 = 0; _i13 < length; _i13++) {\n        this.values[_i13].connect(binding, scope);\n      }\n    };\n\n    return LiteralObject;\n  }(Expression);\n\n  function evalList(scope, list, lookupFunctions) {\n    var length = list.length;\n    var result = [];\n    for (var _i14 = 0; _i14 < length; _i14++) {\n      result[_i14] = list[_i14].evaluate(scope, lookupFunctions);\n    }\n    return result;\n  }\n\n  function autoConvertAdd(a, b) {\n    if (a !== null && b !== null) {\n      if (typeof a === 'string' && typeof b !== 'string') {\n        return a + b.toString();\n      }\n\n      if (typeof a !== 'string' && typeof b === 'string') {\n        return a.toString() + b;\n      }\n\n      return a + b;\n    }\n\n    if (a !== null) {\n      return a;\n    }\n\n    if (b !== null) {\n      return b;\n    }\n\n    return 0;\n  }\n\n  function getFunction(obj, name, mustExist) {\n    var func = obj === null || obj === undefined ? null : obj[name];\n    if (typeof func === 'function') {\n      return func;\n    }\n    if (!mustExist && (func === null || func === undefined)) {\n      return null;\n    }\n    throw new Error(name + ' is not a function');\n  }\n\n  function getKeyed(obj, key) {\n    if (Array.isArray(obj)) {\n      return obj[parseInt(key, 10)];\n    } else if (obj) {\n      return obj[key];\n    } else if (obj === null || obj === undefined) {\n      return undefined;\n    }\n\n    return obj[key];\n  }\n\n  function setKeyed(obj, key, value) {\n    if (Array.isArray(obj)) {\n      var index = parseInt(key, 10);\n\n      if (obj.length <= index) {\n        obj.length = index + 1;\n      }\n\n      obj[index] = value;\n    } else {\n      obj[key] = value;\n    }\n\n    return value;\n  }\n\n  var _Unparser = null;\n\n  exports.Unparser = _Unparser;\n  if (typeof FEATURE_NO_UNPARSER === 'undefined') {\n    exports.Unparser = _Unparser = function () {\n      function Unparser(buffer) {\n        \n\n        this.buffer = buffer;\n      }\n\n      Unparser.unparse = function unparse(expression) {\n        var buffer = [];\n        var visitor = new _Unparser(buffer);\n\n        expression.accept(visitor);\n\n        return buffer.join('');\n      };\n\n      Unparser.prototype.write = function write(text) {\n        this.buffer.push(text);\n      };\n\n      Unparser.prototype.writeArgs = function writeArgs(args) {\n        this.write('(');\n\n        for (var _i15 = 0, length = args.length; _i15 < length; ++_i15) {\n          if (_i15 !== 0) {\n            this.write(',');\n          }\n\n          args[_i15].accept(this);\n        }\n\n        this.write(')');\n      };\n\n      Unparser.prototype.visitChain = function visitChain(chain) {\n        var expressions = chain.expressions;\n\n        for (var _i16 = 0, length = expression.length; _i16 < length; ++_i16) {\n          if (_i16 !== 0) {\n            this.write(';');\n          }\n\n          expressions[_i16].accept(this);\n        }\n      };\n\n      Unparser.prototype.visitBindingBehavior = function visitBindingBehavior(behavior) {\n        var args = behavior.args;\n\n        behavior.expression.accept(this);\n        this.write('&' + behavior.name);\n\n        for (var _i17 = 0, length = args.length; _i17 < length; ++_i17) {\n          this.write(':');\n          args[_i17].accept(this);\n        }\n      };\n\n      Unparser.prototype.visitValueConverter = function visitValueConverter(converter) {\n        var args = converter.args;\n\n        converter.expression.accept(this);\n        this.write('|' + converter.name);\n\n        for (var _i18 = 0, length = args.length; _i18 < length; ++_i18) {\n          this.write(':');\n          args[_i18].accept(this);\n        }\n      };\n\n      Unparser.prototype.visitAssign = function visitAssign(assign) {\n        assign.target.accept(this);\n        this.write('=');\n        assign.value.accept(this);\n      };\n\n      Unparser.prototype.visitConditional = function visitConditional(conditional) {\n        conditional.condition.accept(this);\n        this.write('?');\n        conditional.yes.accept(this);\n        this.write(':');\n        conditional.no.accept(this);\n      };\n\n      Unparser.prototype.visitAccessThis = function visitAccessThis(access) {\n        if (access.ancestor === 0) {\n          this.write('$this');\n          return;\n        }\n        this.write('$parent');\n        var i = access.ancestor - 1;\n        while (i--) {\n          this.write('.$parent');\n        }\n      };\n\n      Unparser.prototype.visitAccessScope = function visitAccessScope(access) {\n        var i = access.ancestor;\n        while (i--) {\n          this.write('$parent.');\n        }\n        this.write(access.name);\n      };\n\n      Unparser.prototype.visitAccessMember = function visitAccessMember(access) {\n        access.object.accept(this);\n        this.write('.' + access.name);\n      };\n\n      Unparser.prototype.visitAccessKeyed = function visitAccessKeyed(access) {\n        access.object.accept(this);\n        this.write('[');\n        access.key.accept(this);\n        this.write(']');\n      };\n\n      Unparser.prototype.visitCallScope = function visitCallScope(call) {\n        var i = call.ancestor;\n        while (i--) {\n          this.write('$parent.');\n        }\n        this.write(call.name);\n        this.writeArgs(call.args);\n      };\n\n      Unparser.prototype.visitCallFunction = function visitCallFunction(call) {\n        call.func.accept(this);\n        this.writeArgs(call.args);\n      };\n\n      Unparser.prototype.visitCallMember = function visitCallMember(call) {\n        call.object.accept(this);\n        this.write('.' + call.name);\n        this.writeArgs(call.args);\n      };\n\n      Unparser.prototype.visitPrefix = function visitPrefix(prefix) {\n        this.write('(' + prefix.operation);\n        prefix.expression.accept(this);\n        this.write(')');\n      };\n\n      Unparser.prototype.visitBinary = function visitBinary(binary) {\n        binary.left.accept(this);\n        this.write(binary.operation);\n        binary.right.accept(this);\n      };\n\n      Unparser.prototype.visitLiteralPrimitive = function visitLiteralPrimitive(literal) {\n        this.write('' + literal.value);\n      };\n\n      Unparser.prototype.visitLiteralArray = function visitLiteralArray(literal) {\n        var elements = literal.elements;\n\n        this.write('[');\n\n        for (var _i19 = 0, length = elements.length; _i19 < length; ++_i19) {\n          if (_i19 !== 0) {\n            this.write(',');\n          }\n\n          elements[_i19].accept(this);\n        }\n\n        this.write(']');\n      };\n\n      Unparser.prototype.visitLiteralObject = function visitLiteralObject(literal) {\n        var keys = literal.keys;\n        var values = literal.values;\n\n        this.write('{');\n\n        for (var _i20 = 0, length = keys.length; _i20 < length; ++_i20) {\n          if (_i20 !== 0) {\n            this.write(',');\n          }\n\n          this.write('\\'' + keys[_i20] + '\\':');\n          values[_i20].accept(this);\n        }\n\n        this.write('}');\n      };\n\n      Unparser.prototype.visitLiteralString = function visitLiteralString(literal) {\n        var escaped = literal.value.replace(/'/g, \"\\'\");\n        this.write('\\'' + escaped + '\\'');\n      };\n\n      return Unparser;\n    }();\n  }\n\n  var ExpressionCloner = exports.ExpressionCloner = function () {\n    function ExpressionCloner() {\n      \n    }\n\n    ExpressionCloner.prototype.cloneExpressionArray = function cloneExpressionArray(array) {\n      var clonedArray = [];\n      var i = array.length;\n      while (i--) {\n        clonedArray[i] = array[i].accept(this);\n      }\n      return clonedArray;\n    };\n\n    ExpressionCloner.prototype.visitChain = function visitChain(chain) {\n      return new Chain(this.cloneExpressionArray(chain.expressions));\n    };\n\n    ExpressionCloner.prototype.visitBindingBehavior = function visitBindingBehavior(behavior) {\n      return new BindingBehavior(behavior.expression.accept(this), behavior.name, this.cloneExpressionArray(behavior.args));\n    };\n\n    ExpressionCloner.prototype.visitValueConverter = function visitValueConverter(converter) {\n      return new ValueConverter(converter.expression.accept(this), converter.name, this.cloneExpressionArray(converter.args));\n    };\n\n    ExpressionCloner.prototype.visitAssign = function visitAssign(assign) {\n      return new Assign(assign.target.accept(this), assign.value.accept(this));\n    };\n\n    ExpressionCloner.prototype.visitConditional = function visitConditional(conditional) {\n      return new Conditional(conditional.condition.accept(this), conditional.yes.accept(this), conditional.no.accept(this));\n    };\n\n    ExpressionCloner.prototype.visitAccessThis = function visitAccessThis(access) {\n      return new AccessThis(access.ancestor);\n    };\n\n    ExpressionCloner.prototype.visitAccessScope = function visitAccessScope(access) {\n      return new AccessScope(access.name, access.ancestor);\n    };\n\n    ExpressionCloner.prototype.visitAccessMember = function visitAccessMember(access) {\n      return new AccessMember(access.object.accept(this), access.name);\n    };\n\n    ExpressionCloner.prototype.visitAccessKeyed = function visitAccessKeyed(access) {\n      return new AccessKeyed(access.object.accept(this), access.key.accept(this));\n    };\n\n    ExpressionCloner.prototype.visitCallScope = function visitCallScope(call) {\n      return new CallScope(call.name, this.cloneExpressionArray(call.args), call.ancestor);\n    };\n\n    ExpressionCloner.prototype.visitCallFunction = function visitCallFunction(call) {\n      return new CallFunction(call.func.accept(this), this.cloneExpressionArray(call.args));\n    };\n\n    ExpressionCloner.prototype.visitCallMember = function visitCallMember(call) {\n      return new CallMember(call.object.accept(this), call.name, this.cloneExpressionArray(call.args));\n    };\n\n    ExpressionCloner.prototype.visitPrefix = function visitPrefix(prefix) {\n      return new PrefixNot(prefix.operation, prefix.expression.accept(this));\n    };\n\n    ExpressionCloner.prototype.visitBinary = function visitBinary(binary) {\n      return new Binary(binary.operation, binary.left.accept(this), binary.right.accept(this));\n    };\n\n    ExpressionCloner.prototype.visitLiteralPrimitive = function visitLiteralPrimitive(literal) {\n      return new LiteralPrimitive(literal);\n    };\n\n    ExpressionCloner.prototype.visitLiteralArray = function visitLiteralArray(literal) {\n      return new LiteralArray(this.cloneExpressionArray(literal.elements));\n    };\n\n    ExpressionCloner.prototype.visitLiteralObject = function visitLiteralObject(literal) {\n      return new LiteralObject(literal.keys, this.cloneExpressionArray(literal.values));\n    };\n\n    ExpressionCloner.prototype.visitLiteralString = function visitLiteralString(literal) {\n      return new LiteralString(literal.value);\n    };\n\n    return ExpressionCloner;\n  }();\n\n  function cloneExpression(expression) {\n    var visitor = new ExpressionCloner();\n    return expression.accept(visitor);\n  }\n\n  var bindingMode = exports.bindingMode = {\n    oneTime: 0,\n    toView: 1,\n    oneWay: 1,\n    twoWay: 2,\n    fromView: 3\n  };\n\n  var Token = exports.Token = function () {\n    function Token(index, text) {\n      \n\n      this.index = index;\n      this.text = text;\n    }\n\n    Token.prototype.withOp = function withOp(op) {\n      this.opKey = op;\n      return this;\n    };\n\n    Token.prototype.withGetterSetter = function withGetterSetter(key) {\n      this.key = key;\n      return this;\n    };\n\n    Token.prototype.withValue = function withValue(value) {\n      this.value = value;\n      return this;\n    };\n\n    Token.prototype.toString = function toString() {\n      return 'Token(' + this.text + ')';\n    };\n\n    return Token;\n  }();\n\n  var Lexer = exports.Lexer = function () {\n    function Lexer() {\n      \n    }\n\n    Lexer.prototype.lex = function lex(text) {\n      var scanner = new Scanner(text);\n      var tokens = [];\n      var token = scanner.scanToken();\n\n      while (token) {\n        tokens.push(token);\n        token = scanner.scanToken();\n      }\n\n      return tokens;\n    };\n\n    return Lexer;\n  }();\n\n  var Scanner = exports.Scanner = function () {\n    function Scanner(input) {\n      \n\n      this.input = input;\n      this.length = input.length;\n      this.peek = 0;\n      this.index = -1;\n\n      this.advance();\n    }\n\n    Scanner.prototype.scanToken = function scanToken() {\n      while (this.peek <= $SPACE) {\n        if (++this.index >= this.length) {\n          this.peek = $EOF;\n          return null;\n        }\n\n        this.peek = this.input.charCodeAt(this.index);\n      }\n\n      if (isIdentifierStart(this.peek)) {\n        return this.scanIdentifier();\n      }\n\n      if (isDigit(this.peek)) {\n        return this.scanNumber(this.index);\n      }\n\n      var start = this.index;\n\n      switch (this.peek) {\n        case $PERIOD:\n          this.advance();\n          return isDigit(this.peek) ? this.scanNumber(start) : new Token(start, '.');\n        case $LPAREN:\n        case $RPAREN:\n        case $LBRACE:\n        case $RBRACE:\n        case $LBRACKET:\n        case $RBRACKET:\n        case $COMMA:\n        case $COLON:\n        case $SEMICOLON:\n          return this.scanCharacter(start, String.fromCharCode(this.peek));\n        case $SQ:\n        case $DQ:\n          return this.scanString();\n        case $PLUS:\n        case $MINUS:\n        case $STAR:\n        case $SLASH:\n        case $PERCENT:\n        case $CARET:\n        case $QUESTION:\n          return this.scanOperator(start, String.fromCharCode(this.peek));\n        case $LT:\n        case $GT:\n        case $BANG:\n        case $EQ:\n          return this.scanComplexOperator(start, $EQ, String.fromCharCode(this.peek), '=');\n        case $AMPERSAND:\n          return this.scanComplexOperator(start, $AMPERSAND, '&', '&');\n        case $BAR:\n          return this.scanComplexOperator(start, $BAR, '|', '|');\n        case $NBSP:\n          while (isWhitespace(this.peek)) {\n            this.advance();\n          }\n\n          return this.scanToken();\n      }\n\n      var character = String.fromCharCode(this.peek);\n      this.error('Unexpected character [' + character + ']');\n      return null;\n    };\n\n    Scanner.prototype.scanCharacter = function scanCharacter(start, text) {\n      assert(this.peek === text.charCodeAt(0));\n      this.advance();\n      return new Token(start, text);\n    };\n\n    Scanner.prototype.scanOperator = function scanOperator(start, text) {\n      assert(this.peek === text.charCodeAt(0));\n      assert(OPERATORS[text] === 1);\n      this.advance();\n      return new Token(start, text).withOp(text);\n    };\n\n    Scanner.prototype.scanComplexOperator = function scanComplexOperator(start, code, one, two) {\n      assert(this.peek === one.charCodeAt(0));\n      this.advance();\n\n      var text = one;\n\n      if (this.peek === code) {\n        this.advance();\n        text += two;\n      }\n\n      if (this.peek === code) {\n        this.advance();\n        text += two;\n      }\n\n      assert(OPERATORS[text] === 1);\n\n      return new Token(start, text).withOp(text);\n    };\n\n    Scanner.prototype.scanIdentifier = function scanIdentifier() {\n      assert(isIdentifierStart(this.peek));\n      var start = this.index;\n\n      this.advance();\n\n      while (isIdentifierPart(this.peek)) {\n        this.advance();\n      }\n\n      var text = this.input.substring(start, this.index);\n      var result = new Token(start, text);\n\n      if (OPERATORS[text] === 1) {\n        result.withOp(text);\n      } else {\n        result.withGetterSetter(text);\n      }\n\n      return result;\n    };\n\n    Scanner.prototype.scanNumber = function scanNumber(start) {\n      assert(isDigit(this.peek));\n      var simple = this.index === start;\n      this.advance();\n\n      while (true) {\n        if (!isDigit(this.peek)) {\n          if (this.peek === $PERIOD) {\n            simple = false;\n          } else if (isExponentStart(this.peek)) {\n            this.advance();\n\n            if (isExponentSign(this.peek)) {\n              this.advance();\n            }\n\n            if (!isDigit(this.peek)) {\n              this.error('Invalid exponent', -1);\n            }\n\n            simple = false;\n          } else {\n            break;\n          }\n        }\n\n        this.advance();\n      }\n\n      var text = this.input.substring(start, this.index);\n      var value = simple ? parseInt(text, 10) : parseFloat(text);\n      return new Token(start, text).withValue(value);\n    };\n\n    Scanner.prototype.scanString = function scanString() {\n      assert(this.peek === $SQ || this.peek === $DQ);\n\n      var start = this.index;\n      var quote = this.peek;\n\n      this.advance();\n\n      var buffer = void 0;\n      var marker = this.index;\n\n      while (this.peek !== quote) {\n        if (this.peek === $BACKSLASH) {\n          if (!buffer) {\n            buffer = [];\n          }\n\n          buffer.push(this.input.substring(marker, this.index));\n          this.advance();\n\n          var _unescaped = void 0;\n\n          if (this.peek === $u) {\n            var hex = this.input.substring(this.index + 1, this.index + 5);\n\n            if (!/[A-Z0-9]{4}/.test(hex)) {\n              this.error('Invalid unicode escape [\\\\u' + hex + ']');\n            }\n\n            _unescaped = parseInt(hex, 16);\n\n            for (var _i21 = 0; _i21 < 5; ++_i21) {\n              this.advance();\n            }\n          } else {\n            _unescaped = unescape(this.peek);\n            this.advance();\n          }\n\n          buffer.push(String.fromCharCode(_unescaped));\n          marker = this.index;\n        } else if (this.peek === $EOF) {\n          this.error('Unterminated quote');\n        } else {\n          this.advance();\n        }\n      }\n\n      var last = this.input.substring(marker, this.index);\n      this.advance();\n      var text = this.input.substring(start, this.index);\n\n      var unescaped = last;\n\n      if (buffer !== null && buffer !== undefined) {\n        buffer.push(last);\n        unescaped = buffer.join('');\n      }\n\n      return new Token(start, text).withValue(unescaped);\n    };\n\n    Scanner.prototype.advance = function advance() {\n      if (++this.index >= this.length) {\n        this.peek = $EOF;\n      } else {\n        this.peek = this.input.charCodeAt(this.index);\n      }\n    };\n\n    Scanner.prototype.error = function error(message) {\n      var offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\n      var position = this.index + offset;\n      throw new Error('Lexer Error: ' + message + ' at column ' + position + ' in expression [' + this.input + ']');\n    };\n\n    return Scanner;\n  }();\n\n  var OPERATORS = {\n    'undefined': 1,\n    'null': 1,\n    'true': 1,\n    'false': 1,\n    '+': 1,\n    '-': 1,\n    '*': 1,\n    '/': 1,\n    '%': 1,\n    '^': 1,\n    '=': 1,\n    '==': 1,\n    '===': 1,\n    '!=': 1,\n    '!==': 1,\n    '<': 1,\n    '>': 1,\n    '<=': 1,\n    '>=': 1,\n    '&&': 1,\n    '||': 1,\n    '&': 1,\n    '|': 1,\n    '!': 1,\n    '?': 1\n  };\n\n  var $EOF = 0;\n  var $TAB = 9;\n  var $LF = 10;\n  var $VTAB = 11;\n  var $FF = 12;\n  var $CR = 13;\n  var $SPACE = 32;\n  var $BANG = 33;\n  var $DQ = 34;\n  var $$ = 36;\n  var $PERCENT = 37;\n  var $AMPERSAND = 38;\n  var $SQ = 39;\n  var $LPAREN = 40;\n  var $RPAREN = 41;\n  var $STAR = 42;\n  var $PLUS = 43;\n  var $COMMA = 44;\n  var $MINUS = 45;\n  var $PERIOD = 46;\n  var $SLASH = 47;\n  var $COLON = 58;\n  var $SEMICOLON = 59;\n  var $LT = 60;\n  var $EQ = 61;\n  var $GT = 62;\n  var $QUESTION = 63;\n\n  var $0 = 48;\n  var $9 = 57;\n\n  var $A = 65;\n  var $E = 69;\n  var $Z = 90;\n\n  var $LBRACKET = 91;\n  var $BACKSLASH = 92;\n  var $RBRACKET = 93;\n  var $CARET = 94;\n  var $_ = 95;\n\n  var $a = 97;\n  var $e = 101;\n  var $f = 102;\n  var $n = 110;\n  var $r = 114;\n  var $t = 116;\n  var $u = 117;\n  var $v = 118;\n  var $z = 122;\n\n  var $LBRACE = 123;\n  var $BAR = 124;\n  var $RBRACE = 125;\n  var $NBSP = 160;\n\n  function isWhitespace(code) {\n    return code >= $TAB && code <= $SPACE || code === $NBSP;\n  }\n\n  function isIdentifierStart(code) {\n    return $a <= code && code <= $z || $A <= code && code <= $Z || code === $_ || code === $$;\n  }\n\n  function isIdentifierPart(code) {\n    return $a <= code && code <= $z || $A <= code && code <= $Z || $0 <= code && code <= $9 || code === $_ || code === $$;\n  }\n\n  function isDigit(code) {\n    return $0 <= code && code <= $9;\n  }\n\n  function isExponentStart(code) {\n    return code === $e || code === $E;\n  }\n\n  function isExponentSign(code) {\n    return code === $MINUS || code === $PLUS;\n  }\n\n  function unescape(code) {\n    switch (code) {\n      case $n:\n        return $LF;\n      case $f:\n        return $FF;\n      case $r:\n        return $CR;\n      case $t:\n        return $TAB;\n      case $v:\n        return $VTAB;\n      default:\n        return code;\n    }\n  }\n\n  function assert(condition, message) {\n    if (!condition) {\n      throw message || 'Assertion failed';\n    }\n  }\n\n  var EOF = new Token(-1, null);\n\n  var Parser = exports.Parser = function () {\n    function Parser() {\n      \n\n      this.cache = {};\n      this.lexer = new Lexer();\n    }\n\n    Parser.prototype.parse = function parse(input) {\n      input = input || '';\n\n      return this.cache[input] || (this.cache[input] = new ParserImplementation(this.lexer, input).parseChain());\n    };\n\n    return Parser;\n  }();\n\n  var ParserImplementation = exports.ParserImplementation = function () {\n    function ParserImplementation(lexer, input) {\n      \n\n      this.index = 0;\n      this.input = input;\n      this.tokens = lexer.lex(input);\n    }\n\n    ParserImplementation.prototype.parseChain = function parseChain() {\n      var isChain = false;\n      var expressions = [];\n\n      while (this.optional(';')) {\n        isChain = true;\n      }\n\n      while (this.index < this.tokens.length) {\n        if (this.peek.text === ')' || this.peek.text === '}' || this.peek.text === ']') {\n          this.error('Unconsumed token ' + this.peek.text);\n        }\n\n        var expr = this.parseBindingBehavior();\n        expressions.push(expr);\n\n        while (this.optional(';')) {\n          isChain = true;\n        }\n\n        if (isChain) {\n          this.error('Multiple expressions are not allowed.');\n        }\n      }\n\n      return expressions.length === 1 ? expressions[0] : new Chain(expressions);\n    };\n\n    ParserImplementation.prototype.parseBindingBehavior = function parseBindingBehavior() {\n      var result = this.parseValueConverter();\n\n      while (this.optional('&')) {\n        var name = this.peek.text;\n        var args = [];\n\n        this.advance();\n\n        while (this.optional(':')) {\n          args.push(this.parseExpression());\n        }\n\n        result = new BindingBehavior(result, name, args);\n      }\n\n      return result;\n    };\n\n    ParserImplementation.prototype.parseValueConverter = function parseValueConverter() {\n      var result = this.parseExpression();\n\n      while (this.optional('|')) {\n        var name = this.peek.text;\n        var args = [];\n\n        this.advance();\n\n        while (this.optional(':')) {\n          args.push(this.parseExpression());\n        }\n\n        result = new ValueConverter(result, name, args, [result].concat(args));\n      }\n\n      return result;\n    };\n\n    ParserImplementation.prototype.parseExpression = function parseExpression() {\n      var start = this.peek.index;\n      var result = this.parseConditional();\n\n      while (this.peek.text === '=') {\n        if (!result.isAssignable) {\n          var end = this.index < this.tokens.length ? this.peek.index : this.input.length;\n          var _expression = this.input.substring(start, end);\n\n          this.error('Expression ' + _expression + ' is not assignable');\n        }\n\n        this.expect('=');\n        result = new Assign(result, this.parseConditional());\n      }\n\n      return result;\n    };\n\n    ParserImplementation.prototype.parseConditional = function parseConditional() {\n      var start = this.peek.index;\n      var result = this.parseLogicalOr();\n\n      if (this.optional('?')) {\n        var yes = this.parseExpression();\n\n        if (!this.optional(':')) {\n          var end = this.index < this.tokens.length ? this.peek.index : this.input.length;\n          var _expression2 = this.input.substring(start, end);\n\n          this.error('Conditional expression ' + _expression2 + ' requires all 3 expressions');\n        }\n\n        var no = this.parseExpression();\n        result = new Conditional(result, yes, no);\n      }\n\n      return result;\n    };\n\n    ParserImplementation.prototype.parseLogicalOr = function parseLogicalOr() {\n      var result = this.parseLogicalAnd();\n\n      while (this.optional('||')) {\n        result = new Binary('||', result, this.parseLogicalAnd());\n      }\n\n      return result;\n    };\n\n    ParserImplementation.prototype.parseLogicalAnd = function parseLogicalAnd() {\n      var result = this.parseEquality();\n\n      while (this.optional('&&')) {\n        result = new Binary('&&', result, this.parseEquality());\n      }\n\n      return result;\n    };\n\n    ParserImplementation.prototype.parseEquality = function parseEquality() {\n      var result = this.parseRelational();\n\n      while (true) {\n        if (this.optional('==')) {\n          result = new Binary('==', result, this.parseRelational());\n        } else if (this.optional('!=')) {\n          result = new Binary('!=', result, this.parseRelational());\n        } else if (this.optional('===')) {\n          result = new Binary('===', result, this.parseRelational());\n        } else if (this.optional('!==')) {\n          result = new Binary('!==', result, this.parseRelational());\n        } else {\n          return result;\n        }\n      }\n    };\n\n    ParserImplementation.prototype.parseRelational = function parseRelational() {\n      var result = this.parseAdditive();\n\n      while (true) {\n        if (this.optional('<')) {\n          result = new Binary('<', result, this.parseAdditive());\n        } else if (this.optional('>')) {\n          result = new Binary('>', result, this.parseAdditive());\n        } else if (this.optional('<=')) {\n          result = new Binary('<=', result, this.parseAdditive());\n        } else if (this.optional('>=')) {\n          result = new Binary('>=', result, this.parseAdditive());\n        } else {\n          return result;\n        }\n      }\n    };\n\n    ParserImplementation.prototype.parseAdditive = function parseAdditive() {\n      var result = this.parseMultiplicative();\n\n      while (true) {\n        if (this.optional('+')) {\n          result = new Binary('+', result, this.parseMultiplicative());\n        } else if (this.optional('-')) {\n          result = new Binary('-', result, this.parseMultiplicative());\n        } else {\n          return result;\n        }\n      }\n    };\n\n    ParserImplementation.prototype.parseMultiplicative = function parseMultiplicative() {\n      var result = this.parsePrefix();\n\n      while (true) {\n        if (this.optional('*')) {\n          result = new Binary('*', result, this.parsePrefix());\n        } else if (this.optional('%')) {\n          result = new Binary('%', result, this.parsePrefix());\n        } else if (this.optional('/')) {\n          result = new Binary('/', result, this.parsePrefix());\n        } else {\n          return result;\n        }\n      }\n    };\n\n    ParserImplementation.prototype.parsePrefix = function parsePrefix() {\n      if (this.optional('+')) {\n        return this.parsePrefix();\n      } else if (this.optional('-')) {\n        return new Binary('-', new LiteralPrimitive(0), this.parsePrefix());\n      } else if (this.optional('!')) {\n        return new PrefixNot('!', this.parsePrefix());\n      }\n\n      return this.parseAccessOrCallMember();\n    };\n\n    ParserImplementation.prototype.parseAccessOrCallMember = function parseAccessOrCallMember() {\n      var result = this.parsePrimary();\n\n      while (true) {\n        if (this.optional('.')) {\n          var name = this.peek.text;\n\n          this.advance();\n\n          if (this.optional('(')) {\n            var args = this.parseExpressionList(')');\n            this.expect(')');\n            if (result instanceof AccessThis) {\n              result = new CallScope(name, args, result.ancestor);\n            } else {\n              result = new CallMember(result, name, args);\n            }\n          } else {\n            if (result instanceof AccessThis) {\n              result = new AccessScope(name, result.ancestor);\n            } else {\n              result = new AccessMember(result, name);\n            }\n          }\n        } else if (this.optional('[')) {\n          var key = this.parseExpression();\n          this.expect(']');\n          result = new AccessKeyed(result, key);\n        } else if (this.optional('(')) {\n          var _args = this.parseExpressionList(')');\n          this.expect(')');\n          result = new CallFunction(result, _args);\n        } else {\n          return result;\n        }\n      }\n    };\n\n    ParserImplementation.prototype.parsePrimary = function parsePrimary() {\n      if (this.optional('(')) {\n        var result = this.parseExpression();\n        this.expect(')');\n        return result;\n      } else if (this.optional('null')) {\n        return new LiteralPrimitive(null);\n      } else if (this.optional('undefined')) {\n        return new LiteralPrimitive(undefined);\n      } else if (this.optional('true')) {\n        return new LiteralPrimitive(true);\n      } else if (this.optional('false')) {\n        return new LiteralPrimitive(false);\n      } else if (this.optional('[')) {\n        var elements = this.parseExpressionList(']');\n        this.expect(']');\n        return new LiteralArray(elements);\n      } else if (this.peek.text === '{') {\n        return this.parseObject();\n      } else if (this.peek.key !== null && this.peek.key !== undefined) {\n        return this.parseAccessOrCallScope();\n      } else if (this.peek.value !== null && this.peek.value !== undefined) {\n        var value = this.peek.value;\n        this.advance();\n        return value instanceof String || typeof value === 'string' ? new LiteralString(value) : new LiteralPrimitive(value);\n      } else if (this.index >= this.tokens.length) {\n        throw new Error('Unexpected end of expression: ' + this.input);\n      } else {\n        this.error('Unexpected token ' + this.peek.text);\n      }\n    };\n\n    ParserImplementation.prototype.parseAccessOrCallScope = function parseAccessOrCallScope() {\n      var name = this.peek.key;\n\n      this.advance();\n\n      if (name === '$this') {\n        return new AccessThis(0);\n      }\n\n      var ancestor = 0;\n      while (name === '$parent') {\n        ancestor++;\n        if (this.optional('.')) {\n          name = this.peek.key;\n          this.advance();\n        } else if (this.peek === EOF || this.peek.text === '(' || this.peek.text === ')' || this.peek.text === '[' || this.peek.text === '}' || this.peek.text === ',' || this.peek.text === '|' || this.peek.text === '&') {\n          return new AccessThis(ancestor);\n        } else {\n          this.error('Unexpected token ' + this.peek.text);\n        }\n      }\n\n      if (this.optional('(')) {\n        var args = this.parseExpressionList(')');\n        this.expect(')');\n        return new CallScope(name, args, ancestor);\n      }\n\n      return new AccessScope(name, ancestor);\n    };\n\n    ParserImplementation.prototype.parseObject = function parseObject() {\n      var keys = [];\n      var values = [];\n\n      this.expect('{');\n\n      if (this.peek.text !== '}') {\n        do {\n          var peek = this.peek;\n          var value = peek.value;\n          keys.push(typeof value === 'string' ? value : peek.text);\n\n          this.advance();\n          if (peek.key && (this.peek.text === ',' || this.peek.text === '}')) {\n            --this.index;\n            values.push(this.parseAccessOrCallScope());\n          } else {\n            this.expect(':');\n            values.push(this.parseExpression());\n          }\n        } while (this.optional(','));\n      }\n\n      this.expect('}');\n\n      return new LiteralObject(keys, values);\n    };\n\n    ParserImplementation.prototype.parseExpressionList = function parseExpressionList(terminator) {\n      var result = [];\n\n      if (this.peek.text !== terminator) {\n        do {\n          result.push(this.parseExpression());\n        } while (this.optional(','));\n      }\n\n      return result;\n    };\n\n    ParserImplementation.prototype.optional = function optional(text) {\n      if (this.peek.text === text) {\n        this.advance();\n        return true;\n      }\n\n      return false;\n    };\n\n    ParserImplementation.prototype.expect = function expect(text) {\n      if (this.peek.text === text) {\n        this.advance();\n      } else {\n        this.error('Missing expected ' + text);\n      }\n    };\n\n    ParserImplementation.prototype.advance = function advance() {\n      this.index++;\n    };\n\n    ParserImplementation.prototype.error = function error(message) {\n      var location = this.index < this.tokens.length ? 'at column ' + (this.tokens[this.index].index + 1) + ' in' : 'at the end of the expression';\n\n      throw new Error('Parser Error: ' + message + ' ' + location + ' [' + this.input + ']');\n    };\n\n    _createClass(ParserImplementation, [{\n      key: 'peek',\n      get: function get() {\n        return this.index < this.tokens.length ? this.tokens[this.index] : EOF;\n      }\n    }]);\n\n    return ParserImplementation;\n  }();\n\n  var mapProto = Map.prototype;\n\n  function _getMapObserver(taskQueue, map) {\n    return ModifyMapObserver.for(taskQueue, map);\n  }\n\n  exports.getMapObserver = _getMapObserver;\n\n  var ModifyMapObserver = function (_ModifyCollectionObse2) {\n    _inherits(ModifyMapObserver, _ModifyCollectionObse2);\n\n    function ModifyMapObserver(taskQueue, map) {\n      \n\n      return _possibleConstructorReturn(this, _ModifyCollectionObse2.call(this, taskQueue, map));\n    }\n\n    ModifyMapObserver.for = function _for(taskQueue, map) {\n      if (!('__map_observer__' in map)) {\n        Reflect.defineProperty(map, '__map_observer__', {\n          value: ModifyMapObserver.create(taskQueue, map),\n          enumerable: false, configurable: false\n        });\n      }\n      return map.__map_observer__;\n    };\n\n    ModifyMapObserver.create = function create(taskQueue, map) {\n      var observer = new ModifyMapObserver(taskQueue, map);\n\n      var proto = mapProto;\n      if (proto.set !== map.set || proto.delete !== map.delete || proto.clear !== map.clear) {\n        proto = {\n          set: map.set,\n          delete: map.delete,\n          clear: map.clear\n        };\n      }\n\n      map.set = function () {\n        var hasValue = map.has(arguments[0]);\n        var type = hasValue ? 'update' : 'add';\n        var oldValue = map.get(arguments[0]);\n        var methodCallResult = proto.set.apply(map, arguments);\n        if (!hasValue || oldValue !== map.get(arguments[0])) {\n          observer.addChangeRecord({\n            type: type,\n            object: map,\n            key: arguments[0],\n            oldValue: oldValue\n          });\n        }\n        return methodCallResult;\n      };\n\n      map.delete = function () {\n        var hasValue = map.has(arguments[0]);\n        var oldValue = map.get(arguments[0]);\n        var methodCallResult = proto.delete.apply(map, arguments);\n        if (hasValue) {\n          observer.addChangeRecord({\n            type: 'delete',\n            object: map,\n            key: arguments[0],\n            oldValue: oldValue\n          });\n        }\n        return methodCallResult;\n      };\n\n      map.clear = function () {\n        var methodCallResult = proto.clear.apply(map, arguments);\n        observer.addChangeRecord({\n          type: 'clear',\n          object: map\n        });\n        return methodCallResult;\n      };\n\n      return observer;\n    };\n\n    return ModifyMapObserver;\n  }(ModifyCollectionObserver);\n\n  function findOriginalEventTarget(event) {\n    return event.path && event.path[0] || event.deepPath && event.deepPath[0] || event.target;\n  }\n\n  function stopPropagation() {\n    this.standardStopPropagation();\n    this.propagationStopped = true;\n  }\n\n  function interceptStopPropagation(event) {\n    event.standardStopPropagation = event.stopPropagation;\n    event.stopPropagation = stopPropagation;\n  }\n\n  function handleCapturedEvent(event) {\n    var interceptInstalled = false;\n    event.propagationStopped = false;\n    var target = findOriginalEventTarget(event);\n\n    var orderedCallbacks = [];\n\n    while (target) {\n      if (target.capturedCallbacks) {\n        var callback = target.capturedCallbacks[event.type];\n        if (callback) {\n          if (!interceptInstalled) {\n            interceptStopPropagation(event);\n            interceptInstalled = true;\n          }\n          orderedCallbacks.push(callback);\n        }\n      }\n      target = target.parentNode;\n    }\n    for (var _i22 = orderedCallbacks.length - 1; _i22 >= 0; _i22--) {\n      var orderedCallback = orderedCallbacks[_i22];\n      if ('handleEvent' in orderedCallback) {\n        orderedCallback.handleEvent(event);\n      } else {\n        orderedCallback(event);\n      }\n      if (event.propagationStopped) {\n        break;\n      }\n    }\n  }\n\n  var CapturedHandlerEntry = function () {\n    function CapturedHandlerEntry(eventName) {\n      \n\n      this.eventName = eventName;\n      this.count = 0;\n    }\n\n    CapturedHandlerEntry.prototype.increment = function increment() {\n      this.count++;\n\n      if (this.count === 1) {\n        _aureliaPal.DOM.addEventListener(this.eventName, handleCapturedEvent, true);\n      }\n    };\n\n    CapturedHandlerEntry.prototype.decrement = function decrement() {\n      this.count--;\n\n      if (this.count === 0) {\n        _aureliaPal.DOM.removeEventListener(this.eventName, handleCapturedEvent, true);\n      }\n    };\n\n    return CapturedHandlerEntry;\n  }();\n\n  function handleDelegatedEvent(event) {\n    var interceptInstalled = false;\n    event.propagationStopped = false;\n    var target = findOriginalEventTarget(event);\n\n    while (target && !event.propagationStopped) {\n      if (target.delegatedCallbacks) {\n        var callback = target.delegatedCallbacks[event.type];\n        if (callback) {\n          if (!interceptInstalled) {\n            interceptStopPropagation(event);\n            interceptInstalled = true;\n          }\n          if ('handleEvent' in callback) {\n            callback.handleEvent(event);\n          } else {\n            callback(event);\n          }\n        }\n      }\n\n      target = target.parentNode;\n    }\n  }\n\n  var DelegateHandlerEntry = function () {\n    function DelegateHandlerEntry(eventName) {\n      \n\n      this.eventName = eventName;\n      this.count = 0;\n    }\n\n    DelegateHandlerEntry.prototype.increment = function increment() {\n      this.count++;\n\n      if (this.count === 1) {\n        _aureliaPal.DOM.addEventListener(this.eventName, handleDelegatedEvent, false);\n      }\n    };\n\n    DelegateHandlerEntry.prototype.decrement = function decrement() {\n      this.count--;\n\n      if (this.count === 0) {\n        _aureliaPal.DOM.removeEventListener(this.eventName, handleDelegatedEvent);\n      }\n    };\n\n    return DelegateHandlerEntry;\n  }();\n\n  var DefaultEventStrategy = function () {\n    function DefaultEventStrategy() {\n      \n\n      this.delegatedHandlers = {};\n      this.capturedHandlers = {};\n    }\n\n    DefaultEventStrategy.prototype.subscribe = function subscribe(target, targetEvent, callback, strategy) {\n      var _this22 = this;\n\n      var delegatedHandlers = void 0;\n      var capturedHandlers = void 0;\n      var handlerEntry = void 0;\n\n      if (strategy === delegationStrategy.bubbling) {\n        var _ret = function () {\n          delegatedHandlers = _this22.delegatedHandlers;\n          handlerEntry = delegatedHandlers[targetEvent] || (delegatedHandlers[targetEvent] = new DelegateHandlerEntry(targetEvent));\n          var delegatedCallbacks = target.delegatedCallbacks || (target.delegatedCallbacks = {});\n\n          handlerEntry.increment();\n          delegatedCallbacks[targetEvent] = callback;\n\n          return {\n            v: function v() {\n              handlerEntry.decrement();\n              delegatedCallbacks[targetEvent] = null;\n            }\n          };\n        }();\n\n        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n      }\n      if (strategy === delegationStrategy.capturing) {\n        var _ret2 = function () {\n          capturedHandlers = _this22.capturedHandlers;\n          handlerEntry = capturedHandlers[targetEvent] || (capturedHandlers[targetEvent] = new CapturedHandlerEntry(targetEvent));\n          var capturedCallbacks = target.capturedCallbacks || (target.capturedCallbacks = {});\n\n          handlerEntry.increment();\n          capturedCallbacks[targetEvent] = callback;\n\n          return {\n            v: function v() {\n              handlerEntry.decrement();\n              capturedCallbacks[targetEvent] = null;\n            }\n          };\n        }();\n\n        if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n      }\n\n      target.addEventListener(targetEvent, callback, false);\n\n      return function () {\n        target.removeEventListener(targetEvent, callback);\n      };\n    };\n\n    return DefaultEventStrategy;\n  }();\n\n  var delegationStrategy = exports.delegationStrategy = {\n    none: 0,\n    capturing: 1,\n    bubbling: 2\n  };\n\n  var EventManager = exports.EventManager = function () {\n    function EventManager() {\n      \n\n      this.elementHandlerLookup = {};\n      this.eventStrategyLookup = {};\n\n      this.registerElementConfig({\n        tagName: 'input',\n        properties: {\n          value: ['change', 'input'],\n          checked: ['change', 'input'],\n          files: ['change', 'input']\n        }\n      });\n\n      this.registerElementConfig({\n        tagName: 'textarea',\n        properties: {\n          value: ['change', 'input']\n        }\n      });\n\n      this.registerElementConfig({\n        tagName: 'select',\n        properties: {\n          value: ['change']\n        }\n      });\n\n      this.registerElementConfig({\n        tagName: 'content editable',\n        properties: {\n          value: ['change', 'input', 'blur', 'keyup', 'paste']\n        }\n      });\n\n      this.registerElementConfig({\n        tagName: 'scrollable element',\n        properties: {\n          scrollTop: ['scroll'],\n          scrollLeft: ['scroll']\n        }\n      });\n\n      this.defaultEventStrategy = new DefaultEventStrategy();\n    }\n\n    EventManager.prototype.registerElementConfig = function registerElementConfig(config) {\n      var tagName = config.tagName.toLowerCase();\n      var properties = config.properties;\n      var propertyName = void 0;\n\n      this.elementHandlerLookup[tagName] = {};\n\n      for (propertyName in properties) {\n        if (properties.hasOwnProperty(propertyName)) {\n          this.registerElementPropertyConfig(tagName, propertyName, properties[propertyName]);\n        }\n      }\n    };\n\n    EventManager.prototype.registerElementPropertyConfig = function registerElementPropertyConfig(tagName, propertyName, events) {\n      this.elementHandlerLookup[tagName][propertyName] = this.createElementHandler(events);\n    };\n\n    EventManager.prototype.createElementHandler = function createElementHandler(events) {\n      return {\n        subscribe: function subscribe(target, callbackOrListener) {\n          events.forEach(function (changeEvent) {\n            target.addEventListener(changeEvent, callbackOrListener, false);\n          });\n\n          return function () {\n            events.forEach(function (changeEvent) {\n              target.removeEventListener(changeEvent, callbackOrListener, false);\n            });\n          };\n        }\n      };\n    };\n\n    EventManager.prototype.registerElementHandler = function registerElementHandler(tagName, handler) {\n      this.elementHandlerLookup[tagName.toLowerCase()] = handler;\n    };\n\n    EventManager.prototype.registerEventStrategy = function registerEventStrategy(eventName, strategy) {\n      this.eventStrategyLookup[eventName] = strategy;\n    };\n\n    EventManager.prototype.getElementHandler = function getElementHandler(target, propertyName) {\n      var tagName = void 0;\n      var lookup = this.elementHandlerLookup;\n\n      if (target.tagName) {\n        tagName = target.tagName.toLowerCase();\n\n        if (lookup[tagName] && lookup[tagName][propertyName]) {\n          return lookup[tagName][propertyName];\n        }\n\n        if (propertyName === 'textContent' || propertyName === 'innerHTML') {\n          return lookup['content editable'].value;\n        }\n\n        if (propertyName === 'scrollTop' || propertyName === 'scrollLeft') {\n          return lookup['scrollable element'][propertyName];\n        }\n      }\n\n      return null;\n    };\n\n    EventManager.prototype.addEventListener = function addEventListener(target, targetEvent, callbackOrListener, delegate) {\n      return (this.eventStrategyLookup[targetEvent] || this.defaultEventStrategy).subscribe(target, targetEvent, callbackOrListener, delegate);\n    };\n\n    return EventManager;\n  }();\n\n  var DirtyChecker = exports.DirtyChecker = function () {\n    function DirtyChecker() {\n      \n\n      this.tracked = [];\n      this.checkDelay = 120;\n    }\n\n    DirtyChecker.prototype.addProperty = function addProperty(property) {\n      var tracked = this.tracked;\n\n      tracked.push(property);\n\n      if (tracked.length === 1) {\n        this.scheduleDirtyCheck();\n      }\n    };\n\n    DirtyChecker.prototype.removeProperty = function removeProperty(property) {\n      var tracked = this.tracked;\n      tracked.splice(tracked.indexOf(property), 1);\n    };\n\n    DirtyChecker.prototype.scheduleDirtyCheck = function scheduleDirtyCheck() {\n      var _this23 = this;\n\n      setTimeout(function () {\n        return _this23.check();\n      }, this.checkDelay);\n    };\n\n    DirtyChecker.prototype.check = function check() {\n      var tracked = this.tracked;\n      var i = tracked.length;\n\n      while (i--) {\n        var current = tracked[i];\n\n        if (current.isDirty()) {\n          current.call();\n        }\n      }\n\n      if (tracked.length) {\n        this.scheduleDirtyCheck();\n      }\n    };\n\n    return DirtyChecker;\n  }();\n\n  var DirtyCheckProperty = exports.DirtyCheckProperty = (_dec5 = subscriberCollection(), _dec5(_class5 = function () {\n    function DirtyCheckProperty(dirtyChecker, obj, propertyName) {\n      \n\n      this.dirtyChecker = dirtyChecker;\n      this.obj = obj;\n      this.propertyName = propertyName;\n    }\n\n    DirtyCheckProperty.prototype.getValue = function getValue() {\n      return this.obj[this.propertyName];\n    };\n\n    DirtyCheckProperty.prototype.setValue = function setValue(newValue) {\n      this.obj[this.propertyName] = newValue;\n    };\n\n    DirtyCheckProperty.prototype.call = function call() {\n      var oldValue = this.oldValue;\n      var newValue = this.getValue();\n\n      this.callSubscribers(newValue, oldValue);\n\n      this.oldValue = newValue;\n    };\n\n    DirtyCheckProperty.prototype.isDirty = function isDirty() {\n      return this.oldValue !== this.obj[this.propertyName];\n    };\n\n    DirtyCheckProperty.prototype.subscribe = function subscribe(context, callable) {\n      if (!this.hasSubscribers()) {\n        this.oldValue = this.getValue();\n        this.dirtyChecker.addProperty(this);\n      }\n      this.addSubscriber(context, callable);\n    };\n\n    DirtyCheckProperty.prototype.unsubscribe = function unsubscribe(context, callable) {\n      if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n        this.dirtyChecker.removeProperty(this);\n      }\n    };\n\n    return DirtyCheckProperty;\n  }()) || _class5);\n\n\n  var logger = LogManager.getLogger('property-observation');\n\n  var propertyAccessor = exports.propertyAccessor = {\n    getValue: function getValue(obj, propertyName) {\n      return obj[propertyName];\n    },\n    setValue: function setValue(value, obj, propertyName) {\n      obj[propertyName] = value;\n    }\n  };\n\n  var PrimitiveObserver = exports.PrimitiveObserver = function () {\n    function PrimitiveObserver(primitive, propertyName) {\n      \n\n      this.doNotCache = true;\n\n      this.primitive = primitive;\n      this.propertyName = propertyName;\n    }\n\n    PrimitiveObserver.prototype.getValue = function getValue() {\n      return this.primitive[this.propertyName];\n    };\n\n    PrimitiveObserver.prototype.setValue = function setValue() {\n      var type = _typeof(this.primitive);\n      throw new Error('The ' + this.propertyName + ' property of a ' + type + ' (' + this.primitive + ') cannot be assigned.');\n    };\n\n    PrimitiveObserver.prototype.subscribe = function subscribe() {};\n\n    PrimitiveObserver.prototype.unsubscribe = function unsubscribe() {};\n\n    return PrimitiveObserver;\n  }();\n\n  var SetterObserver = exports.SetterObserver = (_dec6 = subscriberCollection(), _dec6(_class7 = function () {\n    function SetterObserver(taskQueue, obj, propertyName) {\n      \n\n      this.taskQueue = taskQueue;\n      this.obj = obj;\n      this.propertyName = propertyName;\n      this.queued = false;\n      this.observing = false;\n    }\n\n    SetterObserver.prototype.getValue = function getValue() {\n      return this.obj[this.propertyName];\n    };\n\n    SetterObserver.prototype.setValue = function setValue(newValue) {\n      this.obj[this.propertyName] = newValue;\n    };\n\n    SetterObserver.prototype.getterValue = function getterValue() {\n      return this.currentValue;\n    };\n\n    SetterObserver.prototype.setterValue = function setterValue(newValue) {\n      var oldValue = this.currentValue;\n\n      if (oldValue !== newValue) {\n        if (!this.queued) {\n          this.oldValue = oldValue;\n          this.queued = true;\n          this.taskQueue.queueMicroTask(this);\n        }\n\n        this.currentValue = newValue;\n      }\n    };\n\n    SetterObserver.prototype.call = function call() {\n      var oldValue = this.oldValue;\n      var newValue = this.currentValue;\n\n      this.queued = false;\n\n      this.callSubscribers(newValue, oldValue);\n    };\n\n    SetterObserver.prototype.subscribe = function subscribe(context, callable) {\n      if (!this.observing) {\n        this.convertProperty();\n      }\n      this.addSubscriber(context, callable);\n    };\n\n    SetterObserver.prototype.unsubscribe = function unsubscribe(context, callable) {\n      this.removeSubscriber(context, callable);\n    };\n\n    SetterObserver.prototype.convertProperty = function convertProperty() {\n      this.observing = true;\n      this.currentValue = this.obj[this.propertyName];\n      this.setValue = this.setterValue;\n      this.getValue = this.getterValue;\n\n      if (!Reflect.defineProperty(this.obj, this.propertyName, {\n        configurable: true,\n        enumerable: this.propertyName in this.obj ? this.obj.propertyIsEnumerable(this.propertyName) : true,\n        get: this.getValue.bind(this),\n        set: this.setValue.bind(this)\n      })) {\n        logger.warn('Cannot observe property \\'' + this.propertyName + '\\' of object', this.obj);\n      }\n    };\n\n    return SetterObserver;\n  }()) || _class7);\n\n  var XLinkAttributeObserver = exports.XLinkAttributeObserver = function () {\n    function XLinkAttributeObserver(element, propertyName, attributeName) {\n      \n\n      this.element = element;\n      this.propertyName = propertyName;\n      this.attributeName = attributeName;\n    }\n\n    XLinkAttributeObserver.prototype.getValue = function getValue() {\n      return this.element.getAttributeNS('http://www.w3.org/1999/xlink', this.attributeName);\n    };\n\n    XLinkAttributeObserver.prototype.setValue = function setValue(newValue) {\n      return this.element.setAttributeNS('http://www.w3.org/1999/xlink', this.attributeName, newValue);\n    };\n\n    XLinkAttributeObserver.prototype.subscribe = function subscribe() {\n      throw new Error('Observation of a \"' + this.element.nodeName + '\" element\\'s \"' + this.propertyName + '\" property is not supported.');\n    };\n\n    return XLinkAttributeObserver;\n  }();\n\n  var dataAttributeAccessor = exports.dataAttributeAccessor = {\n    getValue: function getValue(obj, propertyName) {\n      return obj.getAttribute(propertyName);\n    },\n    setValue: function setValue(value, obj, propertyName) {\n      if (value === null || value === undefined) {\n        obj.removeAttribute(propertyName);\n      } else {\n        obj.setAttribute(propertyName, value);\n      }\n    }\n  };\n\n  var DataAttributeObserver = exports.DataAttributeObserver = function () {\n    function DataAttributeObserver(element, propertyName) {\n      \n\n      this.element = element;\n      this.propertyName = propertyName;\n    }\n\n    DataAttributeObserver.prototype.getValue = function getValue() {\n      return this.element.getAttribute(this.propertyName);\n    };\n\n    DataAttributeObserver.prototype.setValue = function setValue(newValue) {\n      if (newValue === null || newValue === undefined) {\n        return this.element.removeAttribute(this.propertyName);\n      }\n      return this.element.setAttribute(this.propertyName, newValue);\n    };\n\n    DataAttributeObserver.prototype.subscribe = function subscribe() {\n      throw new Error('Observation of a \"' + this.element.nodeName + '\" element\\'s \"' + this.propertyName + '\" property is not supported.');\n    };\n\n    return DataAttributeObserver;\n  }();\n\n  var StyleObserver = exports.StyleObserver = function () {\n    function StyleObserver(element, propertyName) {\n      \n\n      this.element = element;\n      this.propertyName = propertyName;\n\n      this.styles = null;\n      this.version = 0;\n    }\n\n    StyleObserver.prototype.getValue = function getValue() {\n      return this.element.style.cssText;\n    };\n\n    StyleObserver.prototype._setProperty = function _setProperty(style, value) {\n      var priority = '';\n\n      if (value !== null && value !== undefined && typeof value.indexOf === 'function' && value.indexOf('!important') !== -1) {\n        priority = 'important';\n        value = value.replace('!important', '');\n      }\n      this.element.style.setProperty(style, value, priority);\n    };\n\n    StyleObserver.prototype.setValue = function setValue(newValue) {\n      var styles = this.styles || {};\n      var style = void 0;\n      var version = this.version;\n\n      if (newValue !== null && newValue !== undefined) {\n        if (newValue instanceof Object) {\n          var value = void 0;\n          for (style in newValue) {\n            if (newValue.hasOwnProperty(style)) {\n              value = newValue[style];\n              style = style.replace(/([A-Z])/g, function (m) {\n                return '-' + m.toLowerCase();\n              });\n              styles[style] = version;\n              this._setProperty(style, value);\n            }\n          }\n        } else if (newValue.length) {\n          var rx = /\\s*([\\w\\-]+)\\s*:\\s*((?:(?:[\\w\\-]+\\(\\s*(?:\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[\\w\\-]+\\(\\s*(?:^\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[^\\)]*)\\),?|[^\\)]*)\\),?|\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[^;]*),?\\s*)+);?/g;\n          var pair = void 0;\n          while ((pair = rx.exec(newValue)) !== null) {\n            style = pair[1];\n            if (!style) {\n              continue;\n            }\n\n            styles[style] = version;\n            this._setProperty(style, pair[2]);\n          }\n        }\n      }\n\n      this.styles = styles;\n      this.version += 1;\n\n      if (version === 0) {\n        return;\n      }\n\n      version -= 1;\n      for (style in styles) {\n        if (!styles.hasOwnProperty(style) || styles[style] !== version) {\n          continue;\n        }\n\n        this.element.style.removeProperty(style);\n      }\n    };\n\n    StyleObserver.prototype.subscribe = function subscribe() {\n      throw new Error('Observation of a \"' + this.element.nodeName + '\" element\\'s \"' + this.propertyName + '\" property is not supported.');\n    };\n\n    return StyleObserver;\n  }();\n\n  var ValueAttributeObserver = exports.ValueAttributeObserver = (_dec7 = subscriberCollection(), _dec7(_class8 = function () {\n    function ValueAttributeObserver(element, propertyName, handler) {\n      \n\n      this.element = element;\n      this.propertyName = propertyName;\n      this.handler = handler;\n      if (propertyName === 'files') {\n        this.setValue = function () {};\n      }\n    }\n\n    ValueAttributeObserver.prototype.getValue = function getValue() {\n      return this.element[this.propertyName];\n    };\n\n    ValueAttributeObserver.prototype.setValue = function setValue(newValue) {\n      newValue = newValue === undefined || newValue === null ? '' : newValue;\n      if (this.element[this.propertyName] !== newValue) {\n        this.element[this.propertyName] = newValue;\n        this.notify();\n      }\n    };\n\n    ValueAttributeObserver.prototype.notify = function notify() {\n      var oldValue = this.oldValue;\n      var newValue = this.getValue();\n\n      this.callSubscribers(newValue, oldValue);\n\n      this.oldValue = newValue;\n    };\n\n    ValueAttributeObserver.prototype.handleEvent = function handleEvent() {\n      this.notify();\n    };\n\n    ValueAttributeObserver.prototype.subscribe = function subscribe(context, callable) {\n      if (!this.hasSubscribers()) {\n        this.oldValue = this.getValue();\n        this.disposeHandler = this.handler.subscribe(this.element, this);\n      }\n\n      this.addSubscriber(context, callable);\n    };\n\n    ValueAttributeObserver.prototype.unsubscribe = function unsubscribe(context, callable) {\n      if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n        this.disposeHandler();\n        this.disposeHandler = null;\n      }\n    };\n\n    return ValueAttributeObserver;\n  }()) || _class8);\n\n\n  var checkedArrayContext = 'CheckedObserver:array';\n  var checkedValueContext = 'CheckedObserver:value';\n\n  var CheckedObserver = exports.CheckedObserver = (_dec8 = subscriberCollection(), _dec8(_class9 = function () {\n    function CheckedObserver(element, handler, observerLocator) {\n      \n\n      this.element = element;\n      this.handler = handler;\n      this.observerLocator = observerLocator;\n    }\n\n    CheckedObserver.prototype.getValue = function getValue() {\n      return this.value;\n    };\n\n    CheckedObserver.prototype.setValue = function setValue(newValue) {\n      if (this.initialSync && this.value === newValue) {\n        return;\n      }\n\n      if (this.arrayObserver) {\n        this.arrayObserver.unsubscribe(checkedArrayContext, this);\n        this.arrayObserver = null;\n      }\n\n      if (this.element.type === 'checkbox' && Array.isArray(newValue)) {\n        this.arrayObserver = this.observerLocator.getArrayObserver(newValue);\n        this.arrayObserver.subscribe(checkedArrayContext, this);\n      }\n\n      this.oldValue = this.value;\n      this.value = newValue;\n      this.synchronizeElement();\n      this.notify();\n\n      if (!this.initialSync) {\n        this.initialSync = true;\n        this.observerLocator.taskQueue.queueMicroTask(this);\n      }\n    };\n\n    CheckedObserver.prototype.call = function call(context, splices) {\n      this.synchronizeElement();\n\n      if (!this.valueObserver) {\n        this.valueObserver = this.element.__observers__.model || this.element.__observers__.value;\n        if (this.valueObserver) {\n          this.valueObserver.subscribe(checkedValueContext, this);\n        }\n      }\n    };\n\n    CheckedObserver.prototype.synchronizeElement = function synchronizeElement() {\n      var value = this.value;\n      var element = this.element;\n      var elementValue = element.hasOwnProperty('model') ? element.model : element.value;\n      var isRadio = element.type === 'radio';\n      var matcher = element.matcher || function (a, b) {\n        return a === b;\n      };\n\n      element.checked = isRadio && !!matcher(value, elementValue) || !isRadio && value === true || !isRadio && Array.isArray(value) && value.findIndex(function (item) {\n        return !!matcher(item, elementValue);\n      }) !== -1;\n    };\n\n    CheckedObserver.prototype.synchronizeValue = function synchronizeValue() {\n      var value = this.value;\n      var element = this.element;\n      var elementValue = element.hasOwnProperty('model') ? element.model : element.value;\n      var index = void 0;\n      var matcher = element.matcher || function (a, b) {\n        return a === b;\n      };\n\n      if (element.type === 'checkbox') {\n        if (Array.isArray(value)) {\n          index = value.findIndex(function (item) {\n            return !!matcher(item, elementValue);\n          });\n          if (element.checked && index === -1) {\n            value.push(elementValue);\n          } else if (!element.checked && index !== -1) {\n            value.splice(index, 1);\n          }\n\n          return;\n        }\n\n        value = element.checked;\n      } else if (element.checked) {\n        value = elementValue;\n      } else {\n        return;\n      }\n\n      this.oldValue = this.value;\n      this.value = value;\n      this.notify();\n    };\n\n    CheckedObserver.prototype.notify = function notify() {\n      var oldValue = this.oldValue;\n      var newValue = this.value;\n\n      if (newValue === oldValue) {\n        return;\n      }\n\n      this.callSubscribers(newValue, oldValue);\n    };\n\n    CheckedObserver.prototype.handleEvent = function handleEvent() {\n      this.synchronizeValue();\n    };\n\n    CheckedObserver.prototype.subscribe = function subscribe(context, callable) {\n      if (!this.hasSubscribers()) {\n        this.disposeHandler = this.handler.subscribe(this.element, this);\n      }\n      this.addSubscriber(context, callable);\n    };\n\n    CheckedObserver.prototype.unsubscribe = function unsubscribe(context, callable) {\n      if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n        this.disposeHandler();\n        this.disposeHandler = null;\n      }\n    };\n\n    CheckedObserver.prototype.unbind = function unbind() {\n      if (this.arrayObserver) {\n        this.arrayObserver.unsubscribe(checkedArrayContext, this);\n        this.arrayObserver = null;\n      }\n      if (this.valueObserver) {\n        this.valueObserver.unsubscribe(checkedValueContext, this);\n      }\n    };\n\n    return CheckedObserver;\n  }()) || _class9);\n\n\n  var selectArrayContext = 'SelectValueObserver:array';\n\n  var SelectValueObserver = exports.SelectValueObserver = (_dec9 = subscriberCollection(), _dec9(_class10 = function () {\n    function SelectValueObserver(element, handler, observerLocator) {\n      \n\n      this.element = element;\n      this.handler = handler;\n      this.observerLocator = observerLocator;\n    }\n\n    SelectValueObserver.prototype.getValue = function getValue() {\n      return this.value;\n    };\n\n    SelectValueObserver.prototype.setValue = function setValue(newValue) {\n      if (newValue !== null && newValue !== undefined && this.element.multiple && !Array.isArray(newValue)) {\n        throw new Error('Only null or Array instances can be bound to a multi-select.');\n      }\n      if (this.value === newValue) {\n        return;\n      }\n\n      if (this.arrayObserver) {\n        this.arrayObserver.unsubscribe(selectArrayContext, this);\n        this.arrayObserver = null;\n      }\n\n      if (Array.isArray(newValue)) {\n        this.arrayObserver = this.observerLocator.getArrayObserver(newValue);\n        this.arrayObserver.subscribe(selectArrayContext, this);\n      }\n\n      this.oldValue = this.value;\n      this.value = newValue;\n      this.synchronizeOptions();\n      this.notify();\n\n      if (!this.initialSync) {\n        this.initialSync = true;\n        this.observerLocator.taskQueue.queueMicroTask(this);\n      }\n    };\n\n    SelectValueObserver.prototype.call = function call(context, splices) {\n      this.synchronizeOptions();\n    };\n\n    SelectValueObserver.prototype.synchronizeOptions = function synchronizeOptions() {\n      var value = this.value;\n      var isArray = void 0;\n\n      if (Array.isArray(value)) {\n        isArray = true;\n      }\n\n      var options = this.element.options;\n      var i = options.length;\n      var matcher = this.element.matcher || function (a, b) {\n        return a === b;\n      };\n\n      var _loop = function _loop() {\n        var option = options.item(i);\n        var optionValue = option.hasOwnProperty('model') ? option.model : option.value;\n        if (isArray) {\n          option.selected = value.findIndex(function (item) {\n            return !!matcher(optionValue, item);\n          }) !== -1;\n          return 'continue';\n        }\n        option.selected = !!matcher(optionValue, value);\n      };\n\n      while (i--) {\n        var _ret3 = _loop();\n\n        if (_ret3 === 'continue') continue;\n      }\n    };\n\n    SelectValueObserver.prototype.synchronizeValue = function synchronizeValue() {\n      var _this24 = this;\n\n      var options = this.element.options;\n      var count = 0;\n      var value = [];\n\n      for (var _i23 = 0, ii = options.length; _i23 < ii; _i23++) {\n        var _option = options.item(_i23);\n        if (!_option.selected) {\n          continue;\n        }\n        value.push(_option.hasOwnProperty('model') ? _option.model : _option.value);\n        count++;\n      }\n\n      if (this.element.multiple) {\n        if (Array.isArray(this.value)) {\n          var _ret4 = function () {\n            var matcher = _this24.element.matcher || function (a, b) {\n              return a === b;\n            };\n\n            var i = 0;\n\n            var _loop2 = function _loop2() {\n              var a = _this24.value[i];\n              if (value.findIndex(function (b) {\n                return matcher(a, b);\n              }) === -1) {\n                _this24.value.splice(i, 1);\n              } else {\n                i++;\n              }\n            };\n\n            while (i < _this24.value.length) {\n              _loop2();\n            }\n\n            i = 0;\n\n            var _loop3 = function _loop3() {\n              var a = value[i];\n              if (_this24.value.findIndex(function (b) {\n                return matcher(a, b);\n              }) === -1) {\n                _this24.value.push(a);\n              }\n              i++;\n            };\n\n            while (i < value.length) {\n              _loop3();\n            }\n            return {\n              v: void 0\n            };\n          }();\n\n          if ((typeof _ret4 === 'undefined' ? 'undefined' : _typeof(_ret4)) === \"object\") return _ret4.v;\n        }\n      } else {\n        if (count === 0) {\n          value = null;\n        } else {\n          value = value[0];\n        }\n      }\n\n      if (value !== this.value) {\n        this.oldValue = this.value;\n        this.value = value;\n        this.notify();\n      }\n    };\n\n    SelectValueObserver.prototype.notify = function notify() {\n      var oldValue = this.oldValue;\n      var newValue = this.value;\n\n      this.callSubscribers(newValue, oldValue);\n    };\n\n    SelectValueObserver.prototype.handleEvent = function handleEvent() {\n      this.synchronizeValue();\n    };\n\n    SelectValueObserver.prototype.subscribe = function subscribe(context, callable) {\n      if (!this.hasSubscribers()) {\n        this.disposeHandler = this.handler.subscribe(this.element, this);\n      }\n      this.addSubscriber(context, callable);\n    };\n\n    SelectValueObserver.prototype.unsubscribe = function unsubscribe(context, callable) {\n      if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n        this.disposeHandler();\n        this.disposeHandler = null;\n      }\n    };\n\n    SelectValueObserver.prototype.bind = function bind() {\n      var _this25 = this;\n\n      this.domObserver = _aureliaPal.DOM.createMutationObserver(function () {\n        _this25.synchronizeOptions();\n        _this25.synchronizeValue();\n      });\n      this.domObserver.observe(this.element, { childList: true, subtree: true });\n    };\n\n    SelectValueObserver.prototype.unbind = function unbind() {\n      this.domObserver.disconnect();\n      this.domObserver = null;\n\n      if (this.arrayObserver) {\n        this.arrayObserver.unsubscribe(selectArrayContext, this);\n        this.arrayObserver = null;\n      }\n    };\n\n    return SelectValueObserver;\n  }()) || _class10);\n\n  var ClassObserver = exports.ClassObserver = function () {\n    function ClassObserver(element) {\n      \n\n      this.element = element;\n      this.doNotCache = true;\n      this.value = '';\n      this.version = 0;\n    }\n\n    ClassObserver.prototype.getValue = function getValue() {\n      return this.value;\n    };\n\n    ClassObserver.prototype.setValue = function setValue(newValue) {\n      var nameIndex = this.nameIndex || {};\n      var version = this.version;\n      var names = void 0;\n      var name = void 0;\n\n      if (newValue !== null && newValue !== undefined && newValue.length) {\n        names = newValue.split(/\\s+/);\n        for (var _i24 = 0, length = names.length; _i24 < length; _i24++) {\n          name = names[_i24];\n          if (name === '') {\n            continue;\n          }\n          nameIndex[name] = version;\n          this.element.classList.add(name);\n        }\n      }\n\n      this.value = newValue;\n      this.nameIndex = nameIndex;\n      this.version += 1;\n\n      if (version === 0) {\n        return;\n      }\n\n      version -= 1;\n      for (name in nameIndex) {\n        if (!nameIndex.hasOwnProperty(name) || nameIndex[name] !== version) {\n          continue;\n        }\n        this.element.classList.remove(name);\n      }\n    };\n\n    ClassObserver.prototype.subscribe = function subscribe() {\n      throw new Error('Observation of a \"' + this.element.nodeName + '\" element\\'s \"class\" property is not supported.');\n    };\n\n    return ClassObserver;\n  }();\n\n  function hasDeclaredDependencies(descriptor) {\n    return !!(descriptor && descriptor.get && descriptor.get.dependencies);\n  }\n\n  function declarePropertyDependencies(ctor, propertyName, dependencies) {\n    var descriptor = Object.getOwnPropertyDescriptor(ctor.prototype, propertyName);\n    descriptor.get.dependencies = dependencies;\n  }\n\n  function computedFrom() {\n    for (var _len = arguments.length, rest = Array(_len), _key = 0; _key < _len; _key++) {\n      rest[_key] = arguments[_key];\n    }\n\n    return function (target, key, descriptor) {\n      descriptor.get.dependencies = rest;\n      return descriptor;\n    };\n  }\n\n  var ComputedExpression = exports.ComputedExpression = function (_Expression19) {\n    _inherits(ComputedExpression, _Expression19);\n\n    function ComputedExpression(name, dependencies) {\n      \n\n      var _this26 = _possibleConstructorReturn(this, _Expression19.call(this));\n\n      _this26.name = name;\n      _this26.dependencies = dependencies;\n      _this26.isAssignable = true;\n      return _this26;\n    }\n\n    ComputedExpression.prototype.evaluate = function evaluate(scope, lookupFunctions) {\n      return scope.bindingContext[this.name];\n    };\n\n    ComputedExpression.prototype.assign = function assign(scope, value) {\n      scope.bindingContext[this.name] = value;\n    };\n\n    ComputedExpression.prototype.accept = function accept(visitor) {\n      throw new Error('not implemented');\n    };\n\n    ComputedExpression.prototype.connect = function connect(binding, scope) {\n      var dependencies = this.dependencies;\n      var i = dependencies.length;\n      while (i--) {\n        dependencies[i].connect(binding, scope);\n      }\n    };\n\n    return ComputedExpression;\n  }(Expression);\n\n  function createComputedObserver(obj, propertyName, descriptor, observerLocator) {\n    var dependencies = descriptor.get.dependencies;\n    if (!(dependencies instanceof ComputedExpression)) {\n      var _i25 = dependencies.length;\n      while (_i25--) {\n        dependencies[_i25] = observerLocator.parser.parse(dependencies[_i25]);\n      }\n      dependencies = descriptor.get.dependencies = new ComputedExpression(propertyName, dependencies);\n    }\n\n    var scope = { bindingContext: obj, overrideContext: createOverrideContext(obj) };\n    return new ExpressionObserver(scope, dependencies, observerLocator);\n  }\n\n  var svgElements = void 0;\n  var svgPresentationElements = void 0;\n  var svgPresentationAttributes = void 0;\n  var svgAnalyzer = void 0;\n\n  if (typeof FEATURE_NO_SVG === 'undefined') {\n    (function () {\n      svgElements = {\n        a: ['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'target', 'transform', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        altGlyph: ['class', 'dx', 'dy', 'externalResourcesRequired', 'format', 'glyphRef', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rotate', 'style', 'systemLanguage', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        altGlyphDef: ['id', 'xml:base', 'xml:lang', 'xml:space'],\n        altGlyphItem: ['id', 'xml:base', 'xml:lang', 'xml:space'],\n        animate: ['accumulate', 'additive', 'attributeName', 'attributeType', 'begin', 'by', 'calcMode', 'dur', 'end', 'externalResourcesRequired', 'fill', 'from', 'id', 'keySplines', 'keyTimes', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'systemLanguage', 'to', 'values', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        animateColor: ['accumulate', 'additive', 'attributeName', 'attributeType', 'begin', 'by', 'calcMode', 'dur', 'end', 'externalResourcesRequired', 'fill', 'from', 'id', 'keySplines', 'keyTimes', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'systemLanguage', 'to', 'values', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        animateMotion: ['accumulate', 'additive', 'begin', 'by', 'calcMode', 'dur', 'end', 'externalResourcesRequired', 'fill', 'from', 'id', 'keyPoints', 'keySplines', 'keyTimes', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'origin', 'path', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'rotate', 'systemLanguage', 'to', 'values', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        animateTransform: ['accumulate', 'additive', 'attributeName', 'attributeType', 'begin', 'by', 'calcMode', 'dur', 'end', 'externalResourcesRequired', 'fill', 'from', 'id', 'keySplines', 'keyTimes', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'systemLanguage', 'to', 'type', 'values', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        circle: ['class', 'cx', 'cy', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'r', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        clipPath: ['class', 'clipPathUnits', 'externalResourcesRequired', 'id', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        'color-profile': ['id', 'local', 'name', 'rendering-intent', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        cursor: ['externalResourcesRequired', 'id', 'requiredExtensions', 'requiredFeatures', 'systemLanguage', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        defs: ['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        desc: ['class', 'id', 'style', 'xml:base', 'xml:lang', 'xml:space'],\n        ellipse: ['class', 'cx', 'cy', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rx', 'ry', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        feBlend: ['class', 'height', 'id', 'in', 'in2', 'mode', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feColorMatrix: ['class', 'height', 'id', 'in', 'result', 'style', 'type', 'values', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feComponentTransfer: ['class', 'height', 'id', 'in', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feComposite: ['class', 'height', 'id', 'in', 'in2', 'k1', 'k2', 'k3', 'k4', 'operator', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feConvolveMatrix: ['bias', 'class', 'divisor', 'edgeMode', 'height', 'id', 'in', 'kernelMatrix', 'kernelUnitLength', 'order', 'preserveAlpha', 'result', 'style', 'targetX', 'targetY', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feDiffuseLighting: ['class', 'diffuseConstant', 'height', 'id', 'in', 'kernelUnitLength', 'result', 'style', 'surfaceScale', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feDisplacementMap: ['class', 'height', 'id', 'in', 'in2', 'result', 'scale', 'style', 'width', 'x', 'xChannelSelector', 'xml:base', 'xml:lang', 'xml:space', 'y', 'yChannelSelector'],\n        feDistantLight: ['azimuth', 'elevation', 'id', 'xml:base', 'xml:lang', 'xml:space'],\n        feFlood: ['class', 'height', 'id', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feFuncA: ['amplitude', 'exponent', 'id', 'intercept', 'offset', 'slope', 'tableValues', 'type', 'xml:base', 'xml:lang', 'xml:space'],\n        feFuncB: ['amplitude', 'exponent', 'id', 'intercept', 'offset', 'slope', 'tableValues', 'type', 'xml:base', 'xml:lang', 'xml:space'],\n        feFuncG: ['amplitude', 'exponent', 'id', 'intercept', 'offset', 'slope', 'tableValues', 'type', 'xml:base', 'xml:lang', 'xml:space'],\n        feFuncR: ['amplitude', 'exponent', 'id', 'intercept', 'offset', 'slope', 'tableValues', 'type', 'xml:base', 'xml:lang', 'xml:space'],\n        feGaussianBlur: ['class', 'height', 'id', 'in', 'result', 'stdDeviation', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feImage: ['class', 'externalResourcesRequired', 'height', 'id', 'preserveAspectRatio', 'result', 'style', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feMerge: ['class', 'height', 'id', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feMergeNode: ['id', 'xml:base', 'xml:lang', 'xml:space'],\n        feMorphology: ['class', 'height', 'id', 'in', 'operator', 'radius', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feOffset: ['class', 'dx', 'dy', 'height', 'id', 'in', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        fePointLight: ['id', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y', 'z'],\n        feSpecularLighting: ['class', 'height', 'id', 'in', 'kernelUnitLength', 'result', 'specularConstant', 'specularExponent', 'style', 'surfaceScale', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feSpotLight: ['id', 'limitingConeAngle', 'pointsAtX', 'pointsAtY', 'pointsAtZ', 'specularExponent', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y', 'z'],\n        feTile: ['class', 'height', 'id', 'in', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        feTurbulence: ['baseFrequency', 'class', 'height', 'id', 'numOctaves', 'result', 'seed', 'stitchTiles', 'style', 'type', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        filter: ['class', 'externalResourcesRequired', 'filterRes', 'filterUnits', 'height', 'id', 'primitiveUnits', 'style', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        font: ['class', 'externalResourcesRequired', 'horiz-adv-x', 'horiz-origin-x', 'horiz-origin-y', 'id', 'style', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'xml:base', 'xml:lang', 'xml:space'],\n        'font-face': ['accent-height', 'alphabetic', 'ascent', 'bbox', 'cap-height', 'descent', 'font-family', 'font-size', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'hanging', 'id', 'ideographic', 'mathematical', 'overline-position', 'overline-thickness', 'panose-1', 'slope', 'stemh', 'stemv', 'strikethrough-position', 'strikethrough-thickness', 'underline-position', 'underline-thickness', 'unicode-range', 'units-per-em', 'v-alphabetic', 'v-hanging', 'v-ideographic', 'v-mathematical', 'widths', 'x-height', 'xml:base', 'xml:lang', 'xml:space'],\n        'font-face-format': ['id', 'string', 'xml:base', 'xml:lang', 'xml:space'],\n        'font-face-name': ['id', 'name', 'xml:base', 'xml:lang', 'xml:space'],\n        'font-face-src': ['id', 'xml:base', 'xml:lang', 'xml:space'],\n        'font-face-uri': ['id', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        foreignObject: ['class', 'externalResourcesRequired', 'height', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        g: ['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        glyph: ['arabic-form', 'class', 'd', 'glyph-name', 'horiz-adv-x', 'id', 'lang', 'orientation', 'style', 'unicode', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'xml:base', 'xml:lang', 'xml:space'],\n        glyphRef: ['class', 'dx', 'dy', 'format', 'glyphRef', 'id', 'style', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        hkern: ['g1', 'g2', 'id', 'k', 'u1', 'u2', 'xml:base', 'xml:lang', 'xml:space'],\n        image: ['class', 'externalResourcesRequired', 'height', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'preserveAspectRatio', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        line: ['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'x1', 'x2', 'xml:base', 'xml:lang', 'xml:space', 'y1', 'y2'],\n        linearGradient: ['class', 'externalResourcesRequired', 'gradientTransform', 'gradientUnits', 'id', 'spreadMethod', 'style', 'x1', 'x2', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y1', 'y2'],\n        marker: ['class', 'externalResourcesRequired', 'id', 'markerHeight', 'markerUnits', 'markerWidth', 'orient', 'preserveAspectRatio', 'refX', 'refY', 'style', 'viewBox', 'xml:base', 'xml:lang', 'xml:space'],\n        mask: ['class', 'externalResourcesRequired', 'height', 'id', 'maskContentUnits', 'maskUnits', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        metadata: ['id', 'xml:base', 'xml:lang', 'xml:space'],\n        'missing-glyph': ['class', 'd', 'horiz-adv-x', 'id', 'style', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'xml:base', 'xml:lang', 'xml:space'],\n        mpath: ['externalResourcesRequired', 'id', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        path: ['class', 'd', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'pathLength', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        pattern: ['class', 'externalResourcesRequired', 'height', 'id', 'patternContentUnits', 'patternTransform', 'patternUnits', 'preserveAspectRatio', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'viewBox', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        polygon: ['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'points', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        polyline: ['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'points', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        radialGradient: ['class', 'cx', 'cy', 'externalResourcesRequired', 'fx', 'fy', 'gradientTransform', 'gradientUnits', 'id', 'r', 'spreadMethod', 'style', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        rect: ['class', 'externalResourcesRequired', 'height', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rx', 'ry', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        script: ['externalResourcesRequired', 'id', 'type', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        set: ['attributeName', 'attributeType', 'begin', 'dur', 'end', 'externalResourcesRequired', 'fill', 'id', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'systemLanguage', 'to', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        stop: ['class', 'id', 'offset', 'style', 'xml:base', 'xml:lang', 'xml:space'],\n        style: ['id', 'media', 'title', 'type', 'xml:base', 'xml:lang', 'xml:space'],\n        svg: ['baseProfile', 'class', 'contentScriptType', 'contentStyleType', 'externalResourcesRequired', 'height', 'id', 'onabort', 'onactivate', 'onclick', 'onerror', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'onresize', 'onscroll', 'onunload', 'onzoom', 'preserveAspectRatio', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'version', 'viewBox', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y', 'zoomAndPan'],\n        switch: ['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space'],\n        symbol: ['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'preserveAspectRatio', 'style', 'viewBox', 'xml:base', 'xml:lang', 'xml:space'],\n        text: ['class', 'dx', 'dy', 'externalResourcesRequired', 'id', 'lengthAdjust', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rotate', 'style', 'systemLanguage', 'textLength', 'transform', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        textPath: ['class', 'externalResourcesRequired', 'id', 'lengthAdjust', 'method', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'spacing', 'startOffset', 'style', 'systemLanguage', 'textLength', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space'],\n        title: ['class', 'id', 'style', 'xml:base', 'xml:lang', 'xml:space'],\n        tref: ['class', 'dx', 'dy', 'externalResourcesRequired', 'id', 'lengthAdjust', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rotate', 'style', 'systemLanguage', 'textLength', 'x', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        tspan: ['class', 'dx', 'dy', 'externalResourcesRequired', 'id', 'lengthAdjust', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rotate', 'style', 'systemLanguage', 'textLength', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        use: ['class', 'externalResourcesRequired', 'height', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y'],\n        view: ['externalResourcesRequired', 'id', 'preserveAspectRatio', 'viewBox', 'viewTarget', 'xml:base', 'xml:lang', 'xml:space', 'zoomAndPan'],\n        vkern: ['g1', 'g2', 'id', 'k', 'u1', 'u2', 'xml:base', 'xml:lang', 'xml:space']\n      };\n\n\n      svgPresentationElements = {\n        'a': true,\n        'altGlyph': true,\n        'animate': true,\n        'animateColor': true,\n        'circle': true,\n        'clipPath': true,\n        'defs': true,\n        'ellipse': true,\n        'feBlend': true,\n        'feColorMatrix': true,\n        'feComponentTransfer': true,\n        'feComposite': true,\n        'feConvolveMatrix': true,\n        'feDiffuseLighting': true,\n        'feDisplacementMap': true,\n        'feFlood': true,\n        'feGaussianBlur': true,\n        'feImage': true,\n        'feMerge': true,\n        'feMorphology': true,\n        'feOffset': true,\n        'feSpecularLighting': true,\n        'feTile': true,\n        'feTurbulence': true,\n        'filter': true,\n        'font': true,\n        'foreignObject': true,\n        'g': true,\n        'glyph': true,\n        'glyphRef': true,\n        'image': true,\n        'line': true,\n        'linearGradient': true,\n        'marker': true,\n        'mask': true,\n        'missing-glyph': true,\n        'path': true,\n        'pattern': true,\n        'polygon': true,\n        'polyline': true,\n        'radialGradient': true,\n        'rect': true,\n        'stop': true,\n        'svg': true,\n        'switch': true,\n        'symbol': true,\n        'text': true,\n        'textPath': true,\n        'tref': true,\n        'tspan': true,\n        'use': true\n      };\n\n      svgPresentationAttributes = {\n        'alignment-baseline': true,\n        'baseline-shift': true,\n        'clip-path': true,\n        'clip-rule': true,\n        'clip': true,\n        'color-interpolation-filters': true,\n        'color-interpolation': true,\n        'color-profile': true,\n        'color-rendering': true,\n        'color': true,\n        'cursor': true,\n        'direction': true,\n        'display': true,\n        'dominant-baseline': true,\n        'enable-background': true,\n        'fill-opacity': true,\n        'fill-rule': true,\n        'fill': true,\n        'filter': true,\n        'flood-color': true,\n        'flood-opacity': true,\n        'font-family': true,\n        'font-size-adjust': true,\n        'font-size': true,\n        'font-stretch': true,\n        'font-style': true,\n        'font-variant': true,\n        'font-weight': true,\n        'glyph-orientation-horizontal': true,\n        'glyph-orientation-vertical': true,\n        'image-rendering': true,\n        'kerning': true,\n        'letter-spacing': true,\n        'lighting-color': true,\n        'marker-end': true,\n        'marker-mid': true,\n        'marker-start': true,\n        'mask': true,\n        'opacity': true,\n        'overflow': true,\n        'pointer-events': true,\n        'shape-rendering': true,\n        'stop-color': true,\n        'stop-opacity': true,\n        'stroke-dasharray': true,\n        'stroke-dashoffset': true,\n        'stroke-linecap': true,\n        'stroke-linejoin': true,\n        'stroke-miterlimit': true,\n        'stroke-opacity': true,\n        'stroke-width': true,\n        'stroke': true,\n        'text-anchor': true,\n        'text-decoration': true,\n        'text-rendering': true,\n        'unicode-bidi': true,\n        'visibility': true,\n        'word-spacing': true,\n        'writing-mode': true\n      };\n\n      var createElement = function createElement(html) {\n        var div = _aureliaPal.DOM.createElement('div');\n        div.innerHTML = html;\n        return div.firstChild;\n      };\n\n      svgAnalyzer = function () {\n        function SVGAnalyzer() {\n          \n\n          if (createElement('<svg><altGlyph /></svg>').firstElementChild.nodeName === 'altglyph' && elements.altGlyph) {\n            elements.altglyph = elements.altGlyph;\n            delete elements.altGlyph;\n            elements.altglyphdef = elements.altGlyphDef;\n            delete elements.altGlyphDef;\n            elements.altglyphitem = elements.altGlyphItem;\n            delete elements.altGlyphItem;\n            elements.glyphref = elements.glyphRef;\n            delete elements.glyphRef;\n          }\n        }\n\n        SVGAnalyzer.prototype.isStandardSvgAttribute = function isStandardSvgAttribute(nodeName, attributeName) {\n          return presentationElements[nodeName] && presentationAttributes[attributeName] || elements[nodeName] && elements[nodeName].indexOf(attributeName) !== -1;\n        };\n\n        return SVGAnalyzer;\n      }();\n    })();\n  }\n\n  var elements = exports.elements = svgElements;\n  var presentationElements = exports.presentationElements = svgPresentationElements;\n  var presentationAttributes = exports.presentationAttributes = svgPresentationAttributes;\n  var SVGAnalyzer = exports.SVGAnalyzer = svgAnalyzer || function () {\n    function _class11() {\n      \n    }\n\n    _class11.prototype.isStandardSvgAttribute = function isStandardSvgAttribute() {\n      return false;\n    };\n\n    return _class11;\n  }();\n\n  var ObserverLocator = exports.ObserverLocator = (_temp = _class12 = function () {\n    function ObserverLocator(taskQueue, eventManager, dirtyChecker, svgAnalyzer, parser) {\n      \n\n      this.taskQueue = taskQueue;\n      this.eventManager = eventManager;\n      this.dirtyChecker = dirtyChecker;\n      this.svgAnalyzer = svgAnalyzer;\n      this.parser = parser;\n      this.adapters = [];\n      this.logger = LogManager.getLogger('observer-locator');\n    }\n\n    ObserverLocator.prototype.getObserver = function getObserver(obj, propertyName) {\n      var observersLookup = obj.__observers__;\n      var observer = void 0;\n\n      if (observersLookup && propertyName in observersLookup) {\n        return observersLookup[propertyName];\n      }\n\n      observer = this.createPropertyObserver(obj, propertyName);\n\n      if (!observer.doNotCache) {\n        if (observersLookup === undefined) {\n          observersLookup = this.getOrCreateObserversLookup(obj);\n        }\n\n        observersLookup[propertyName] = observer;\n      }\n\n      return observer;\n    };\n\n    ObserverLocator.prototype.getOrCreateObserversLookup = function getOrCreateObserversLookup(obj) {\n      return obj.__observers__ || this.createObserversLookup(obj);\n    };\n\n    ObserverLocator.prototype.createObserversLookup = function createObserversLookup(obj) {\n      var value = {};\n\n      if (!Reflect.defineProperty(obj, '__observers__', {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n        value: value\n      })) {\n        this.logger.warn('Cannot add observers to object', obj);\n      }\n\n      return value;\n    };\n\n    ObserverLocator.prototype.addAdapter = function addAdapter(adapter) {\n      this.adapters.push(adapter);\n    };\n\n    ObserverLocator.prototype.getAdapterObserver = function getAdapterObserver(obj, propertyName, descriptor) {\n      for (var _i26 = 0, ii = this.adapters.length; _i26 < ii; _i26++) {\n        var adapter = this.adapters[_i26];\n        var observer = adapter.getObserver(obj, propertyName, descriptor);\n        if (observer) {\n          return observer;\n        }\n      }\n      return null;\n    };\n\n    ObserverLocator.prototype.createPropertyObserver = function createPropertyObserver(obj, propertyName) {\n      var descriptor = void 0;\n      var handler = void 0;\n      var xlinkResult = void 0;\n\n      if (!(obj instanceof Object)) {\n        return new PrimitiveObserver(obj, propertyName);\n      }\n\n      if (obj instanceof _aureliaPal.DOM.Element) {\n        if (propertyName === 'class') {\n          return new ClassObserver(obj);\n        }\n        if (propertyName === 'style' || propertyName === 'css') {\n          return new StyleObserver(obj, propertyName);\n        }\n        handler = this.eventManager.getElementHandler(obj, propertyName);\n        if (propertyName === 'value' && obj.tagName.toLowerCase() === 'select') {\n          return new SelectValueObserver(obj, handler, this);\n        }\n        if (propertyName === 'checked' && obj.tagName.toLowerCase() === 'input') {\n          return new CheckedObserver(obj, handler, this);\n        }\n        if (handler) {\n          return new ValueAttributeObserver(obj, propertyName, handler);\n        }\n        xlinkResult = /^xlink:(.+)$/.exec(propertyName);\n        if (xlinkResult) {\n          return new XLinkAttributeObserver(obj, propertyName, xlinkResult[1]);\n        }\n        if (propertyName === 'role' && (obj instanceof _aureliaPal.DOM.Element || obj instanceof _aureliaPal.DOM.SVGElement) || /^\\w+:|^data-|^aria-/.test(propertyName) || obj instanceof _aureliaPal.DOM.SVGElement && this.svgAnalyzer.isStandardSvgAttribute(obj.nodeName, propertyName)) {\n          return new DataAttributeObserver(obj, propertyName);\n        }\n      }\n\n      descriptor = Object.getPropertyDescriptor(obj, propertyName);\n\n      if (hasDeclaredDependencies(descriptor)) {\n        return createComputedObserver(obj, propertyName, descriptor, this);\n      }\n\n      if (descriptor) {\n        var existingGetterOrSetter = descriptor.get || descriptor.set;\n        if (existingGetterOrSetter) {\n          if (existingGetterOrSetter.getObserver) {\n            return existingGetterOrSetter.getObserver(obj);\n          }\n\n          var adapterObserver = this.getAdapterObserver(obj, propertyName, descriptor);\n          if (adapterObserver) {\n            return adapterObserver;\n          }\n          return new DirtyCheckProperty(this.dirtyChecker, obj, propertyName);\n        }\n      }\n\n      if (obj instanceof Array) {\n        if (propertyName === 'length') {\n          return this.getArrayObserver(obj).getLengthObserver();\n        }\n\n        return new DirtyCheckProperty(this.dirtyChecker, obj, propertyName);\n      } else if (obj instanceof Map) {\n        if (propertyName === 'size') {\n          return this.getMapObserver(obj).getLengthObserver();\n        }\n\n        return new DirtyCheckProperty(this.dirtyChecker, obj, propertyName);\n      } else if (obj instanceof Set) {\n        if (propertyName === 'size') {\n          return this.getSetObserver(obj).getLengthObserver();\n        }\n\n        return new DirtyCheckProperty(this.dirtyChecker, obj, propertyName);\n      }\n\n      return new SetterObserver(this.taskQueue, obj, propertyName);\n    };\n\n    ObserverLocator.prototype.getAccessor = function getAccessor(obj, propertyName) {\n      if (obj instanceof _aureliaPal.DOM.Element) {\n        if (propertyName === 'class' || propertyName === 'style' || propertyName === 'css' || propertyName === 'value' && (obj.tagName.toLowerCase() === 'input' || obj.tagName.toLowerCase() === 'select') || propertyName === 'checked' && obj.tagName.toLowerCase() === 'input' || propertyName === 'model' && obj.tagName.toLowerCase() === 'input' || /^xlink:.+$/.exec(propertyName)) {\n          return this.getObserver(obj, propertyName);\n        }\n        if (/^\\w+:|^data-|^aria-/.test(propertyName) || obj instanceof _aureliaPal.DOM.SVGElement && this.svgAnalyzer.isStandardSvgAttribute(obj.nodeName, propertyName) || obj.tagName.toLowerCase() === 'img' && propertyName === 'src' || obj.tagName.toLowerCase() === 'a' && propertyName === 'href') {\n          return dataAttributeAccessor;\n        }\n      }\n      return propertyAccessor;\n    };\n\n    ObserverLocator.prototype.getArrayObserver = function getArrayObserver(array) {\n      return _getArrayObserver(this.taskQueue, array);\n    };\n\n    ObserverLocator.prototype.getMapObserver = function getMapObserver(map) {\n      return _getMapObserver(this.taskQueue, map);\n    };\n\n    ObserverLocator.prototype.getSetObserver = function getSetObserver(set) {\n      return _getSetObserver(this.taskQueue, set);\n    };\n\n    return ObserverLocator;\n  }(), _class12.inject = [_aureliaTaskQueue.TaskQueue, EventManager, DirtyChecker, SVGAnalyzer, Parser], _temp);\n\n  var ObjectObservationAdapter = exports.ObjectObservationAdapter = function () {\n    function ObjectObservationAdapter() {\n      \n    }\n\n    ObjectObservationAdapter.prototype.getObserver = function getObserver(object, propertyName, descriptor) {\n      throw new Error('BindingAdapters must implement getObserver(object, propertyName).');\n    };\n\n    return ObjectObservationAdapter;\n  }();\n\n  var BindingExpression = exports.BindingExpression = function () {\n    function BindingExpression(observerLocator, targetProperty, sourceExpression, mode, lookupFunctions, attribute) {\n      \n\n      this.observerLocator = observerLocator;\n      this.targetProperty = targetProperty;\n      this.sourceExpression = sourceExpression;\n      this.mode = mode;\n      this.lookupFunctions = lookupFunctions;\n      this.attribute = attribute;\n      this.discrete = false;\n    }\n\n    BindingExpression.prototype.createBinding = function createBinding(target) {\n      return new Binding(this.observerLocator, this.sourceExpression, target, this.targetProperty, this.mode, this.lookupFunctions);\n    };\n\n    return BindingExpression;\n  }();\n\n  var Binding = exports.Binding = (_dec10 = connectable(), _dec10(_class13 = function () {\n    function Binding(observerLocator, sourceExpression, target, targetProperty, mode, lookupFunctions) {\n      \n\n      this.observerLocator = observerLocator;\n      this.sourceExpression = sourceExpression;\n      this.target = target;\n      this.targetProperty = targetProperty;\n      this.mode = mode;\n      this.lookupFunctions = lookupFunctions;\n    }\n\n    Binding.prototype.updateTarget = function updateTarget(value) {\n      this.targetObserver.setValue(value, this.target, this.targetProperty);\n    };\n\n    Binding.prototype.updateSource = function updateSource(value) {\n      this.sourceExpression.assign(this.source, value, this.lookupFunctions);\n    };\n\n    Binding.prototype.call = function call(context, newValue, oldValue) {\n      if (!this.isBound) {\n        return;\n      }\n      if (context === sourceContext) {\n        oldValue = this.targetObserver.getValue(this.target, this.targetProperty);\n        newValue = this.sourceExpression.evaluate(this.source, this.lookupFunctions);\n        if (newValue !== oldValue) {\n          this.updateTarget(newValue);\n        }\n        if (this.mode !== bindingMode.oneTime) {\n          this._version++;\n          this.sourceExpression.connect(this, this.source);\n          this.unobserve(false);\n        }\n        return;\n      }\n      if (context === targetContext) {\n        if (newValue !== this.sourceExpression.evaluate(this.source, this.lookupFunctions)) {\n          this.updateSource(newValue);\n        }\n        return;\n      }\n      throw new Error('Unexpected call context ' + context);\n    };\n\n    Binding.prototype.bind = function bind(source) {\n      if (this.isBound) {\n        if (this.source === source) {\n          return;\n        }\n        this.unbind();\n      }\n      this.isBound = true;\n      this.source = source;\n\n      if (this.sourceExpression.bind) {\n        this.sourceExpression.bind(this, source, this.lookupFunctions);\n      }\n\n      var mode = this.mode;\n      if (!this.targetObserver) {\n        var method = mode === bindingMode.twoWay || mode === bindingMode.fromView ? 'getObserver' : 'getAccessor';\n        this.targetObserver = this.observerLocator[method](this.target, this.targetProperty);\n      }\n\n      if ('bind' in this.targetObserver) {\n        this.targetObserver.bind();\n      }\n      if (this.mode !== bindingMode.fromView) {\n        var value = this.sourceExpression.evaluate(source, this.lookupFunctions);\n        this.updateTarget(value);\n      }\n\n      if (mode === bindingMode.oneTime) {\n        return;\n      } else if (mode === bindingMode.toView) {\n        enqueueBindingConnect(this);\n      } else if (mode === bindingMode.twoWay) {\n        this.sourceExpression.connect(this, source);\n        this.targetObserver.subscribe(targetContext, this);\n      } else if (mode === bindingMode.fromView) {\n        this.targetObserver.subscribe(targetContext, this);\n      }\n    };\n\n    Binding.prototype.unbind = function unbind() {\n      if (!this.isBound) {\n        return;\n      }\n      this.isBound = false;\n      if (this.sourceExpression.unbind) {\n        this.sourceExpression.unbind(this, this.source);\n      }\n      this.source = null;\n      if ('unbind' in this.targetObserver) {\n        this.targetObserver.unbind();\n      }\n      if (this.targetObserver.unsubscribe) {\n        this.targetObserver.unsubscribe(targetContext, this);\n      }\n      this.unobserve(true);\n    };\n\n    Binding.prototype.connect = function connect(evaluate) {\n      if (!this.isBound) {\n        return;\n      }\n      if (evaluate) {\n        var value = this.sourceExpression.evaluate(this.source, this.lookupFunctions);\n        this.updateTarget(value);\n      }\n      this.sourceExpression.connect(this, this.source);\n    };\n\n    return Binding;\n  }()) || _class13);\n\n  var CallExpression = exports.CallExpression = function () {\n    function CallExpression(observerLocator, targetProperty, sourceExpression, lookupFunctions) {\n      \n\n      this.observerLocator = observerLocator;\n      this.targetProperty = targetProperty;\n      this.sourceExpression = sourceExpression;\n      this.lookupFunctions = lookupFunctions;\n    }\n\n    CallExpression.prototype.createBinding = function createBinding(target) {\n      return new Call(this.observerLocator, this.sourceExpression, target, this.targetProperty, this.lookupFunctions);\n    };\n\n    return CallExpression;\n  }();\n\n  var Call = exports.Call = function () {\n    function Call(observerLocator, sourceExpression, target, targetProperty, lookupFunctions) {\n      \n\n      this.sourceExpression = sourceExpression;\n      this.target = target;\n      this.targetProperty = observerLocator.getObserver(target, targetProperty);\n      this.lookupFunctions = lookupFunctions;\n    }\n\n    Call.prototype.callSource = function callSource($event) {\n      var overrideContext = this.source.overrideContext;\n      Object.assign(overrideContext, $event);\n      overrideContext.$event = $event;\n      var mustEvaluate = true;\n      var result = this.sourceExpression.evaluate(this.source, this.lookupFunctions, mustEvaluate);\n      delete overrideContext.$event;\n      for (var prop in $event) {\n        delete overrideContext[prop];\n      }\n      return result;\n    };\n\n    Call.prototype.bind = function bind(source) {\n      var _this27 = this;\n\n      if (this.isBound) {\n        if (this.source === source) {\n          return;\n        }\n        this.unbind();\n      }\n      this.isBound = true;\n      this.source = source;\n\n      if (this.sourceExpression.bind) {\n        this.sourceExpression.bind(this, source, this.lookupFunctions);\n      }\n      this.targetProperty.setValue(function ($event) {\n        return _this27.callSource($event);\n      });\n    };\n\n    Call.prototype.unbind = function unbind() {\n      if (!this.isBound) {\n        return;\n      }\n      this.isBound = false;\n      if (this.sourceExpression.unbind) {\n        this.sourceExpression.unbind(this, this.source);\n      }\n      this.source = null;\n      this.targetProperty.setValue(null);\n    };\n\n    return Call;\n  }();\n\n  var ValueConverterResource = exports.ValueConverterResource = function () {\n    function ValueConverterResource(name) {\n      \n\n      this.name = name;\n    }\n\n    ValueConverterResource.convention = function convention(name) {\n      if (name.endsWith('ValueConverter')) {\n        return new ValueConverterResource(camelCase(name.substring(0, name.length - 14)));\n      }\n    };\n\n    ValueConverterResource.prototype.initialize = function initialize(container, target) {\n      this.instance = container.get(target);\n    };\n\n    ValueConverterResource.prototype.register = function register(registry, name) {\n      registry.registerValueConverter(name || this.name, this.instance);\n    };\n\n    ValueConverterResource.prototype.load = function load(container, target) {};\n\n    return ValueConverterResource;\n  }();\n\n  function valueConverter(nameOrTarget) {\n    if (nameOrTarget === undefined || typeof nameOrTarget === 'string') {\n      return function (target) {\n        _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, new ValueConverterResource(nameOrTarget), target);\n      };\n    }\n\n    _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, new ValueConverterResource(), nameOrTarget);\n  }\n\n  var BindingBehaviorResource = exports.BindingBehaviorResource = function () {\n    function BindingBehaviorResource(name) {\n      \n\n      this.name = name;\n    }\n\n    BindingBehaviorResource.convention = function convention(name) {\n      if (name.endsWith('BindingBehavior')) {\n        return new BindingBehaviorResource(camelCase(name.substring(0, name.length - 15)));\n      }\n    };\n\n    BindingBehaviorResource.prototype.initialize = function initialize(container, target) {\n      this.instance = container.get(target);\n    };\n\n    BindingBehaviorResource.prototype.register = function register(registry, name) {\n      registry.registerBindingBehavior(name || this.name, this.instance);\n    };\n\n    BindingBehaviorResource.prototype.load = function load(container, target) {};\n\n    return BindingBehaviorResource;\n  }();\n\n  function bindingBehavior(nameOrTarget) {\n    if (nameOrTarget === undefined || typeof nameOrTarget === 'string') {\n      return function (target) {\n        _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, new BindingBehaviorResource(nameOrTarget), target);\n      };\n    }\n\n    _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, new BindingBehaviorResource(), nameOrTarget);\n  }\n\n  var ListenerExpression = exports.ListenerExpression = function () {\n    function ListenerExpression(eventManager, targetEvent, sourceExpression, delegationStrategy, preventDefault, lookupFunctions) {\n      \n\n      this.eventManager = eventManager;\n      this.targetEvent = targetEvent;\n      this.sourceExpression = sourceExpression;\n      this.delegationStrategy = delegationStrategy;\n      this.discrete = true;\n      this.preventDefault = preventDefault;\n      this.lookupFunctions = lookupFunctions;\n    }\n\n    ListenerExpression.prototype.createBinding = function createBinding(target) {\n      return new Listener(this.eventManager, this.targetEvent, this.delegationStrategy, this.sourceExpression, target, this.preventDefault, this.lookupFunctions);\n    };\n\n    return ListenerExpression;\n  }();\n\n  var Listener = exports.Listener = function () {\n    function Listener(eventManager, targetEvent, delegationStrategy, sourceExpression, target, preventDefault, lookupFunctions) {\n      \n\n      this.eventManager = eventManager;\n      this.targetEvent = targetEvent;\n      this.delegationStrategy = delegationStrategy;\n      this.sourceExpression = sourceExpression;\n      this.target = target;\n      this.preventDefault = preventDefault;\n      this.lookupFunctions = lookupFunctions;\n    }\n\n    Listener.prototype.callSource = function callSource(event) {\n      var overrideContext = this.source.overrideContext;\n      overrideContext.$event = event;\n      var mustEvaluate = true;\n      var result = this.sourceExpression.evaluate(this.source, this.lookupFunctions, mustEvaluate);\n      delete overrideContext.$event;\n      if (result !== true && this.preventDefault) {\n        event.preventDefault();\n      }\n      return result;\n    };\n\n    Listener.prototype.handleEvent = function handleEvent(event) {\n      this.callSource(event);\n    };\n\n    Listener.prototype.bind = function bind(source) {\n      if (this.isBound) {\n        if (this.source === source) {\n          return;\n        }\n        this.unbind();\n      }\n      this.isBound = true;\n      this.source = source;\n\n      if (this.sourceExpression.bind) {\n        this.sourceExpression.bind(this, source, this.lookupFunctions);\n      }\n      this._disposeListener = this.eventManager.addEventListener(this.target, this.targetEvent, this, this.delegationStrategy);\n    };\n\n    Listener.prototype.unbind = function unbind() {\n      if (!this.isBound) {\n        return;\n      }\n      this.isBound = false;\n      if (this.sourceExpression.unbind) {\n        this.sourceExpression.unbind(this, this.source);\n      }\n      this.source = null;\n      this._disposeListener();\n      this._disposeListener = null;\n    };\n\n    return Listener;\n  }();\n\n  function getAU(element) {\n    var au = element.au;\n\n    if (au === undefined) {\n      throw new Error('No Aurelia APIs are defined for the element: \"' + element.tagName + '\".');\n    }\n\n    return au;\n  }\n\n  var NameExpression = exports.NameExpression = function () {\n    function NameExpression(sourceExpression, apiName, lookupFunctions) {\n      \n\n      this.sourceExpression = sourceExpression;\n      this.apiName = apiName;\n      this.lookupFunctions = lookupFunctions;\n      this.discrete = true;\n    }\n\n    NameExpression.prototype.createBinding = function createBinding(target) {\n      return new NameBinder(this.sourceExpression, NameExpression.locateAPI(target, this.apiName), this.lookupFunctions);\n    };\n\n    NameExpression.locateAPI = function locateAPI(element, apiName) {\n      switch (apiName) {\n        case 'element':\n          return element;\n        case 'controller':\n          return getAU(element).controller;\n        case 'view-model':\n          return getAU(element).controller.viewModel;\n        case 'view':\n          return getAU(element).controller.view;\n        default:\n          var target = getAU(element)[apiName];\n\n          if (target === undefined) {\n            throw new Error('Attempted to reference \"' + apiName + '\", but it was not found amongst the target\\'s API.');\n          }\n\n          return target.viewModel;\n      }\n    };\n\n    return NameExpression;\n  }();\n\n  var NameBinder = function () {\n    function NameBinder(sourceExpression, target, lookupFunctions) {\n      \n\n      this.sourceExpression = sourceExpression;\n      this.target = target;\n      this.lookupFunctions = lookupFunctions;\n    }\n\n    NameBinder.prototype.bind = function bind(source) {\n      if (this.isBound) {\n        if (this.source === source) {\n          return;\n        }\n        this.unbind();\n      }\n      this.isBound = true;\n      this.source = source;\n      if (this.sourceExpression.bind) {\n        this.sourceExpression.bind(this, source, this.lookupFunctions);\n      }\n      this.sourceExpression.assign(this.source, this.target, this.lookupFunctions);\n    };\n\n    NameBinder.prototype.unbind = function unbind() {\n      if (!this.isBound) {\n        return;\n      }\n      this.isBound = false;\n      if (this.sourceExpression.evaluate(this.source, this.lookupFunctions) === this.target) {\n        this.sourceExpression.assign(this.source, null, this.lookupFunctions);\n      }\n      if (this.sourceExpression.unbind) {\n        this.sourceExpression.unbind(this, this.source);\n      }\n      this.source = null;\n    };\n\n    return NameBinder;\n  }();\n\n  var LookupFunctions = {\n    bindingBehaviors: function bindingBehaviors(name) {\n      return null;\n    },\n    valueConverters: function valueConverters(name) {\n      return null;\n    }\n  };\n\n  var BindingEngine = exports.BindingEngine = (_temp2 = _class14 = function () {\n    function BindingEngine(observerLocator, parser) {\n      \n\n      this.observerLocator = observerLocator;\n      this.parser = parser;\n    }\n\n    BindingEngine.prototype.createBindingExpression = function createBindingExpression(targetProperty, sourceExpression) {\n      var mode = arguments.length <= 2 || arguments[2] === undefined ? bindingMode.toView : arguments[2];\n      var lookupFunctions = arguments.length <= 3 || arguments[3] === undefined ? LookupFunctions : arguments[3];\n\n      return new BindingExpression(this.observerLocator, targetProperty, this.parser.parse(sourceExpression), mode, lookupFunctions);\n    };\n\n    BindingEngine.prototype.propertyObserver = function propertyObserver(obj, propertyName) {\n      var _this28 = this;\n\n      return {\n        subscribe: function subscribe(callback) {\n          var observer = _this28.observerLocator.getObserver(obj, propertyName);\n          observer.subscribe(callback);\n          return {\n            dispose: function dispose() {\n              return observer.unsubscribe(callback);\n            }\n          };\n        }\n      };\n    };\n\n    BindingEngine.prototype.collectionObserver = function collectionObserver(collection) {\n      var _this29 = this;\n\n      return {\n        subscribe: function subscribe(callback) {\n          var observer = void 0;\n          if (collection instanceof Array) {\n            observer = _this29.observerLocator.getArrayObserver(collection);\n          } else if (collection instanceof Map) {\n            observer = _this29.observerLocator.getMapObserver(collection);\n          } else if (collection instanceof Set) {\n            observer = _this29.observerLocator.getSetObserver(collection);\n          } else {\n            throw new Error('collection must be an instance of Array, Map or Set.');\n          }\n          observer.subscribe(callback);\n          return {\n            dispose: function dispose() {\n              return observer.unsubscribe(callback);\n            }\n          };\n        }\n      };\n    };\n\n    BindingEngine.prototype.expressionObserver = function expressionObserver(bindingContext, expression) {\n      var scope = { bindingContext: bindingContext, overrideContext: createOverrideContext(bindingContext) };\n      return new ExpressionObserver(scope, this.parser.parse(expression), this.observerLocator, LookupFunctions);\n    };\n\n    BindingEngine.prototype.parseExpression = function parseExpression(expression) {\n      return this.parser.parse(expression);\n    };\n\n    BindingEngine.prototype.registerAdapter = function registerAdapter(adapter) {\n      this.observerLocator.addAdapter(adapter);\n    };\n\n    return BindingEngine;\n  }(), _class14.inject = [ObserverLocator, Parser], _temp2);\n\n\n  var setProto = Set.prototype;\n\n  function _getSetObserver(taskQueue, set) {\n    return ModifySetObserver.for(taskQueue, set);\n  }\n\n  exports.getSetObserver = _getSetObserver;\n\n  var ModifySetObserver = function (_ModifyCollectionObse3) {\n    _inherits(ModifySetObserver, _ModifyCollectionObse3);\n\n    function ModifySetObserver(taskQueue, set) {\n      \n\n      return _possibleConstructorReturn(this, _ModifyCollectionObse3.call(this, taskQueue, set));\n    }\n\n    ModifySetObserver.for = function _for(taskQueue, set) {\n      if (!('__set_observer__' in set)) {\n        Reflect.defineProperty(set, '__set_observer__', {\n          value: ModifySetObserver.create(taskQueue, set),\n          enumerable: false, configurable: false\n        });\n      }\n      return set.__set_observer__;\n    };\n\n    ModifySetObserver.create = function create(taskQueue, set) {\n      var observer = new ModifySetObserver(taskQueue, set);\n\n      var proto = setProto;\n      if (proto.add !== set.add || proto.delete !== set.delete || proto.clear !== set.clear) {\n        proto = {\n          add: set.add,\n          delete: set.delete,\n          clear: set.clear\n        };\n      }\n\n      set.add = function () {\n        var type = 'add';\n        var oldSize = set.size;\n        var methodCallResult = proto.add.apply(set, arguments);\n        var hasValue = set.size === oldSize;\n        if (!hasValue) {\n          observer.addChangeRecord({\n            type: type,\n            object: set,\n            value: Array.from(set).pop()\n          });\n        }\n        return methodCallResult;\n      };\n\n      set.delete = function () {\n        var hasValue = set.has(arguments[0]);\n        var methodCallResult = proto.delete.apply(set, arguments);\n        if (hasValue) {\n          observer.addChangeRecord({\n            type: 'delete',\n            object: set,\n            value: arguments[0]\n          });\n        }\n        return methodCallResult;\n      };\n\n      set.clear = function () {\n        var methodCallResult = proto.clear.apply(set, arguments);\n        observer.addChangeRecord({\n          type: 'clear',\n          object: set\n        });\n        return methodCallResult;\n      };\n\n      return observer;\n    };\n\n    return ModifySetObserver;\n  }(ModifyCollectionObserver);\n\n  function observable(targetOrConfig, key, descriptor) {\n    function deco(target, key, descriptor, config) {\n      var isClassDecorator = key === undefined;\n      if (isClassDecorator) {\n        target = target.prototype;\n        key = typeof config === 'string' ? config : config.name;\n      }\n\n      var innerPropertyName = '_' + key;\n      var innerPropertyDescriptor = {\n        configurable: true,\n        enumerable: false,\n        writable: true\n      };\n\n      var callbackName = config && config.changeHandler || key + 'Changed';\n\n      if (descriptor) {\n        if (typeof descriptor.initializer === 'function') {\n          innerPropertyDescriptor.value = descriptor.initializer();\n        }\n      } else {\n        descriptor = {};\n      }\n\n      if (!('enumerable' in descriptor)) {\n        descriptor.enumerable = true;\n      }\n\n      delete descriptor.value;\n      delete descriptor.writable;\n      delete descriptor.initializer;\n\n      Reflect.defineProperty(target, innerPropertyName, innerPropertyDescriptor);\n\n      descriptor.get = function () {\n        return this[innerPropertyName];\n      };\n      descriptor.set = function (newValue) {\n        var oldValue = this[innerPropertyName];\n        if (newValue === oldValue) {\n          return;\n        }\n\n        this[innerPropertyName] = newValue;\n        Reflect.defineProperty(this, innerPropertyName, { enumerable: false });\n\n        if (this[callbackName]) {\n          this[callbackName](newValue, oldValue, key);\n        }\n      };\n\n      descriptor.get.dependencies = [innerPropertyName];\n\n      if (isClassDecorator) {\n        Reflect.defineProperty(target, key, descriptor);\n      } else {\n        return descriptor;\n      }\n    }\n\n    if (key === undefined) {\n      return function (t, k, d) {\n        return deco(t, k, d, targetOrConfig);\n      };\n    }\n    return deco(targetOrConfig, key, descriptor);\n  }\n\n  var signals = {};\n\n  function connectBindingToSignal(binding, name) {\n    if (!signals.hasOwnProperty(name)) {\n      signals[name] = 0;\n    }\n    binding.observeProperty(signals, name);\n  }\n\n  function signalBindings(name) {\n    if (signals.hasOwnProperty(name)) {\n      signals[name]++;\n    }\n  }\n});\r\ndefine('aurelia-bootstrapper',['module', 'exports', 'aurelia-pal', 'aurelia-polyfills'], function (module, exports, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.starting = undefined;\n  exports.bootstrap = bootstrap;\n\n\n  var bootstrapPromises = [];\n  var startResolve = void 0;\n\n  var startPromise = new Promise(function (resolve) {\n    return startResolve = resolve;\n  });\n  var host = _aureliaPal.PLATFORM.global;\n  var isNodeLike = typeof process !== 'undefined' && !process.browser;\n\n  function ready() {\n    if (!host.document || host.document.readyState === 'complete') {\n      return Promise.resolve();\n    }\n\n    return new Promise(function (resolve) {\n      host.document.addEventListener('DOMContentLoaded', completed);\n      host.addEventListener('load', completed);\n\n      function completed() {\n        host.document.removeEventListener('DOMContentLoaded', completed);\n        host.removeEventListener('load', completed);\n        resolve();\n      }\n    });\n  }\n\n  function createLoader() {\n    if (_aureliaPal.PLATFORM.Loader) {\n      return Promise.resolve(new _aureliaPal.PLATFORM.Loader());\n    }\n\n    if (typeof AURELIA_WEBPACK_2_0 === 'undefined') {\n      if (typeof __webpack_require__ !== 'undefined') {\n        var m = __webpack_require__(require.resolve('aurelia-loader-webpack'));\n        return Promise.resolve(new m.WebpackLoader());\n      }\n\n      if (host.System && typeof host.System.config === 'function') {\n        return host.System.normalize('aurelia-bootstrapper').then(function (bsn) {\n          return host.System.normalize('aurelia-loader-default', bsn);\n        }).then(function (loaderName) {\n          return host.System.import(loaderName).then(function (m) {\n            return new m.DefaultLoader();\n          });\n        });\n      }\n\n      if (typeof host.require === 'function' && typeof host.require.version === 'string') {\n        return new Promise(function (resolve, reject) {\n          return host.require(['aurelia-loader-default'], function (m) {\n            return resolve(new m.DefaultLoader());\n          }, reject);\n        });\n      }\n\n      if (isNodeLike && typeof module !== 'undefined' && typeof module.require !== 'undefined') {\n        var _m = module.require('aurelia-loader-nodejs');\n        return Promise.resolve(new _m.NodeJsLoader());\n      }\n    }\n\n    return Promise.reject('No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.');\n  }\n\n  function initializePal(loader) {\n    var type = void 0;\n\n    var isRenderer = isNodeLike && (process.type === 'renderer' || process.versions['node-webkit']);\n\n    if (isNodeLike && !isRenderer) {\n      type = 'nodejs';\n    } else if (typeof window !== 'undefined') {\n      type = 'browser';\n    } else if (typeof self !== 'undefined') {\n      type = 'worker';\n    } else {\n      throw new Error('Could not determine platform implementation to load.');\n    }\n\n    return loader.loadModule('aurelia-pal-' + type).then(function (palModule) {\n      return type === 'nodejs' && !_aureliaPal.isInitialized && palModule.globalize() || palModule.initialize();\n    });\n  }\n\n  function preparePlatform(loader) {\n    var map = function map(moduleId, relativeTo) {\n      return loader.normalize(moduleId, relativeTo).then(function (normalized) {\n        loader.map(moduleId, normalized);\n        return normalized;\n      });\n    };\n\n    return initializePal(loader).then(function () {\n      return loader.normalize('aurelia-bootstrapper');\n    }).then(function (bootstrapperName) {\n      var frameworkPromise = map(_aureliaPal.PLATFORM.moduleName('aurelia-framework', { exports: ['Aurelia'] }), bootstrapperName);\n\n      return Promise.all([frameworkPromise, frameworkPromise.then(function (frameworkName) {\n        return map('aurelia-dependency-injection', frameworkName);\n      }), map('aurelia-router', bootstrapperName), map('aurelia-logging-console', bootstrapperName)]);\n    }).then(function (_ref) {\n      var frameworkName = _ref[0];\n      return loader.loadModule(frameworkName);\n    }).then(function (fx) {\n      return startResolve(function () {\n        return new fx.Aurelia(loader);\n      });\n    });\n  }\n\n  function config(appHost, configModuleId, aurelia) {\n    aurelia.host = appHost;\n    aurelia.configModuleId = configModuleId || null;\n\n    if (configModuleId) {\n      return aurelia.loader.loadModule(configModuleId).then(function (customConfig) {\n        if (!customConfig.configure) {\n          throw new Error('Cannot initialize module \\'' + configModuleId + '\\' without a configure function.');\n        }\n\n        return customConfig.configure(aurelia);\n      });\n    }\n\n    aurelia.use.standardConfiguration().developmentLogging();\n\n    return aurelia.start().then(function () {\n      return aurelia.setRoot();\n    });\n  }\n\n  function run() {\n    return ready().then(createLoader).then(preparePlatform).then(function () {\n      var appHosts = host.document.querySelectorAll('[aurelia-app],[data-aurelia-app]');\n      for (var i = 0, ii = appHosts.length; i < ii; ++i) {\n        var appHost = appHosts[i];\n        var moduleId = appHost.getAttribute('aurelia-app') || appHost.getAttribute('data-aurelia-app');\n        bootstrap(config.bind(null, appHost, moduleId));\n      }\n\n      var toConsole = console.error.bind(console);\n      var bootstraps = bootstrapPromises.map(function (p) {\n        return p.catch(toConsole);\n      });\n      bootstrapPromises = null;\n      return Promise.all(bootstraps);\n    });\n  }\n\n  function bootstrap(configure) {\n    var p = startPromise.then(function (factory) {\n      return configure(factory());\n    });\n    if (bootstrapPromises) bootstrapPromises.push(p);\n    return p;\n  }\n\n  var starting = exports.starting = run();\n});\r\ndefine('aurelia-dependency-injection',['exports', 'aurelia-metadata', 'aurelia-pal'], function (exports, _aureliaMetadata, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Container = exports.InvocationHandler = exports._emptyParameters = exports.SingletonRegistration = exports.TransientRegistration = exports.FactoryInvoker = exports.NewInstance = exports.Factory = exports.StrategyResolver = exports.Parent = exports.Optional = exports.All = exports.Lazy = exports.resolver = undefined;\n  exports.getDecoratorDependencies = getDecoratorDependencies;\n  exports.lazy = lazy;\n  exports.all = all;\n  exports.optional = optional;\n  exports.parent = parent;\n  exports.factory = factory;\n  exports.newInstance = newInstance;\n  exports.invoker = invoker;\n  exports.invokeAsFactory = invokeAsFactory;\n  exports.registration = registration;\n  exports.transient = transient;\n  exports.singleton = singleton;\n  exports.autoinject = autoinject;\n  exports.inject = inject;\n\n  \n\n  var _dec, _class, _dec2, _class3, _dec3, _class5, _dec4, _class7, _dec5, _class9, _dec6, _class11, _dec7, _class13, _classInvokers;\n\n  var resolver = exports.resolver = _aureliaMetadata.protocol.create('aurelia:resolver', function (target) {\n    if (!(typeof target.get === 'function')) {\n      return 'Resolvers must implement: get(container: Container, key: any): any';\n    }\n\n    return true;\n  });\n\n  var Lazy = exports.Lazy = (_dec = resolver(), _dec(_class = function () {\n    function Lazy(key) {\n      \n\n      this._key = key;\n    }\n\n    Lazy.prototype.get = function get(container) {\n      var _this = this;\n\n      return function () {\n        return container.get(_this._key);\n      };\n    };\n\n    Lazy.of = function of(key) {\n      return new Lazy(key);\n    };\n\n    return Lazy;\n  }()) || _class);\n  var All = exports.All = (_dec2 = resolver(), _dec2(_class3 = function () {\n    function All(key) {\n      \n\n      this._key = key;\n    }\n\n    All.prototype.get = function get(container) {\n      return container.getAll(this._key);\n    };\n\n    All.of = function of(key) {\n      return new All(key);\n    };\n\n    return All;\n  }()) || _class3);\n  var Optional = exports.Optional = (_dec3 = resolver(), _dec3(_class5 = function () {\n    function Optional(key) {\n      var checkParent = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n      \n\n      this._key = key;\n      this._checkParent = checkParent;\n    }\n\n    Optional.prototype.get = function get(container) {\n      if (container.hasResolver(this._key, this._checkParent)) {\n        return container.get(this._key);\n      }\n\n      return null;\n    };\n\n    Optional.of = function of(key) {\n      var checkParent = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n      return new Optional(key, checkParent);\n    };\n\n    return Optional;\n  }()) || _class5);\n  var Parent = exports.Parent = (_dec4 = resolver(), _dec4(_class7 = function () {\n    function Parent(key) {\n      \n\n      this._key = key;\n    }\n\n    Parent.prototype.get = function get(container) {\n      return container.parent ? container.parent.get(this._key) : null;\n    };\n\n    Parent.of = function of(key) {\n      return new Parent(key);\n    };\n\n    return Parent;\n  }()) || _class7);\n  var StrategyResolver = exports.StrategyResolver = (_dec5 = resolver(), _dec5(_class9 = function () {\n    function StrategyResolver(strategy, state) {\n      \n\n      this.strategy = strategy;\n      this.state = state;\n    }\n\n    StrategyResolver.prototype.get = function get(container, key) {\n      switch (this.strategy) {\n        case 0:\n          return this.state;\n        case 1:\n          var singleton = container.invoke(this.state);\n          this.state = singleton;\n          this.strategy = 0;\n          return singleton;\n        case 2:\n          return container.invoke(this.state);\n        case 3:\n          return this.state(container, key, this);\n        case 4:\n          return this.state[0].get(container, key);\n        case 5:\n          return container.get(this.state);\n        default:\n          throw new Error('Invalid strategy: ' + this.strategy);\n      }\n    };\n\n    return StrategyResolver;\n  }()) || _class9);\n  var Factory = exports.Factory = (_dec6 = resolver(), _dec6(_class11 = function () {\n    function Factory(key) {\n      \n\n      this._key = key;\n    }\n\n    Factory.prototype.get = function get(container) {\n      var _this2 = this;\n\n      return function () {\n        for (var _len = arguments.length, rest = Array(_len), _key = 0; _key < _len; _key++) {\n          rest[_key] = arguments[_key];\n        }\n\n        return container.invoke(_this2._key, rest);\n      };\n    };\n\n    Factory.of = function of(key) {\n      return new Factory(key);\n    };\n\n    return Factory;\n  }()) || _class11);\n  var NewInstance = exports.NewInstance = (_dec7 = resolver(), _dec7(_class13 = function () {\n    function NewInstance(key) {\n      \n\n      this.key = key;\n      this.asKey = key;\n\n      for (var _len2 = arguments.length, dynamicDependencies = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        dynamicDependencies[_key2 - 1] = arguments[_key2];\n      }\n\n      this.dynamicDependencies = dynamicDependencies;\n    }\n\n    NewInstance.prototype.get = function get(container) {\n      var dynamicDependencies = this.dynamicDependencies.length > 0 ? this.dynamicDependencies.map(function (dependency) {\n        return dependency['protocol:aurelia:resolver'] ? dependency.get(container) : container.get(dependency);\n      }) : undefined;\n      var instance = container.invoke(this.key, dynamicDependencies);\n      container.registerInstance(this.asKey, instance);\n      return instance;\n    };\n\n    NewInstance.prototype.as = function as(key) {\n      this.asKey = key;\n      return this;\n    };\n\n    NewInstance.of = function of(key) {\n      for (var _len3 = arguments.length, dynamicDependencies = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        dynamicDependencies[_key3 - 1] = arguments[_key3];\n      }\n\n      return new (Function.prototype.bind.apply(NewInstance, [null].concat([key], dynamicDependencies)))();\n    };\n\n    return NewInstance;\n  }()) || _class13);\n  function getDecoratorDependencies(target, name) {\n    var dependencies = target.inject;\n    if (typeof dependencies === 'function') {\n      throw new Error('Decorator ' + name + ' cannot be used with \"inject()\".  Please use an array instead.');\n    }\n    if (!dependencies) {\n      dependencies = _aureliaMetadata.metadata.getOwn(_aureliaMetadata.metadata.paramTypes, target).slice();\n      target.inject = dependencies;\n    }\n\n    return dependencies;\n  }\n\n  function lazy(keyValue) {\n    return function (target, key, index) {\n      var params = getDecoratorDependencies(target, 'lazy');\n      params[index] = Lazy.of(keyValue);\n    };\n  }\n\n  function all(keyValue) {\n    return function (target, key, index) {\n      var params = getDecoratorDependencies(target, 'all');\n      params[index] = All.of(keyValue);\n    };\n  }\n\n  function optional() {\n    var checkParentOrTarget = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n    var deco = function deco(checkParent) {\n      return function (target, key, index) {\n        var params = getDecoratorDependencies(target, 'optional');\n        params[index] = Optional.of(params[index], checkParent);\n      };\n    };\n    if (typeof checkParentOrTarget === 'boolean') {\n      return deco(checkParentOrTarget);\n    }\n    return deco(true);\n  }\n\n  function parent(target, key, index) {\n    var params = getDecoratorDependencies(target, 'parent');\n    params[index] = Parent.of(params[index]);\n  }\n\n  function factory(keyValue, asValue) {\n    return function (target, key, index) {\n      var params = getDecoratorDependencies(target, 'factory');\n      var factory = Factory.of(keyValue);\n      params[index] = asValue ? factory.as(asValue) : factory;\n    };\n  }\n\n  function newInstance(asKeyOrTarget) {\n    for (var _len4 = arguments.length, dynamicDependencies = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      dynamicDependencies[_key4 - 1] = arguments[_key4];\n    }\n\n    var deco = function deco(asKey) {\n      return function (target, key, index) {\n        var params = getDecoratorDependencies(target, 'newInstance');\n        params[index] = NewInstance.of.apply(NewInstance, [params[index]].concat(dynamicDependencies));\n        if (!!asKey) {\n          params[index].as(asKey);\n        }\n      };\n    };\n    if (arguments.length >= 1) {\n      return deco(asKeyOrTarget);\n    }\n    return deco();\n  }\n\n  function invoker(value) {\n    return function (target) {\n      _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.invoker, value, target);\n    };\n  }\n\n  function invokeAsFactory(potentialTarget) {\n    var deco = function deco(target) {\n      _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.invoker, FactoryInvoker.instance, target);\n    };\n\n    return potentialTarget ? deco(potentialTarget) : deco;\n  }\n\n  var FactoryInvoker = exports.FactoryInvoker = function () {\n    function FactoryInvoker() {\n      \n    }\n\n    FactoryInvoker.prototype.invoke = function invoke(container, fn, dependencies) {\n      var i = dependencies.length;\n      var args = new Array(i);\n\n      while (i--) {\n        args[i] = container.get(dependencies[i]);\n      }\n\n      return fn.apply(undefined, args);\n    };\n\n    FactoryInvoker.prototype.invokeWithDynamicDependencies = function invokeWithDynamicDependencies(container, fn, staticDependencies, dynamicDependencies) {\n      var i = staticDependencies.length;\n      var args = new Array(i);\n\n      while (i--) {\n        args[i] = container.get(staticDependencies[i]);\n      }\n\n      if (dynamicDependencies !== undefined) {\n        args = args.concat(dynamicDependencies);\n      }\n\n      return fn.apply(undefined, args);\n    };\n\n    return FactoryInvoker;\n  }();\n\n  FactoryInvoker.instance = new FactoryInvoker();\n\n  function registration(value) {\n    return function (target) {\n      _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.registration, value, target);\n    };\n  }\n\n  function transient(key) {\n    return registration(new TransientRegistration(key));\n  }\n\n  function singleton(keyOrRegisterInChild) {\n    var registerInChild = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n    return registration(new SingletonRegistration(keyOrRegisterInChild, registerInChild));\n  }\n\n  var TransientRegistration = exports.TransientRegistration = function () {\n    function TransientRegistration(key) {\n      \n\n      this._key = key;\n    }\n\n    TransientRegistration.prototype.registerResolver = function registerResolver(container, key, fn) {\n      var existingResolver = container.getResolver(this._key || key);\n      return existingResolver === undefined ? container.registerTransient(this._key || key, fn) : existingResolver;\n    };\n\n    return TransientRegistration;\n  }();\n\n  var SingletonRegistration = exports.SingletonRegistration = function () {\n    function SingletonRegistration(keyOrRegisterInChild) {\n      var registerInChild = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n      \n\n      if (typeof keyOrRegisterInChild === 'boolean') {\n        this._registerInChild = keyOrRegisterInChild;\n      } else {\n        this._key = keyOrRegisterInChild;\n        this._registerInChild = registerInChild;\n      }\n    }\n\n    SingletonRegistration.prototype.registerResolver = function registerResolver(container, key, fn) {\n      var targetContainer = this._registerInChild ? container : container.root;\n      var existingResolver = targetContainer.getResolver(this._key || key);\n      return existingResolver === undefined ? targetContainer.registerSingleton(this._key || key, fn) : existingResolver;\n    };\n\n    return SingletonRegistration;\n  }();\n\n  function validateKey(key) {\n    if (key === null || key === undefined) {\n      throw new Error('key/value cannot be null or undefined. Are you trying to inject/register something that doesn\\'t exist with DI?');\n    }\n  }\n  var _emptyParameters = exports._emptyParameters = Object.freeze([]);\n\n  _aureliaMetadata.metadata.registration = 'aurelia:registration';\n  _aureliaMetadata.metadata.invoker = 'aurelia:invoker';\n\n  var resolverDecorates = resolver.decorates;\n\n  var InvocationHandler = exports.InvocationHandler = function () {\n    function InvocationHandler(fn, invoker, dependencies) {\n      \n\n      this.fn = fn;\n      this.invoker = invoker;\n      this.dependencies = dependencies;\n    }\n\n    InvocationHandler.prototype.invoke = function invoke(container, dynamicDependencies) {\n      return dynamicDependencies !== undefined ? this.invoker.invokeWithDynamicDependencies(container, this.fn, this.dependencies, dynamicDependencies) : this.invoker.invoke(container, this.fn, this.dependencies);\n    };\n\n    return InvocationHandler;\n  }();\n\n  function invokeWithDynamicDependencies(container, fn, staticDependencies, dynamicDependencies) {\n    var i = staticDependencies.length;\n    var args = new Array(i);\n    var lookup = void 0;\n\n    while (i--) {\n      lookup = staticDependencies[i];\n\n      if (lookup === null || lookup === undefined) {\n        throw new Error('Constructor Parameter with index ' + i + ' cannot be null or undefined. Are you trying to inject/register something that doesn\\'t exist with DI?');\n      } else {\n        args[i] = container.get(lookup);\n      }\n    }\n\n    if (dynamicDependencies !== undefined) {\n      args = args.concat(dynamicDependencies);\n    }\n\n    return Reflect.construct(fn, args);\n  }\n\n  var classInvokers = (_classInvokers = {}, _classInvokers[0] = {\n    invoke: function invoke(container, Type) {\n      return new Type();\n    },\n\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  }, _classInvokers[1] = {\n    invoke: function invoke(container, Type, deps) {\n      return new Type(container.get(deps[0]));\n    },\n\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  }, _classInvokers[2] = {\n    invoke: function invoke(container, Type, deps) {\n      return new Type(container.get(deps[0]), container.get(deps[1]));\n    },\n\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  }, _classInvokers[3] = {\n    invoke: function invoke(container, Type, deps) {\n      return new Type(container.get(deps[0]), container.get(deps[1]), container.get(deps[2]));\n    },\n\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  }, _classInvokers[4] = {\n    invoke: function invoke(container, Type, deps) {\n      return new Type(container.get(deps[0]), container.get(deps[1]), container.get(deps[2]), container.get(deps[3]));\n    },\n\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  }, _classInvokers[5] = {\n    invoke: function invoke(container, Type, deps) {\n      return new Type(container.get(deps[0]), container.get(deps[1]), container.get(deps[2]), container.get(deps[3]), container.get(deps[4]));\n    },\n\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  }, _classInvokers.fallback = {\n    invoke: invokeWithDynamicDependencies,\n    invokeWithDynamicDependencies: invokeWithDynamicDependencies\n  }, _classInvokers);\n\n  function getDependencies(f) {\n    if (!f.hasOwnProperty('inject')) {\n      return [];\n    }\n\n    if (typeof f.inject === 'function') {\n      return f.inject();\n    }\n\n    return f.inject;\n  }\n\n  var Container = exports.Container = function () {\n    function Container(configuration) {\n      \n\n      if (configuration === undefined) {\n        configuration = {};\n      }\n\n      this._configuration = configuration;\n      this._onHandlerCreated = configuration.onHandlerCreated;\n      this._handlers = configuration.handlers || (configuration.handlers = new Map());\n      this._resolvers = new Map();\n      this.root = this;\n      this.parent = null;\n    }\n\n    Container.prototype.makeGlobal = function makeGlobal() {\n      Container.instance = this;\n      return this;\n    };\n\n    Container.prototype.setHandlerCreatedCallback = function setHandlerCreatedCallback(onHandlerCreated) {\n      this._onHandlerCreated = onHandlerCreated;\n      this._configuration.onHandlerCreated = onHandlerCreated;\n    };\n\n    Container.prototype.registerInstance = function registerInstance(key, instance) {\n      return this.registerResolver(key, new StrategyResolver(0, instance === undefined ? key : instance));\n    };\n\n    Container.prototype.registerSingleton = function registerSingleton(key, fn) {\n      return this.registerResolver(key, new StrategyResolver(1, fn === undefined ? key : fn));\n    };\n\n    Container.prototype.registerTransient = function registerTransient(key, fn) {\n      return this.registerResolver(key, new StrategyResolver(2, fn === undefined ? key : fn));\n    };\n\n    Container.prototype.registerHandler = function registerHandler(key, handler) {\n      return this.registerResolver(key, new StrategyResolver(3, handler));\n    };\n\n    Container.prototype.registerAlias = function registerAlias(originalKey, aliasKey) {\n      return this.registerResolver(aliasKey, new StrategyResolver(5, originalKey));\n    };\n\n    Container.prototype.registerResolver = function registerResolver(key, resolver) {\n      validateKey(key);\n\n      var allResolvers = this._resolvers;\n      var result = allResolvers.get(key);\n\n      if (result === undefined) {\n        allResolvers.set(key, resolver);\n      } else if (result.strategy === 4) {\n        result.state.push(resolver);\n      } else {\n        allResolvers.set(key, new StrategyResolver(4, [result, resolver]));\n      }\n\n      return resolver;\n    };\n\n    Container.prototype.autoRegister = function autoRegister(key, fn) {\n      fn = fn === undefined ? key : fn;\n\n      if (typeof fn === 'function') {\n        var _registration = _aureliaMetadata.metadata.get(_aureliaMetadata.metadata.registration, fn);\n\n        if (_registration === undefined) {\n          return this.registerResolver(key, new StrategyResolver(1, fn));\n        }\n\n        return _registration.registerResolver(this, key, fn);\n      }\n\n      return this.registerResolver(key, new StrategyResolver(0, fn));\n    };\n\n    Container.prototype.autoRegisterAll = function autoRegisterAll(fns) {\n      var i = fns.length;\n      while (i--) {\n        this.autoRegister(fns[i]);\n      }\n    };\n\n    Container.prototype.unregister = function unregister(key) {\n      this._resolvers.delete(key);\n    };\n\n    Container.prototype.hasResolver = function hasResolver(key) {\n      var checkParent = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n      validateKey(key);\n\n      return this._resolvers.has(key) || checkParent && this.parent !== null && this.parent.hasResolver(key, checkParent);\n    };\n\n    Container.prototype.getResolver = function getResolver(key) {\n      return this._resolvers.get(key);\n    };\n\n    Container.prototype.get = function get(key) {\n      validateKey(key);\n\n      if (key === Container) {\n        return this;\n      }\n\n      if (resolverDecorates(key)) {\n        return key.get(this, key);\n      }\n\n      var resolver = this._resolvers.get(key);\n\n      if (resolver === undefined) {\n        if (this.parent === null) {\n          return this.autoRegister(key).get(this, key);\n        }\n\n        var _registration2 = _aureliaMetadata.metadata.get(_aureliaMetadata.metadata.registration, key);\n\n        if (_registration2 === undefined) {\n          return this.parent._get(key);\n        }\n\n        return _registration2.registerResolver(this, key, key).get(this, key);\n      }\n\n      return resolver.get(this, key);\n    };\n\n    Container.prototype._get = function _get(key) {\n      var resolver = this._resolvers.get(key);\n\n      if (resolver === undefined) {\n        if (this.parent === null) {\n          return this.autoRegister(key).get(this, key);\n        }\n\n        return this.parent._get(key);\n      }\n\n      return resolver.get(this, key);\n    };\n\n    Container.prototype.getAll = function getAll(key) {\n      validateKey(key);\n\n      var resolver = this._resolvers.get(key);\n\n      if (resolver === undefined) {\n        if (this.parent === null) {\n          return _emptyParameters;\n        }\n\n        return this.parent.getAll(key);\n      }\n\n      if (resolver.strategy === 4) {\n        var state = resolver.state;\n        var i = state.length;\n        var results = new Array(i);\n\n        while (i--) {\n          results[i] = state[i].get(this, key);\n        }\n\n        return results;\n      }\n\n      return [resolver.get(this, key)];\n    };\n\n    Container.prototype.createChild = function createChild() {\n      var child = new Container(this._configuration);\n      child.root = this.root;\n      child.parent = this;\n      return child;\n    };\n\n    Container.prototype.invoke = function invoke(fn, dynamicDependencies) {\n      try {\n        var _handler = this._handlers.get(fn);\n\n        if (_handler === undefined) {\n          _handler = this._createInvocationHandler(fn);\n          this._handlers.set(fn, _handler);\n        }\n\n        return _handler.invoke(this, dynamicDependencies);\n      } catch (e) {\n        throw new _aureliaPal.AggregateError('Error invoking ' + fn.name + '. Check the inner error for details.', e, true);\n      }\n    };\n\n    Container.prototype._createInvocationHandler = function _createInvocationHandler(fn) {\n      var dependencies = void 0;\n\n      if (fn.inject === undefined) {\n        dependencies = _aureliaMetadata.metadata.getOwn(_aureliaMetadata.metadata.paramTypes, fn) || _emptyParameters;\n      } else {\n        dependencies = [];\n        var ctor = fn;\n        while (typeof ctor === 'function') {\n          var _dependencies;\n\n          (_dependencies = dependencies).push.apply(_dependencies, getDependencies(ctor));\n          ctor = Object.getPrototypeOf(ctor);\n        }\n      }\n\n      var invoker = _aureliaMetadata.metadata.getOwn(_aureliaMetadata.metadata.invoker, fn) || classInvokers[dependencies.length] || classInvokers.fallback;\n\n      var handler = new InvocationHandler(fn, invoker, dependencies);\n      return this._onHandlerCreated !== undefined ? this._onHandlerCreated(handler) : handler;\n    };\n\n    return Container;\n  }();\n\n  function autoinject(potentialTarget) {\n    var deco = function deco(target) {\n      var previousInject = target.inject ? target.inject.slice() : null;\n      var autoInject = _aureliaMetadata.metadata.getOwn(_aureliaMetadata.metadata.paramTypes, target) || _emptyParameters;\n      if (!previousInject) {\n        target.inject = autoInject;\n      } else {\n        for (var i = 0; i < autoInject.length; i++) {\n          if (previousInject[i] && previousInject[i] !== autoInject[i]) {\n            var prevIndex = previousInject.indexOf(autoInject[i]);\n            if (prevIndex > -1) {\n              previousInject.splice(prevIndex, 1);\n            }\n            previousInject.splice(prevIndex > -1 && prevIndex < i ? i - 1 : i, 0, autoInject[i]);\n          } else if (!previousInject[i]) {\n            previousInject[i] = autoInject[i];\n          }\n        }\n        target.inject = previousInject;\n      }\n    };\n\n    return potentialTarget ? deco(potentialTarget) : deco;\n  }\n\n  function inject() {\n    for (var _len5 = arguments.length, rest = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      rest[_key5] = arguments[_key5];\n    }\n\n    return function (target, key, descriptor) {\n      if (typeof descriptor === 'number' && rest.length === 1) {\n        var params = target.inject;\n        if (typeof params === 'function') {\n          throw new Error('Decorator inject cannot be used with \"inject()\".  Please use an array instead.');\n        }\n        if (!params) {\n          params = _aureliaMetadata.metadata.getOwn(_aureliaMetadata.metadata.paramTypes, target).slice();\n          target.inject = params;\n        }\n        params[descriptor] = rest[0];\n        return;\n      }\n\n      if (descriptor) {\n        var _fn = descriptor.value;\n        _fn.inject = rest;\n      } else {\n        target.inject = rest;\n      }\n    };\n  }\n});\r\ndefine('aurelia-event-aggregator',['exports', 'aurelia-logging'], function (exports, _aureliaLogging) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.EventAggregator = undefined;\n  exports.includeEventsIn = includeEventsIn;\n  exports.configure = configure;\n\n  var LogManager = _interopRequireWildcard(_aureliaLogging);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  \n\n  var logger = LogManager.getLogger('event-aggregator');\n\n  var Handler = function () {\n    function Handler(messageType, callback) {\n      \n\n      this.messageType = messageType;\n      this.callback = callback;\n    }\n\n    Handler.prototype.handle = function handle(message) {\n      if (message instanceof this.messageType) {\n        this.callback.call(null, message);\n      }\n    };\n\n    return Handler;\n  }();\n\n  function invokeCallback(callback, data, event) {\n    try {\n      callback(data, event);\n    } catch (e) {\n      logger.error(e);\n    }\n  }\n\n  function invokeHandler(handler, data) {\n    try {\n      handler.handle(data);\n    } catch (e) {\n      logger.error(e);\n    }\n  }\n\n  var EventAggregator = exports.EventAggregator = function () {\n    function EventAggregator() {\n      \n\n      this.eventLookup = {};\n      this.messageHandlers = [];\n    }\n\n    EventAggregator.prototype.publish = function publish(event, data) {\n      var subscribers = void 0;\n      var i = void 0;\n\n      if (!event) {\n        throw new Error('Event was invalid.');\n      }\n\n      if (typeof event === 'string') {\n        subscribers = this.eventLookup[event];\n        if (subscribers) {\n          subscribers = subscribers.slice();\n          i = subscribers.length;\n\n          while (i--) {\n            invokeCallback(subscribers[i], data, event);\n          }\n        }\n      } else {\n        subscribers = this.messageHandlers.slice();\n        i = subscribers.length;\n\n        while (i--) {\n          invokeHandler(subscribers[i], event);\n        }\n      }\n    };\n\n    EventAggregator.prototype.subscribe = function subscribe(event, callback) {\n      var handler = void 0;\n      var subscribers = void 0;\n\n      if (!event) {\n        throw new Error('Event channel/type was invalid.');\n      }\n\n      if (typeof event === 'string') {\n        handler = callback;\n        subscribers = this.eventLookup[event] || (this.eventLookup[event] = []);\n      } else {\n        handler = new Handler(event, callback);\n        subscribers = this.messageHandlers;\n      }\n\n      subscribers.push(handler);\n\n      return {\n        dispose: function dispose() {\n          var idx = subscribers.indexOf(handler);\n          if (idx !== -1) {\n            subscribers.splice(idx, 1);\n          }\n        }\n      };\n    };\n\n    EventAggregator.prototype.subscribeOnce = function subscribeOnce(event, callback) {\n      var sub = this.subscribe(event, function (a, b) {\n        sub.dispose();\n        return callback(a, b);\n      });\n\n      return sub;\n    };\n\n    return EventAggregator;\n  }();\n\n  function includeEventsIn(obj) {\n    var ea = new EventAggregator();\n\n    obj.subscribeOnce = function (event, callback) {\n      return ea.subscribeOnce(event, callback);\n    };\n\n    obj.subscribe = function (event, callback) {\n      return ea.subscribe(event, callback);\n    };\n\n    obj.publish = function (event, data) {\n      ea.publish(event, data);\n    };\n\n    return ea;\n  }\n\n  function configure(config) {\n    config.instance(EventAggregator, includeEventsIn(config.aurelia));\n  }\n});\r\ndefine('aurelia-framework',['exports', 'aurelia-dependency-injection', 'aurelia-binding', 'aurelia-metadata', 'aurelia-templating', 'aurelia-loader', 'aurelia-task-queue', 'aurelia-path', 'aurelia-pal', 'aurelia-logging'], function (exports, _aureliaDependencyInjection, _aureliaBinding, _aureliaMetadata, _aureliaTemplating, _aureliaLoader, _aureliaTaskQueue, _aureliaPath, _aureliaPal, _aureliaLogging) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.LogManager = exports.FrameworkConfiguration = exports.Aurelia = undefined;\n  Object.keys(_aureliaDependencyInjection).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n      enumerable: true,\n      get: function () {\n        return _aureliaDependencyInjection[key];\n      }\n    });\n  });\n  Object.keys(_aureliaBinding).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n      enumerable: true,\n      get: function () {\n        return _aureliaBinding[key];\n      }\n    });\n  });\n  Object.keys(_aureliaMetadata).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n      enumerable: true,\n      get: function () {\n        return _aureliaMetadata[key];\n      }\n    });\n  });\n  Object.keys(_aureliaTemplating).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n      enumerable: true,\n      get: function () {\n        return _aureliaTemplating[key];\n      }\n    });\n  });\n  Object.keys(_aureliaLoader).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n      enumerable: true,\n      get: function () {\n        return _aureliaLoader[key];\n      }\n    });\n  });\n  Object.keys(_aureliaTaskQueue).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n      enumerable: true,\n      get: function () {\n        return _aureliaTaskQueue[key];\n      }\n    });\n  });\n  Object.keys(_aureliaPath).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n      enumerable: true,\n      get: function () {\n        return _aureliaPath[key];\n      }\n    });\n  });\n  Object.keys(_aureliaPal).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n      enumerable: true,\n      get: function () {\n        return _aureliaPal[key];\n      }\n    });\n  });\n\n  var TheLogManager = _interopRequireWildcard(_aureliaLogging);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  \n\n  function preventActionlessFormSubmit() {\n    _aureliaPal.DOM.addEventListener('submit', function (evt) {\n      var target = evt.target;\n      var action = target.action;\n\n      if (target.tagName.toLowerCase() === 'form' && !action) {\n        evt.preventDefault();\n      }\n    });\n  }\n\n  var Aurelia = exports.Aurelia = function () {\n    function Aurelia(loader, container, resources) {\n      \n\n      this.loader = loader || new _aureliaPal.PLATFORM.Loader();\n      this.container = container || new _aureliaDependencyInjection.Container().makeGlobal();\n      this.resources = resources || new _aureliaTemplating.ViewResources();\n      this.use = new FrameworkConfiguration(this);\n      this.logger = TheLogManager.getLogger('aurelia');\n      this.hostConfigured = false;\n      this.host = null;\n\n      this.use.instance(Aurelia, this);\n      this.use.instance(_aureliaLoader.Loader, this.loader);\n      this.use.instance(_aureliaTemplating.ViewResources, this.resources);\n    }\n\n    Aurelia.prototype.start = function start() {\n      var _this = this;\n\n      if (this._started) {\n        return this._started;\n      }\n\n      this.logger.info('Aurelia Starting');\n      return this._started = this.use.apply().then(function () {\n        preventActionlessFormSubmit();\n\n        if (!_this.container.hasResolver(_aureliaTemplating.BindingLanguage)) {\n          var message = 'You must configure Aurelia with a BindingLanguage implementation.';\n          _this.logger.error(message);\n          throw new Error(message);\n        }\n\n        _this.logger.info('Aurelia Started');\n        var evt = _aureliaPal.DOM.createCustomEvent('aurelia-started', { bubbles: true, cancelable: true });\n        _aureliaPal.DOM.dispatchEvent(evt);\n        return _this;\n      });\n    };\n\n    Aurelia.prototype.enhance = function enhance() {\n      var _this2 = this;\n\n      var bindingContext = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n      var applicationHost = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n      this._configureHost(applicationHost || _aureliaPal.DOM.querySelectorAll('body')[0]);\n\n      return new Promise(function (resolve) {\n        var engine = _this2.container.get(_aureliaTemplating.TemplatingEngine);\n        _this2.root = engine.enhance({ container: _this2.container, element: _this2.host, resources: _this2.resources, bindingContext: bindingContext });\n        _this2.root.attached();\n        _this2._onAureliaComposed();\n        resolve(_this2);\n      });\n    };\n\n    Aurelia.prototype.setRoot = function setRoot() {\n      var _this3 = this;\n\n      var root = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n      var applicationHost = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n      var instruction = {};\n\n      if (this.root && this.root.viewModel && this.root.viewModel.router) {\n        this.root.viewModel.router.deactivate();\n        this.root.viewModel.router.reset();\n      }\n\n      this._configureHost(applicationHost);\n\n      var engine = this.container.get(_aureliaTemplating.TemplatingEngine);\n      var transaction = this.container.get(_aureliaTemplating.CompositionTransaction);\n      delete transaction.initialComposition;\n\n      if (!root) {\n        if (this.configModuleId) {\n          root = (0, _aureliaPath.relativeToFile)('./app', this.configModuleId);\n        } else {\n          root = 'app';\n        }\n      }\n\n      instruction.viewModel = root;\n      instruction.container = instruction.childContainer = this.container;\n      instruction.viewSlot = this.hostSlot;\n      instruction.host = this.host;\n\n      return engine.compose(instruction).then(function (r) {\n        _this3.root = r;\n        instruction.viewSlot.attached();\n        _this3._onAureliaComposed();\n        return _this3;\n      });\n    };\n\n    Aurelia.prototype._configureHost = function _configureHost(applicationHost) {\n      if (this.hostConfigured) {\n        return;\n      }\n      applicationHost = applicationHost || this.host;\n\n      if (!applicationHost || typeof applicationHost === 'string') {\n        this.host = _aureliaPal.DOM.getElementById(applicationHost || 'applicationHost');\n      } else {\n        this.host = applicationHost;\n      }\n\n      if (!this.host) {\n        throw new Error('No applicationHost was specified.');\n      }\n\n      this.hostConfigured = true;\n      this.host.aurelia = this;\n      this.hostSlot = new _aureliaTemplating.ViewSlot(this.host, true);\n      this.hostSlot.transformChildNodesIntoView();\n      this.container.registerInstance(_aureliaPal.DOM.boundary, this.host);\n    };\n\n    Aurelia.prototype._onAureliaComposed = function _onAureliaComposed() {\n      var evt = _aureliaPal.DOM.createCustomEvent('aurelia-composed', { bubbles: true, cancelable: true });\n      setTimeout(function () {\n        return _aureliaPal.DOM.dispatchEvent(evt);\n      }, 1);\n    };\n\n    return Aurelia;\n  }();\n\n  var logger = TheLogManager.getLogger('aurelia');\n  var extPattern = /\\.[^/.]+$/;\n\n  function runTasks(config, tasks) {\n    var current = void 0;\n    var next = function next() {\n      current = tasks.shift();\n      if (current) {\n        return Promise.resolve(current(config)).then(next);\n      }\n\n      return Promise.resolve();\n    };\n\n    return next();\n  }\n\n  function loadPlugin(config, loader, info) {\n    logger.debug('Loading plugin ' + info.moduleId + '.');\n    config.resourcesRelativeTo = info.resourcesRelativeTo;\n\n    var id = info.moduleId;\n\n    if (info.resourcesRelativeTo.length > 1) {\n      return loader.normalize(info.moduleId, info.resourcesRelativeTo[1]).then(function (normalizedId) {\n        return _loadPlugin(normalizedId);\n      });\n    }\n\n    return _loadPlugin(id);\n\n    function _loadPlugin(moduleId) {\n      return loader.loadModule(moduleId).then(function (m) {\n        if ('configure' in m) {\n          return Promise.resolve(m.configure(config, info.config || {})).then(function () {\n            config.resourcesRelativeTo = null;\n            logger.debug('Configured plugin ' + info.moduleId + '.');\n          });\n        }\n\n        config.resourcesRelativeTo = null;\n        logger.debug('Loaded plugin ' + info.moduleId + '.');\n      });\n    }\n  }\n\n  function loadResources(aurelia, resourcesToLoad, appResources) {\n    var viewEngine = aurelia.container.get(_aureliaTemplating.ViewEngine);\n\n    return Promise.all(Object.keys(resourcesToLoad).map(function (n) {\n      return _normalize(resourcesToLoad[n]);\n    })).then(function (loads) {\n      var names = [];\n      var importIds = [];\n\n      loads.forEach(function (l) {\n        names.push(undefined);\n        importIds.push(l.importId);\n      });\n\n      return viewEngine.importViewResources(importIds, names, appResources);\n    });\n\n    function _normalize(load) {\n      var moduleId = load.moduleId;\n      var ext = getExt(moduleId);\n\n      if (isOtherResource(moduleId)) {\n        moduleId = removeExt(moduleId);\n      }\n\n      return aurelia.loader.normalize(moduleId, load.relativeTo).then(function (normalized) {\n        return {\n          name: load.moduleId,\n          importId: isOtherResource(load.moduleId) ? addOriginalExt(normalized, ext) : normalized\n        };\n      });\n    }\n\n    function isOtherResource(name) {\n      var ext = getExt(name);\n      if (!ext) return false;\n      if (ext === '') return false;\n      if (ext === '.js' || ext === '.ts') return false;\n      return true;\n    }\n\n    function removeExt(name) {\n      return name.replace(extPattern, '');\n    }\n\n    function addOriginalExt(normalized, ext) {\n      return removeExt(normalized) + '.' + ext;\n    }\n  }\n\n  function getExt(name) {\n    var match = name.match(extPattern);\n    if (match && match.length > 0) {\n      return match[0].split('.')[1];\n    }\n  }\n\n  function assertProcessed(plugins) {\n    if (plugins.processed) {\n      throw new Error('This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.');\n    }\n  }\n\n  var FrameworkConfiguration = function () {\n    function FrameworkConfiguration(aurelia) {\n      var _this4 = this;\n\n      \n\n      this.aurelia = aurelia;\n      this.container = aurelia.container;\n      this.info = [];\n      this.processed = false;\n      this.preTasks = [];\n      this.postTasks = [];\n      this.resourcesToLoad = {};\n      this.preTask(function () {\n        return aurelia.loader.normalize('aurelia-bootstrapper').then(function (name) {\n          return _this4.bootstrapperName = name;\n        });\n      });\n      this.postTask(function () {\n        return loadResources(aurelia, _this4.resourcesToLoad, aurelia.resources);\n      });\n    }\n\n    FrameworkConfiguration.prototype.instance = function instance(type, _instance) {\n      this.container.registerInstance(type, _instance);\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.singleton = function singleton(type, implementation) {\n      this.container.registerSingleton(type, implementation);\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.transient = function transient(type, implementation) {\n      this.container.registerTransient(type, implementation);\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.preTask = function preTask(task) {\n      assertProcessed(this);\n      this.preTasks.push(task);\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.postTask = function postTask(task) {\n      assertProcessed(this);\n      this.postTasks.push(task);\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.feature = function feature(plugin) {\n      var config = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var hasIndex = /\\/index$/i.test(plugin);\n      var moduleId = hasIndex || getExt(plugin) ? plugin : plugin + '/index';\n      var root = hasIndex ? plugin.substr(0, plugin.length - 6) : plugin;\n      return this.plugin({ moduleId: moduleId, resourcesRelativeTo: [root, ''], config: config });\n    };\n\n    FrameworkConfiguration.prototype.globalResources = function globalResources(resources) {\n      assertProcessed(this);\n\n      var toAdd = Array.isArray(resources) ? resources : arguments;\n      var resource = void 0;\n      var resourcesRelativeTo = this.resourcesRelativeTo || ['', ''];\n\n      for (var i = 0, ii = toAdd.length; i < ii; ++i) {\n        resource = toAdd[i];\n        if (typeof resource !== 'string') {\n          throw new Error('Invalid resource path [' + resource + ']. Resources must be specified as relative module IDs.');\n        }\n\n        var parent = resourcesRelativeTo[0];\n        var grandParent = resourcesRelativeTo[1];\n        var name = resource;\n\n        if ((resource.startsWith('./') || resource.startsWith('../')) && parent !== '') {\n          name = (0, _aureliaPath.join)(parent, resource);\n        }\n\n        this.resourcesToLoad[name] = { moduleId: name, relativeTo: grandParent };\n      }\n\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.globalName = function globalName(resourcePath, newName) {\n      assertProcessed(this);\n      this.resourcesToLoad[resourcePath] = { moduleId: newName, relativeTo: '' };\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.plugin = function plugin(_plugin, config) {\n      assertProcessed(this);\n\n      if (typeof _plugin === 'string') {\n        return this.plugin({ moduleId: _plugin, resourcesRelativeTo: [_plugin, ''], config: config || {} });\n      }\n\n      this.info.push(_plugin);\n      return this;\n    };\n\n    FrameworkConfiguration.prototype._addNormalizedPlugin = function _addNormalizedPlugin(name, config) {\n      var _this5 = this;\n\n      var plugin = { moduleId: name, resourcesRelativeTo: [name, ''], config: config || {} };\n      this.plugin(plugin);\n\n      this.preTask(function () {\n        var relativeTo = [name, _this5.bootstrapperName];\n        plugin.moduleId = name;\n        plugin.resourcesRelativeTo = relativeTo;\n        return Promise.resolve();\n      });\n\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.defaultBindingLanguage = function defaultBindingLanguage() {\n      return this._addNormalizedPlugin('aurelia-templating-binding');\n    };\n\n    FrameworkConfiguration.prototype.router = function router() {\n      return this._addNormalizedPlugin('aurelia-templating-router');\n    };\n\n    FrameworkConfiguration.prototype.history = function history() {\n      return this._addNormalizedPlugin('aurelia-history-browser');\n    };\n\n    FrameworkConfiguration.prototype.defaultResources = function defaultResources() {\n      return this._addNormalizedPlugin('aurelia-templating-resources');\n    };\n\n    FrameworkConfiguration.prototype.eventAggregator = function eventAggregator() {\n      return this._addNormalizedPlugin('aurelia-event-aggregator');\n    };\n\n    FrameworkConfiguration.prototype.basicConfiguration = function basicConfiguration() {\n      return this.defaultBindingLanguage().defaultResources().eventAggregator();\n    };\n\n    FrameworkConfiguration.prototype.standardConfiguration = function standardConfiguration() {\n      return this.basicConfiguration().history().router();\n    };\n\n    FrameworkConfiguration.prototype.developmentLogging = function developmentLogging() {\n      var _this6 = this;\n\n      this.preTask(function () {\n        return _this6.aurelia.loader.normalize('aurelia-logging-console', _this6.bootstrapperName).then(function (name) {\n          return _this6.aurelia.loader.loadModule(name).then(function (m) {\n            TheLogManager.addAppender(new m.ConsoleAppender());\n            TheLogManager.setLevel(TheLogManager.logLevel.debug);\n          });\n        });\n      });\n\n      return this;\n    };\n\n    FrameworkConfiguration.prototype.apply = function apply() {\n      var _this7 = this;\n\n      if (this.processed) {\n        return Promise.resolve();\n      }\n\n      return runTasks(this, this.preTasks).then(function () {\n        var loader = _this7.aurelia.loader;\n        var info = _this7.info;\n        var current = void 0;\n\n        var next = function next() {\n          current = info.shift();\n          if (current) {\n            return loadPlugin(_this7, loader, current).then(next);\n          }\n\n          _this7.processed = true;\n          return Promise.resolve();\n        };\n\n        return next().then(function () {\n          return runTasks(_this7, _this7.postTasks);\n        });\n      });\n    };\n\n    return FrameworkConfiguration;\n  }();\n\n  exports.FrameworkConfiguration = FrameworkConfiguration;\n  var LogManager = exports.LogManager = TheLogManager;\n});\r\ndefine('aurelia-history',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  \n\n  function mi(name) {\n    throw new Error('History must implement ' + name + '().');\n  }\n\n  var History = exports.History = function () {\n    function History() {\n      \n    }\n\n    History.prototype.activate = function activate(options) {\n      mi('activate');\n    };\n\n    History.prototype.deactivate = function deactivate() {\n      mi('deactivate');\n    };\n\n    History.prototype.getAbsoluteRoot = function getAbsoluteRoot() {\n      mi('getAbsoluteRoot');\n    };\n\n    History.prototype.navigate = function navigate(fragment, options) {\n      mi('navigate');\n    };\n\n    History.prototype.navigateBack = function navigateBack() {\n      mi('navigateBack');\n    };\n\n    History.prototype.setTitle = function setTitle(title) {\n      mi('setTitle');\n    };\n\n    History.prototype.setState = function setState(key, value) {\n      mi('setState');\n    };\n\n    History.prototype.getState = function getState(key) {\n      mi('getState');\n    };\n\n    return History;\n  }();\n});\r\ndefine('aurelia-history-browser',['exports', 'aurelia-pal', 'aurelia-history'], function (exports, _aureliaPal, _aureliaHistory) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.BrowserHistory = exports.DefaultLinkHandler = exports.LinkHandler = undefined;\n  exports.configure = configure;\n\n  var _class, _temp;\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  \n\n  var LinkHandler = exports.LinkHandler = function () {\n    function LinkHandler() {\n      \n    }\n\n    LinkHandler.prototype.activate = function activate(history) {};\n\n    LinkHandler.prototype.deactivate = function deactivate() {};\n\n    return LinkHandler;\n  }();\n\n  var DefaultLinkHandler = exports.DefaultLinkHandler = function (_LinkHandler) {\n    _inherits(DefaultLinkHandler, _LinkHandler);\n\n    function DefaultLinkHandler() {\n      \n\n      var _this = _possibleConstructorReturn(this, _LinkHandler.call(this));\n\n      _this.handler = function (e) {\n        var _DefaultLinkHandler$g = DefaultLinkHandler.getEventInfo(e);\n\n        var shouldHandleEvent = _DefaultLinkHandler$g.shouldHandleEvent;\n        var href = _DefaultLinkHandler$g.href;\n\n\n        if (shouldHandleEvent) {\n          e.preventDefault();\n          _this.history.navigate(href);\n        }\n      };\n      return _this;\n    }\n\n    DefaultLinkHandler.prototype.activate = function activate(history) {\n      if (history._hasPushState) {\n        this.history = history;\n        _aureliaPal.DOM.addEventListener('click', this.handler, true);\n      }\n    };\n\n    DefaultLinkHandler.prototype.deactivate = function deactivate() {\n      _aureliaPal.DOM.removeEventListener('click', this.handler);\n    };\n\n    DefaultLinkHandler.getEventInfo = function getEventInfo(event) {\n      var info = {\n        shouldHandleEvent: false,\n        href: null,\n        anchor: null\n      };\n\n      var target = DefaultLinkHandler.findClosestAnchor(event.target);\n      if (!target || !DefaultLinkHandler.targetIsThisWindow(target)) {\n        return info;\n      }\n\n      if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n        return info;\n      }\n\n      var href = target.getAttribute('href');\n      info.anchor = target;\n      info.href = href;\n\n      var leftButtonClicked = event.which === 1;\n      var isRelative = href && !(href.charAt(0) === '#' || /^[a-z]+:/i.test(href));\n\n      info.shouldHandleEvent = leftButtonClicked && isRelative;\n      return info;\n    };\n\n    DefaultLinkHandler.findClosestAnchor = function findClosestAnchor(el) {\n      while (el) {\n        if (el.tagName === 'A') {\n          return el;\n        }\n\n        el = el.parentNode;\n      }\n    };\n\n    DefaultLinkHandler.targetIsThisWindow = function targetIsThisWindow(target) {\n      var targetWindow = target.getAttribute('target');\n      var win = _aureliaPal.PLATFORM.global;\n\n      return !targetWindow || targetWindow === win.name || targetWindow === '_self' || targetWindow === 'top' && win === win.top;\n    };\n\n    return DefaultLinkHandler;\n  }(LinkHandler);\n\n  function configure(config) {\n    config.singleton(_aureliaHistory.History, BrowserHistory);\n    config.transient(LinkHandler, DefaultLinkHandler);\n  }\n\n  var BrowserHistory = exports.BrowserHistory = (_temp = _class = function (_History) {\n    _inherits(BrowserHistory, _History);\n\n    function BrowserHistory(linkHandler) {\n      \n\n      var _this2 = _possibleConstructorReturn(this, _History.call(this));\n\n      _this2._isActive = false;\n      _this2._checkUrlCallback = _this2._checkUrl.bind(_this2);\n\n      _this2.location = _aureliaPal.PLATFORM.location;\n      _this2.history = _aureliaPal.PLATFORM.history;\n      _this2.linkHandler = linkHandler;\n      return _this2;\n    }\n\n    BrowserHistory.prototype.activate = function activate(options) {\n      if (this._isActive) {\n        throw new Error('History has already been activated.');\n      }\n\n      var wantsPushState = !!options.pushState;\n\n      this._isActive = true;\n      this.options = Object.assign({}, { root: '/' }, this.options, options);\n\n      this.root = ('/' + this.options.root + '/').replace(rootStripper, '/');\n\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);\n\n      var eventName = void 0;\n      if (this._hasPushState) {\n        eventName = 'popstate';\n      } else if (this._wantsHashChange) {\n        eventName = 'hashchange';\n      }\n\n      _aureliaPal.PLATFORM.addEventListener(eventName, this._checkUrlCallback);\n\n      if (this._wantsHashChange && wantsPushState) {\n        var loc = this.location;\n        var atRoot = loc.pathname.replace(/[^\\/]$/, '$&/') === this.root;\n\n        if (!this._hasPushState && !atRoot) {\n          this.fragment = this._getFragment(null, true);\n          this.location.replace(this.root + this.location.search + '#' + this.fragment);\n\n          return true;\n        } else if (this._hasPushState && atRoot && loc.hash) {\n            this.fragment = this._getHash().replace(routeStripper, '');\n            this.history.replaceState({}, _aureliaPal.DOM.title, this.root + this.fragment + loc.search);\n          }\n      }\n\n      if (!this.fragment) {\n        this.fragment = this._getFragment();\n      }\n\n      this.linkHandler.activate(this);\n\n      if (!this.options.silent) {\n        return this._loadUrl();\n      }\n    };\n\n    BrowserHistory.prototype.deactivate = function deactivate() {\n      _aureliaPal.PLATFORM.removeEventListener('popstate', this._checkUrlCallback);\n      _aureliaPal.PLATFORM.removeEventListener('hashchange', this._checkUrlCallback);\n      this._isActive = false;\n      this.linkHandler.deactivate();\n    };\n\n    BrowserHistory.prototype.getAbsoluteRoot = function getAbsoluteRoot() {\n      var origin = createOrigin(this.location.protocol, this.location.hostname, this.location.port);\n      return '' + origin + this.root;\n    };\n\n    BrowserHistory.prototype.navigate = function navigate(fragment) {\n      var _ref = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var _ref$trigger = _ref.trigger;\n      var trigger = _ref$trigger === undefined ? true : _ref$trigger;\n      var _ref$replace = _ref.replace;\n      var replace = _ref$replace === undefined ? false : _ref$replace;\n\n      if (fragment && absoluteUrl.test(fragment)) {\n        this.location.href = fragment;\n        return true;\n      }\n\n      if (!this._isActive) {\n        return false;\n      }\n\n      fragment = this._getFragment(fragment || '');\n\n      if (this.fragment === fragment && !replace) {\n        return false;\n      }\n\n      this.fragment = fragment;\n\n      var url = this.root + fragment;\n\n      if (fragment === '' && url !== '/') {\n        url = url.slice(0, -1);\n      }\n\n      if (this._hasPushState) {\n        url = url.replace('//', '/');\n        this.history[replace ? 'replaceState' : 'pushState']({}, _aureliaPal.DOM.title, url);\n      } else if (this._wantsHashChange) {\n        updateHash(this.location, fragment, replace);\n      } else {\n        return this.location.assign(url);\n      }\n\n      if (trigger) {\n        return this._loadUrl(fragment);\n      }\n    };\n\n    BrowserHistory.prototype.navigateBack = function navigateBack() {\n      this.history.back();\n    };\n\n    BrowserHistory.prototype.setTitle = function setTitle(title) {\n      _aureliaPal.DOM.title = title;\n    };\n\n    BrowserHistory.prototype.setState = function setState(key, value) {\n      var state = Object.assign({}, this.history.state);\n      state[key] = value;\n      this.history.replaceState(state, null, null);\n    };\n\n    BrowserHistory.prototype.getState = function getState(key) {\n      var state = Object.assign({}, this.history.state);\n      return state[key];\n    };\n\n    BrowserHistory.prototype._getHash = function _getHash() {\n      return this.location.hash.substr(1);\n    };\n\n    BrowserHistory.prototype._getFragment = function _getFragment(fragment, forcePushState) {\n      var root = void 0;\n\n      if (!fragment) {\n        if (this._hasPushState || !this._wantsHashChange || forcePushState) {\n          fragment = this.location.pathname + this.location.search;\n          root = this.root.replace(trailingSlash, '');\n          if (!fragment.indexOf(root)) {\n            fragment = fragment.substr(root.length);\n          }\n        } else {\n          fragment = this._getHash();\n        }\n      }\n\n      return '/' + fragment.replace(routeStripper, '');\n    };\n\n    BrowserHistory.prototype._checkUrl = function _checkUrl() {\n      var current = this._getFragment();\n      if (current !== this.fragment) {\n        this._loadUrl();\n      }\n    };\n\n    BrowserHistory.prototype._loadUrl = function _loadUrl(fragmentOverride) {\n      var fragment = this.fragment = this._getFragment(fragmentOverride);\n\n      return this.options.routeHandler ? this.options.routeHandler(fragment) : false;\n    };\n\n    return BrowserHistory;\n  }(_aureliaHistory.History), _class.inject = [LinkHandler], _temp);\n\n  var routeStripper = /^#?\\/*|\\s+$/g;\n\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  var trailingSlash = /\\/$/;\n\n  var absoluteUrl = /^([a-z][a-z0-9+\\-.]*:)?\\/\\//i;\n\n  function updateHash(location, fragment, replace) {\n    if (replace) {\n      var _href = location.href.replace(/(javascript:|#).*$/, '');\n      location.replace(_href + '#' + fragment);\n    } else {\n      location.hash = '#' + fragment;\n    }\n  }\n\n  function createOrigin(protocol, hostname, port) {\n    return protocol + '//' + hostname + (port ? ':' + port : '');\n  }\n});\r\ndefine('aurelia-loader',['exports', 'aurelia-path', 'aurelia-metadata'], function (exports, _aureliaPath, _aureliaMetadata) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Loader = exports.TemplateRegistryEntry = exports.TemplateDependency = undefined;\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  \n\n  var TemplateDependency = exports.TemplateDependency = function TemplateDependency(src, name) {\n    \n\n    this.src = src;\n    this.name = name;\n  };\n\n  var TemplateRegistryEntry = exports.TemplateRegistryEntry = function () {\n    function TemplateRegistryEntry(address) {\n      \n\n      this.templateIsLoaded = false;\n      this.factoryIsReady = false;\n      this.resources = null;\n      this.dependencies = null;\n\n      this.address = address;\n      this.onReady = null;\n      this._template = null;\n      this._factory = null;\n    }\n\n    TemplateRegistryEntry.prototype.addDependency = function addDependency(src, name) {\n      var finalSrc = typeof src === 'string' ? (0, _aureliaPath.relativeToFile)(src, this.address) : _aureliaMetadata.Origin.get(src).moduleId;\n\n      this.dependencies.push(new TemplateDependency(finalSrc, name));\n    };\n\n    _createClass(TemplateRegistryEntry, [{\n      key: 'template',\n      get: function get() {\n        return this._template;\n      },\n      set: function set(value) {\n        var address = this.address;\n        var requires = void 0;\n        var current = void 0;\n        var src = void 0;\n        var dependencies = void 0;\n\n        this._template = value;\n        this.templateIsLoaded = true;\n\n        requires = value.content.querySelectorAll('require');\n        dependencies = this.dependencies = new Array(requires.length);\n\n        for (var i = 0, ii = requires.length; i < ii; ++i) {\n          current = requires[i];\n          src = current.getAttribute('from');\n\n          if (!src) {\n            throw new Error('<require> element in ' + address + ' has no \"from\" attribute.');\n          }\n\n          dependencies[i] = new TemplateDependency((0, _aureliaPath.relativeToFile)(src, address), current.getAttribute('as'));\n\n          if (current.parentNode) {\n            current.parentNode.removeChild(current);\n          }\n        }\n      }\n    }, {\n      key: 'factory',\n      get: function get() {\n        return this._factory;\n      },\n      set: function set(value) {\n        this._factory = value;\n        this.factoryIsReady = true;\n      }\n    }]);\n\n    return TemplateRegistryEntry;\n  }();\n\n  var Loader = exports.Loader = function () {\n    function Loader() {\n      \n\n      this.templateRegistry = {};\n    }\n\n    Loader.prototype.map = function map(id, source) {\n      throw new Error('Loaders must implement map(id, source).');\n    };\n\n    Loader.prototype.normalizeSync = function normalizeSync(moduleId, relativeTo) {\n      throw new Error('Loaders must implement normalizeSync(moduleId, relativeTo).');\n    };\n\n    Loader.prototype.normalize = function normalize(moduleId, relativeTo) {\n      throw new Error('Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.');\n    };\n\n    Loader.prototype.loadModule = function loadModule(id) {\n      throw new Error('Loaders must implement loadModule(id).');\n    };\n\n    Loader.prototype.loadAllModules = function loadAllModules(ids) {\n      throw new Error('Loader must implement loadAllModules(ids).');\n    };\n\n    Loader.prototype.loadTemplate = function loadTemplate(url) {\n      throw new Error('Loader must implement loadTemplate(url).');\n    };\n\n    Loader.prototype.loadText = function loadText(url) {\n      throw new Error('Loader must implement loadText(url).');\n    };\n\n    Loader.prototype.applyPluginToUrl = function applyPluginToUrl(url, pluginName) {\n      throw new Error('Loader must implement applyPluginToUrl(url, pluginName).');\n    };\n\n    Loader.prototype.addPlugin = function addPlugin(pluginName, implementation) {\n      throw new Error('Loader must implement addPlugin(pluginName, implementation).');\n    };\n\n    Loader.prototype.getOrCreateTemplateRegistryEntry = function getOrCreateTemplateRegistryEntry(address) {\n      return this.templateRegistry[address] || (this.templateRegistry[address] = new TemplateRegistryEntry(address));\n    };\n\n    return Loader;\n  }();\n});\r\ndefine('aurelia-loader-default',['exports', 'aurelia-loader', 'aurelia-pal', 'aurelia-metadata'], function (exports, _aureliaLoader, _aureliaPal, _aureliaMetadata) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DefaultLoader = exports.TextTemplateLoader = undefined;\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  \n\n  var TextTemplateLoader = exports.TextTemplateLoader = function () {\n    function TextTemplateLoader() {\n      \n    }\n\n    TextTemplateLoader.prototype.loadTemplate = function loadTemplate(loader, entry) {\n      return loader.loadText(entry.address).then(function (text) {\n        entry.template = _aureliaPal.DOM.createTemplateFromMarkup(text);\n      });\n    };\n\n    return TextTemplateLoader;\n  }();\n\n  function ensureOriginOnExports(executed, name) {\n    var target = executed;\n    var key = void 0;\n    var exportedValue = void 0;\n\n    if (target.__useDefault) {\n      target = target['default'];\n    }\n\n    _aureliaMetadata.Origin.set(target, new _aureliaMetadata.Origin(name, 'default'));\n\n    for (key in target) {\n      exportedValue = target[key];\n\n      if (typeof exportedValue === 'function') {\n        _aureliaMetadata.Origin.set(exportedValue, new _aureliaMetadata.Origin(name, key));\n      }\n    }\n\n    return executed;\n  }\n\n  var DefaultLoader = exports.DefaultLoader = function (_Loader) {\n    _inherits(DefaultLoader, _Loader);\n\n    function DefaultLoader() {\n      \n\n      var _this = _possibleConstructorReturn(this, _Loader.call(this));\n\n      _this.textPluginName = 'text';\n\n\n      _this.moduleRegistry = Object.create(null);\n      _this.useTemplateLoader(new TextTemplateLoader());\n\n      var that = _this;\n\n      _this.addPlugin('template-registry-entry', {\n        'fetch': function fetch(address) {\n          var entry = that.getOrCreateTemplateRegistryEntry(address);\n          return entry.templateIsLoaded ? entry : that.templateLoader.loadTemplate(that, entry).then(function (x) {\n            return entry;\n          });\n        }\n      });\n      return _this;\n    }\n\n    DefaultLoader.prototype.useTemplateLoader = function useTemplateLoader(templateLoader) {\n      this.templateLoader = templateLoader;\n    };\n\n    DefaultLoader.prototype.loadAllModules = function loadAllModules(ids) {\n      var loads = [];\n\n      for (var i = 0, ii = ids.length; i < ii; ++i) {\n        loads.push(this.loadModule(ids[i]));\n      }\n\n      return Promise.all(loads);\n    };\n\n    DefaultLoader.prototype.loadTemplate = function loadTemplate(url) {\n      return this._import(this.applyPluginToUrl(url, 'template-registry-entry'));\n    };\n\n    DefaultLoader.prototype.loadText = function loadText(url) {\n      return this._import(this.applyPluginToUrl(url, this.textPluginName)).then(function (textOrModule) {\n        if (typeof textOrModule === 'string') {\n          return textOrModule;\n        }\n\n        return textOrModule['default'];\n      });\n    };\n\n    return DefaultLoader;\n  }(_aureliaLoader.Loader);\n\n  _aureliaPal.PLATFORM.Loader = DefaultLoader;\n\n  if (!_aureliaPal.PLATFORM.global.System || !_aureliaPal.PLATFORM.global.System.import) {\n    if (_aureliaPal.PLATFORM.global.requirejs && requirejs.s && requirejs.s.contexts && requirejs.s.contexts._ && requirejs.s.contexts._.defined) {\n      _aureliaPal.PLATFORM.eachModule = function (callback) {\n        var defined = requirejs.s.contexts._.defined;\n        for (var key in defined) {\n          try {\n            if (callback(key, defined[key])) return;\n          } catch (e) {}\n        }\n      };\n    } else {\n      _aureliaPal.PLATFORM.eachModule = function (callback) {};\n    }\n\n    DefaultLoader.prototype._import = function (moduleId) {\n      return new Promise(function (resolve, reject) {\n        require([moduleId], resolve, reject);\n      });\n    };\n\n    DefaultLoader.prototype.loadModule = function (id) {\n      var _this2 = this;\n\n      var existing = this.moduleRegistry[id];\n      if (existing !== undefined) {\n        return Promise.resolve(existing);\n      }\n\n      return new Promise(function (resolve, reject) {\n        require([id], function (m) {\n          _this2.moduleRegistry[id] = m;\n          resolve(ensureOriginOnExports(m, id));\n        }, reject);\n      });\n    };\n\n    DefaultLoader.prototype.map = function (id, source) {};\n\n    DefaultLoader.prototype.normalize = function (moduleId, relativeTo) {\n      return Promise.resolve(moduleId);\n    };\n\n    DefaultLoader.prototype.normalizeSync = function (moduleId, relativeTo) {\n      return moduleId;\n    };\n\n    DefaultLoader.prototype.applyPluginToUrl = function (url, pluginName) {\n      return pluginName + '!' + url;\n    };\n\n    DefaultLoader.prototype.addPlugin = function (pluginName, implementation) {\n      var nonAnonDefine = define;\n      nonAnonDefine(pluginName, [], {\n        'load': function load(name, req, onload) {\n          var result = implementation.fetch(name);\n          Promise.resolve(result).then(onload);\n        }\n      });\n    };\n  } else {\n    _aureliaPal.PLATFORM.eachModule = function (callback) {\n      if (System.registry) {\n        var keys = Array.from(System.registry.keys());\n        for (var i = 0; i < keys.length; i++) {\n          try {\n            var key = keys[i];\n            if (callback(key, System.registry.get(key))) {\n              return;\n            }\n          } catch (e) {}\n        }\n        return;\n      }\n\n      var modules = System._loader.modules;\n\n      for (var _key in modules) {\n        try {\n          if (callback(_key, modules[_key].module)) return;\n        } catch (e) {}\n      }\n    };\n\n    System.set('text', System.newModule({\n      'translate': function translate(load) {\n        return 'module.exports = \"' + load.source.replace(/([\"\\\\])/g, '\\\\$1').replace(/[\\f]/g, '\\\\f').replace(/[\\b]/g, '\\\\b').replace(/[\\n]/g, '\\\\n').replace(/[\\t]/g, '\\\\t').replace(/[\\r]/g, '\\\\r').replace(/[\\u2028]/g, '\\\\u2028').replace(/[\\u2029]/g, '\\\\u2029') + '\";';\n      }\n    }));\n\n    DefaultLoader.prototype._import = function (moduleId) {\n      return System.import(moduleId);\n    };\n\n    DefaultLoader.prototype.loadModule = function (id) {\n      var _this3 = this;\n\n      return System.normalize(id).then(function (newId) {\n        var existing = _this3.moduleRegistry[newId];\n        if (existing !== undefined) {\n          return Promise.resolve(existing);\n        }\n\n        return System.import(newId).then(function (m) {\n          _this3.moduleRegistry[newId] = m;\n          return ensureOriginOnExports(m, newId);\n        });\n      });\n    };\n\n    DefaultLoader.prototype.map = function (id, source) {\n      var _map;\n\n      System.config({ map: (_map = {}, _map[id] = source, _map) });\n    };\n\n    DefaultLoader.prototype.normalizeSync = function (moduleId, relativeTo) {\n      return System.normalizeSync(moduleId, relativeTo);\n    };\n\n    DefaultLoader.prototype.normalize = function (moduleId, relativeTo) {\n      return System.normalize(moduleId, relativeTo);\n    };\n\n    DefaultLoader.prototype.applyPluginToUrl = function (url, pluginName) {\n      return url + '!' + pluginName;\n    };\n\n    DefaultLoader.prototype.addPlugin = function (pluginName, implementation) {\n      System.set(pluginName, System.newModule({\n        'fetch': function fetch(load, _fetch) {\n          var result = implementation.fetch(load.address);\n          return Promise.resolve(result).then(function (x) {\n            load.metadata.result = x;\n            return '';\n          });\n        },\n        'instantiate': function instantiate(load) {\n          return load.metadata.result;\n        }\n      }));\n    };\n  }\n});\r\ndefine('aurelia-logging',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getLogger = getLogger;\n  exports.addAppender = addAppender;\n  exports.removeAppender = removeAppender;\n  exports.setLevel = setLevel;\n  exports.getLevel = getLevel;\n\n  \n\n  var logLevel = exports.logLevel = {\n    none: 0,\n    error: 1,\n    warn: 2,\n    info: 3,\n    debug: 4\n  };\n\n  var loggers = {};\n  var appenders = [];\n  var globalDefaultLevel = logLevel.none;\n\n  function appendArgs() {\n    return [this].concat(Array.prototype.slice.call(arguments));\n  }\n\n  function logFactory(level) {\n    var threshold = logLevel[level];\n    return function () {\n      if (this.level < threshold) {\n        return;\n      }\n\n      var args = appendArgs.apply(this, arguments);\n      var i = appenders.length;\n      while (i--) {\n        var _appenders$i;\n\n        (_appenders$i = appenders[i])[level].apply(_appenders$i, args);\n      }\n    };\n  }\n\n  function connectLoggers() {\n    var proto = Logger.prototype;\n    proto.debug = logFactory('debug');\n    proto.info = logFactory('info');\n    proto.warn = logFactory('warn');\n    proto.error = logFactory('error');\n  }\n\n  function getLogger(id) {\n    return loggers[id] || new Logger(id);\n  }\n\n  function addAppender(appender) {\n    if (appenders.push(appender) === 1) {\n      connectLoggers();\n    }\n  }\n\n  function removeAppender(appender) {\n    appenders = appenders.filter(function (a) {\n      return a !== appender;\n    });\n  }\n\n  function setLevel(level) {\n    globalDefaultLevel = level;\n    for (var key in loggers) {\n      loggers[key].setLevel(level);\n    }\n  }\n\n  function getLevel() {\n    return globalDefaultLevel;\n  }\n\n  var Logger = exports.Logger = function () {\n    function Logger(id) {\n      \n\n      var cached = loggers[id];\n      if (cached) {\n        return cached;\n      }\n\n      loggers[id] = this;\n      this.id = id;\n      this.level = globalDefaultLevel;\n    }\n\n    Logger.prototype.debug = function debug(message) {};\n\n    Logger.prototype.info = function info(message) {};\n\n    Logger.prototype.warn = function warn(message) {};\n\n    Logger.prototype.error = function error(message) {};\n\n    Logger.prototype.setLevel = function setLevel(level) {\n      this.level = level;\n    };\n\n    return Logger;\n  }();\n});\r\ndefine('aurelia-logging-console',['exports', 'aurelia-logging'], function (exports, _aureliaLogging) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ConsoleAppender = undefined;\n\n  \n\n  var ConsoleAppender = exports.ConsoleAppender = function () {\n    function ConsoleAppender() {\n      \n    }\n\n    ConsoleAppender.prototype.debug = function debug(logger) {\n      var _console;\n\n      for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      (_console = console).debug.apply(_console, ['DEBUG [' + logger.id + ']'].concat(rest));\n    };\n\n    ConsoleAppender.prototype.info = function info(logger) {\n      var _console2;\n\n      for (var _len2 = arguments.length, rest = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n\n      (_console2 = console).info.apply(_console2, ['INFO [' + logger.id + ']'].concat(rest));\n    };\n\n    ConsoleAppender.prototype.warn = function warn(logger) {\n      var _console3;\n\n      for (var _len3 = arguments.length, rest = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        rest[_key3 - 1] = arguments[_key3];\n      }\n\n      (_console3 = console).warn.apply(_console3, ['WARN [' + logger.id + ']'].concat(rest));\n    };\n\n    ConsoleAppender.prototype.error = function error(logger) {\n      var _console4;\n\n      for (var _len4 = arguments.length, rest = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        rest[_key4 - 1] = arguments[_key4];\n      }\n\n      (_console4 = console).error.apply(_console4, ['ERROR [' + logger.id + ']'].concat(rest));\n    };\n\n    return ConsoleAppender;\n  }();\n});\r\ndefine('aurelia-metadata',['exports', 'aurelia-pal'], function (exports, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Origin = exports.metadata = undefined;\n  exports.decorators = decorators;\n  exports.deprecated = deprecated;\n  exports.mixin = mixin;\n  exports.protocol = protocol;\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  \n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  function isObject(val) {\n    return val && (typeof val === 'function' || (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object');\n  }\n\n  var metadata = exports.metadata = {\n    resource: 'aurelia:resource',\n    paramTypes: 'design:paramtypes',\n    propertyType: 'design:type',\n    properties: 'design:properties',\n    get: function get(metadataKey, target, targetKey) {\n      if (!isObject(target)) {\n        return undefined;\n      }\n      var result = metadata.getOwn(metadataKey, target, targetKey);\n      return result === undefined ? metadata.get(metadataKey, Object.getPrototypeOf(target), targetKey) : result;\n    },\n    getOwn: function getOwn(metadataKey, target, targetKey) {\n      if (!isObject(target)) {\n        return undefined;\n      }\n      return Reflect.getOwnMetadata(metadataKey, target, targetKey);\n    },\n    define: function define(metadataKey, metadataValue, target, targetKey) {\n      Reflect.defineMetadata(metadataKey, metadataValue, target, targetKey);\n    },\n    getOrCreateOwn: function getOrCreateOwn(metadataKey, Type, target, targetKey) {\n      var result = metadata.getOwn(metadataKey, target, targetKey);\n\n      if (result === undefined) {\n        result = new Type();\n        Reflect.defineMetadata(metadataKey, result, target, targetKey);\n      }\n\n      return result;\n    }\n  };\n\n  var originStorage = new Map();\n  var unknownOrigin = Object.freeze({ moduleId: undefined, moduleMember: undefined });\n\n  var Origin = exports.Origin = function () {\n    function Origin(moduleId, moduleMember) {\n      \n\n      this.moduleId = moduleId;\n      this.moduleMember = moduleMember;\n    }\n\n    Origin.get = function get(fn) {\n      var origin = originStorage.get(fn);\n\n      if (origin === undefined) {\n        _aureliaPal.PLATFORM.eachModule(function (key, value) {\n          if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n            for (var name in value) {\n              var exp = value[name];\n              if (exp === fn) {\n                originStorage.set(fn, origin = new Origin(key, name));\n                return true;\n              }\n            }\n          }\n\n          if (value === fn) {\n            originStorage.set(fn, origin = new Origin(key, 'default'));\n            return true;\n          }\n\n          return false;\n        });\n      }\n\n      return origin || unknownOrigin;\n    };\n\n    Origin.set = function set(fn, origin) {\n      originStorage.set(fn, origin);\n    };\n\n    return Origin;\n  }();\n\n  function decorators() {\n    for (var _len = arguments.length, rest = Array(_len), _key = 0; _key < _len; _key++) {\n      rest[_key] = arguments[_key];\n    }\n\n    var applicator = function applicator(target, key, descriptor) {\n      var i = rest.length;\n\n      if (key) {\n        descriptor = descriptor || {\n          value: target[key],\n          writable: true,\n          configurable: true,\n          enumerable: true\n        };\n\n        while (i--) {\n          descriptor = rest[i](target, key, descriptor) || descriptor;\n        }\n\n        Object.defineProperty(target, key, descriptor);\n      } else {\n        while (i--) {\n          target = rest[i](target) || target;\n        }\n      }\n\n      return target;\n    };\n\n    applicator.on = applicator;\n    return applicator;\n  }\n\n  function deprecated(optionsOrTarget, maybeKey, maybeDescriptor) {\n    function decorator(target, key, descriptor) {\n      var methodSignature = target.constructor.name + '#' + key;\n      var options = maybeKey ? {} : optionsOrTarget || {};\n      var message = 'DEPRECATION - ' + methodSignature;\n\n      if (typeof descriptor.value !== 'function') {\n        throw new SyntaxError('Only methods can be marked as deprecated.');\n      }\n\n      if (options.message) {\n        message += ' - ' + options.message;\n      }\n\n      return _extends({}, descriptor, {\n        value: function deprecationWrapper() {\n          if (options.error) {\n            throw new Error(message);\n          } else {\n            console.warn(message);\n          }\n\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    }\n\n    return maybeKey ? decorator(optionsOrTarget, maybeKey, maybeDescriptor) : decorator;\n  }\n\n  function mixin(behavior) {\n    var instanceKeys = Object.keys(behavior);\n\n    function _mixin(possible) {\n      var decorator = function decorator(target) {\n        var resolvedTarget = typeof target === 'function' ? target.prototype : target;\n\n        var i = instanceKeys.length;\n        while (i--) {\n          var property = instanceKeys[i];\n          Object.defineProperty(resolvedTarget, property, {\n            value: behavior[property],\n            writable: true\n          });\n        }\n      };\n\n      return possible ? decorator(possible) : decorator;\n    }\n\n    return _mixin;\n  }\n\n  function alwaysValid() {\n    return true;\n  }\n  function noCompose() {}\n\n  function ensureProtocolOptions(options) {\n    if (options === undefined) {\n      options = {};\n    } else if (typeof options === 'function') {\n      options = {\n        validate: options\n      };\n    }\n\n    if (!options.validate) {\n      options.validate = alwaysValid;\n    }\n\n    if (!options.compose) {\n      options.compose = noCompose;\n    }\n\n    return options;\n  }\n\n  function createProtocolValidator(validate) {\n    return function (target) {\n      var result = validate(target);\n      return result === true;\n    };\n  }\n\n  function createProtocolAsserter(name, validate) {\n    return function (target) {\n      var result = validate(target);\n      if (result !== true) {\n        throw new Error(result || name + ' was not correctly implemented.');\n      }\n    };\n  }\n\n  function protocol(name, options) {\n    options = ensureProtocolOptions(options);\n\n    var result = function result(target) {\n      var resolvedTarget = typeof target === 'function' ? target.prototype : target;\n\n      options.compose(resolvedTarget);\n      result.assert(resolvedTarget);\n\n      Object.defineProperty(resolvedTarget, 'protocol:' + name, {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n        value: true\n      });\n    };\n\n    result.validate = createProtocolValidator(options.validate);\n    result.assert = createProtocolAsserter(name, options.validate);\n\n    return result;\n  }\n\n  protocol.create = function (name, options) {\n    options = ensureProtocolOptions(options);\n    var hidden = 'protocol:' + name;\n    var result = function result(target) {\n      var decorator = protocol(name, options);\n      return target ? decorator(target) : decorator;\n    };\n\n    result.decorates = function (obj) {\n      return obj[hidden] === true;\n    };\n    result.validate = createProtocolValidator(options.validate);\n    result.assert = createProtocolAsserter(name, options.validate);\n\n    return result;\n  };\n});\r\ndefine('aurelia-pal',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AggregateError = AggregateError;\n  exports.initializePAL = initializePAL;\n  exports.reset = reset;\n  function AggregateError(message, innerError, skipIfAlreadyAggregate) {\n    if (innerError) {\n      if (innerError.innerError && skipIfAlreadyAggregate) {\n        return innerError;\n      }\n\n      var separator = '\\n------------------------------------------------\\n';\n\n      message += separator + 'Inner Error:\\n';\n\n      if (typeof innerError === 'string') {\n        message += 'Message: ' + innerError;\n      } else {\n        if (innerError.message) {\n          message += 'Message: ' + innerError.message;\n        } else {\n          message += 'Unknown Inner Error Type. Displaying Inner Error as JSON:\\n ' + JSON.stringify(innerError, null, '  ');\n        }\n\n        if (innerError.stack) {\n          message += '\\nInner Error Stack:\\n' + innerError.stack;\n          message += '\\nEnd Inner Error Stack';\n        }\n      }\n\n      message += separator;\n    }\n\n    var e = new Error(message);\n    if (innerError) {\n      e.innerError = innerError;\n    }\n\n    return e;\n  }\n\n  var FEATURE = exports.FEATURE = {};\n\n  var PLATFORM = exports.PLATFORM = {\n    noop: function noop() {},\n    eachModule: function eachModule() {},\n    moduleName: function (_moduleName) {\n      function moduleName(_x) {\n        return _moduleName.apply(this, arguments);\n      }\n\n      moduleName.toString = function () {\n        return _moduleName.toString();\n      };\n\n      return moduleName;\n    }(function (moduleName) {\n      return moduleName;\n    })\n  };\n\n  PLATFORM.global = function () {\n    if (typeof self !== 'undefined') {\n      return self;\n    }\n\n    if (typeof global !== 'undefined') {\n      return global;\n    }\n\n    return new Function('return this')();\n  }();\n\n  var DOM = exports.DOM = {};\n  var isInitialized = exports.isInitialized = false;\n  function initializePAL(callback) {\n    if (isInitialized) {\n      return;\n    }\n    exports.isInitialized = isInitialized = true;\n    if (typeof Object.getPropertyDescriptor !== 'function') {\n      Object.getPropertyDescriptor = function (subject, name) {\n        var pd = Object.getOwnPropertyDescriptor(subject, name);\n        var proto = Object.getPrototypeOf(subject);\n        while (typeof pd === 'undefined' && proto !== null) {\n          pd = Object.getOwnPropertyDescriptor(proto, name);\n          proto = Object.getPrototypeOf(proto);\n        }\n        return pd;\n      };\n    }\n\n    callback(PLATFORM, FEATURE, DOM);\n  }\n  function reset() {\n    exports.isInitialized = isInitialized = false;\n  }\n});\r\ndefine('aurelia-pal-browser',['exports', 'aurelia-pal'], function (exports, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports._DOM = exports._FEATURE = exports._PLATFORM = undefined;\n  exports.initialize = initialize;\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var _PLATFORM = exports._PLATFORM = {\n    location: window.location,\n    history: window.history,\n    addEventListener: function addEventListener(eventName, callback, capture) {\n      this.global.addEventListener(eventName, callback, capture);\n    },\n    removeEventListener: function removeEventListener(eventName, callback, capture) {\n      this.global.removeEventListener(eventName, callback, capture);\n    },\n\n    performance: window.performance,\n    requestAnimationFrame: function requestAnimationFrame(callback) {\n      return this.global.requestAnimationFrame(callback);\n    }\n  };\n\n  if (typeof FEATURE_NO_IE === 'undefined') {\n    var test = function test() {};\n\n    if (test.name === undefined) {\n      Object.defineProperty(Function.prototype, 'name', {\n        get: function get() {\n          var name = this.toString().match(/^\\s*function\\s*(\\S*)\\s*\\(/)[1];\n\n          Object.defineProperty(this, 'name', { value: name });\n          return name;\n        }\n      });\n    }\n  }\n\n  if (typeof FEATURE_NO_IE === 'undefined') {\n    if (!('classList' in document.createElement('_')) || document.createElementNS && !('classList' in document.createElementNS('http://www.w3.org/2000/svg', 'g'))) {\n      (function () {\n        var protoProp = 'prototype';\n        var strTrim = String.prototype.trim;\n        var arrIndexOf = Array.prototype.indexOf;\n        var emptyArray = [];\n\n        var DOMEx = function DOMEx(type, message) {\n          this.name = type;\n          this.code = DOMException[type];\n          this.message = message;\n        };\n\n        var checkTokenAndGetIndex = function checkTokenAndGetIndex(classList, token) {\n          if (token === '') {\n            throw new DOMEx('SYNTAX_ERR', 'An invalid or illegal string was specified');\n          }\n\n          if (/\\s/.test(token)) {\n            throw new DOMEx('INVALID_CHARACTER_ERR', 'String contains an invalid character');\n          }\n\n          return arrIndexOf.call(classList, token);\n        };\n\n        var ClassList = function ClassList(elem) {\n          var trimmedClasses = strTrim.call(elem.getAttribute('class') || '');\n          var classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : emptyArray;\n\n          for (var i = 0, ii = classes.length; i < ii; ++i) {\n            this.push(classes[i]);\n          }\n\n          this._updateClassName = function () {\n            elem.setAttribute('class', this.toString());\n          };\n        };\n\n        var classListProto = ClassList[protoProp] = [];\n\n        DOMEx[protoProp] = Error[protoProp];\n\n        classListProto.item = function (i) {\n          return this[i] || null;\n        };\n\n        classListProto.contains = function (token) {\n          token += '';\n          return checkTokenAndGetIndex(this, token) !== -1;\n        };\n\n        classListProto.add = function () {\n          var tokens = arguments;\n          var i = 0;\n          var ii = tokens.length;\n          var token = void 0;\n          var updated = false;\n\n          do {\n            token = tokens[i] + '';\n            if (checkTokenAndGetIndex(this, token) === -1) {\n              this.push(token);\n              updated = true;\n            }\n          } while (++i < ii);\n\n          if (updated) {\n            this._updateClassName();\n          }\n        };\n\n        classListProto.remove = function () {\n          var tokens = arguments;\n          var i = 0;\n          var ii = tokens.length;\n          var token = void 0;\n          var updated = false;\n          var index = void 0;\n\n          do {\n            token = tokens[i] + '';\n            index = checkTokenAndGetIndex(this, token);\n            while (index !== -1) {\n              this.splice(index, 1);\n              updated = true;\n              index = checkTokenAndGetIndex(this, token);\n            }\n          } while (++i < ii);\n\n          if (updated) {\n            this._updateClassName();\n          }\n        };\n\n        classListProto.toggle = function (token, force) {\n          token += '';\n\n          var result = this.contains(token);\n          var method = result ? force !== true && 'remove' : force !== false && 'add';\n\n          if (method) {\n            this[method](token);\n          }\n\n          if (force === true || force === false) {\n            return force;\n          }\n\n          return !result;\n        };\n\n        classListProto.toString = function () {\n          return this.join(' ');\n        };\n\n        Object.defineProperty(Element.prototype, 'classList', {\n          get: function get() {\n            return new ClassList(this);\n          },\n          enumerable: true,\n          configurable: true\n        });\n      })();\n    } else {\n      var testElement = document.createElement('_');\n      testElement.classList.add('c1', 'c2');\n\n      if (!testElement.classList.contains('c2')) {\n        var createMethod = function createMethod(method) {\n          var original = DOMTokenList.prototype[method];\n\n          DOMTokenList.prototype[method] = function (token) {\n            for (var i = 0, ii = arguments.length; i < ii; ++i) {\n              token = arguments[i];\n              original.call(this, token);\n            }\n          };\n        };\n\n        createMethod('add');\n        createMethod('remove');\n      }\n\n      testElement.classList.toggle('c3', false);\n\n      if (testElement.classList.contains('c3')) {\n        (function () {\n          var _toggle = DOMTokenList.prototype.toggle;\n\n          DOMTokenList.prototype.toggle = function (token, force) {\n            if (1 in arguments && !this.contains(token) === !force) {\n              return force;\n            }\n\n            return _toggle.call(this, token);\n          };\n        })();\n      }\n\n      testElement = null;\n    }\n  }\n\n  if (typeof FEATURE_NO_IE === 'undefined') {\n    // @license http://opensource.org/licenses/MIT\n    if ('performance' in window === false) {\n      window.performance = {};\n    }\n\n    if ('now' in window.performance === false) {\n      (function () {\n        var nowOffset = Date.now();\n\n        if (performance.timing && performance.timing.navigationStart) {\n          nowOffset = performance.timing.navigationStart;\n        }\n\n        window.performance.now = function now() {\n          return Date.now() - nowOffset;\n        };\n      })();\n    }\n\n    _PLATFORM.performance = window.performance;\n  }\n\n  if (typeof FEATURE_NO_IE === 'undefined') {\n    (function () {\n      var con = window.console = window.console || {};\n      var nop = function nop() {};\n\n      if (!con.memory) con.memory = {};\n      ('assert,clear,count,debug,dir,dirxml,error,exception,group,' + 'groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,' + 'show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn').split(',').forEach(function (m) {\n        if (!con[m]) con[m] = nop;\n      });\n\n      if (_typeof(con.log) === 'object') {\n        'log,info,warn,error,assert,dir,clear,profile,profileEnd'.split(',').forEach(function (method) {\n          console[method] = this.bind(console[method], console);\n        }, Function.prototype.call);\n      }\n    })();\n  }\n\n  if (typeof FEATURE_NO_IE === 'undefined') {\n    if (!window.CustomEvent || typeof window.CustomEvent !== 'function') {\n      var _CustomEvent = function _CustomEvent(event, params) {\n        params = params || {\n          bubbles: false,\n          cancelable: false,\n          detail: undefined\n        };\n\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n      };\n\n      _CustomEvent.prototype = window.Event.prototype;\n      window.CustomEvent = _CustomEvent;\n    }\n  }\n\n  if (Element && !Element.prototype.matches) {\n    var proto = Element.prototype;\n    proto.matches = proto.matchesSelector || proto.mozMatchesSelector || proto.msMatchesSelector || proto.oMatchesSelector || proto.webkitMatchesSelector;\n  }\n\n  var _FEATURE = exports._FEATURE = {\n    shadowDOM: !!HTMLElement.prototype.attachShadow,\n    scopedCSS: 'scoped' in document.createElement('style'),\n    htmlTemplateElement: 'content' in document.createElement('template'),\n    mutationObserver: !!(window.MutationObserver || window.WebKitMutationObserver),\n    ensureHTMLTemplateElement: function ensureHTMLTemplateElement(t) {\n      return t;\n    }\n  };\n\n  if (typeof FEATURE_NO_IE === 'undefined') {\n    (function () {\n      var isSVGTemplate = function isSVGTemplate(el) {\n        return el.tagName === 'template' && el.namespaceURI === 'http://www.w3.org/2000/svg';\n      };\n\n      var fixSVGTemplateElement = function fixSVGTemplateElement(el) {\n        var template = el.ownerDocument.createElement('template');\n        var attrs = el.attributes;\n        var length = attrs.length;\n        var attr = void 0;\n\n        el.parentNode.insertBefore(template, el);\n\n        while (length-- > 0) {\n          attr = attrs[length];\n          template.setAttribute(attr.name, attr.value);\n          el.removeAttribute(attr.name);\n        }\n\n        el.parentNode.removeChild(el);\n\n        return fixHTMLTemplateElement(template);\n      };\n\n      var fixHTMLTemplateElement = function fixHTMLTemplateElement(template) {\n        var content = template.content = document.createDocumentFragment();\n        var child = void 0;\n\n        while (child = template.firstChild) {\n          content.appendChild(child);\n        }\n\n        return template;\n      };\n\n      var fixHTMLTemplateElementRoot = function fixHTMLTemplateElementRoot(template) {\n        var content = fixHTMLTemplateElement(template).content;\n        var childTemplates = content.querySelectorAll('template');\n\n        for (var i = 0, ii = childTemplates.length; i < ii; ++i) {\n          var child = childTemplates[i];\n\n          if (isSVGTemplate(child)) {\n            fixSVGTemplateElement(child);\n          } else {\n            fixHTMLTemplateElement(child);\n          }\n        }\n\n        return template;\n      };\n\n      if (!_FEATURE.htmlTemplateElement) {\n        _FEATURE.ensureHTMLTemplateElement = fixHTMLTemplateElementRoot;\n      }\n    })();\n  }\n\n  var shadowPoly = window.ShadowDOMPolyfill || null;\n\n  var _DOM = exports._DOM = {\n    Element: Element,\n    SVGElement: SVGElement,\n    boundary: 'aurelia-dom-boundary',\n    addEventListener: function addEventListener(eventName, callback, capture) {\n      document.addEventListener(eventName, callback, capture);\n    },\n    removeEventListener: function removeEventListener(eventName, callback, capture) {\n      document.removeEventListener(eventName, callback, capture);\n    },\n    adoptNode: function adoptNode(node) {\n      return document.adoptNode(node, true);\n    },\n    createAttribute: function createAttribute(name) {\n      return document.createAttribute(name);\n    },\n    createElement: function createElement(tagName) {\n      return document.createElement(tagName);\n    },\n    createTextNode: function createTextNode(text) {\n      return document.createTextNode(text);\n    },\n    createComment: function createComment(text) {\n      return document.createComment(text);\n    },\n    createDocumentFragment: function createDocumentFragment() {\n      return document.createDocumentFragment();\n    },\n    createTemplateElement: function createTemplateElement() {\n      var template = document.createElement('template');\n      return _FEATURE.ensureHTMLTemplateElement(template);\n    },\n    createMutationObserver: function createMutationObserver(callback) {\n      return new (window.MutationObserver || window.WebKitMutationObserver)(callback);\n    },\n    createCustomEvent: function createCustomEvent(eventType, options) {\n      return new window.CustomEvent(eventType, options);\n    },\n    dispatchEvent: function dispatchEvent(evt) {\n      document.dispatchEvent(evt);\n    },\n    getComputedStyle: function getComputedStyle(element) {\n      return window.getComputedStyle(element);\n    },\n    getElementById: function getElementById(id) {\n      return document.getElementById(id);\n    },\n    querySelectorAll: function querySelectorAll(query) {\n      return document.querySelectorAll(query);\n    },\n    nextElementSibling: function nextElementSibling(element) {\n      if (element.nextElementSibling) {\n        return element.nextElementSibling;\n      }\n      do {\n        element = element.nextSibling;\n      } while (element && element.nodeType !== 1);\n      return element;\n    },\n    createTemplateFromMarkup: function createTemplateFromMarkup(markup) {\n      var parser = document.createElement('div');\n      parser.innerHTML = markup;\n\n      var temp = parser.firstElementChild;\n      if (!temp || temp.nodeName !== 'TEMPLATE') {\n        throw new Error('Template markup must be wrapped in a <template> element e.g. <template> <!-- markup here --> </template>');\n      }\n\n      return _FEATURE.ensureHTMLTemplateElement(temp);\n    },\n    appendNode: function appendNode(newNode, parentNode) {\n      (parentNode || document.body).appendChild(newNode);\n    },\n    replaceNode: function replaceNode(newNode, node, parentNode) {\n      if (node.parentNode) {\n        node.parentNode.replaceChild(newNode, node);\n      } else if (shadowPoly !== null) {\n        shadowPoly.unwrap(parentNode).replaceChild(shadowPoly.unwrap(newNode), shadowPoly.unwrap(node));\n      } else {\n        parentNode.replaceChild(newNode, node);\n      }\n    },\n    removeNode: function removeNode(node, parentNode) {\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      } else if (parentNode) {\n        if (shadowPoly !== null) {\n          shadowPoly.unwrap(parentNode).removeChild(shadowPoly.unwrap(node));\n        } else {\n          parentNode.removeChild(node);\n        }\n      }\n    },\n    injectStyles: function injectStyles(styles, destination, prepend) {\n      var node = document.createElement('style');\n      node.innerHTML = styles;\n      node.type = 'text/css';\n\n      destination = destination || document.head;\n\n      if (prepend && destination.childNodes.length > 0) {\n        destination.insertBefore(node, destination.childNodes[0]);\n      } else {\n        destination.appendChild(node);\n      }\n\n      return node;\n    }\n  };\n\n  function initialize() {\n    if (_aureliaPal.isInitialized) {\n      return;\n    }\n\n    (0, _aureliaPal.initializePAL)(function (platform, feature, dom) {\n      Object.assign(platform, _PLATFORM);\n      Object.assign(feature, _FEATURE);\n      Object.assign(dom, _DOM);\n\n      Object.defineProperty(dom, 'title', {\n        get: function get() {\n          return document.title;\n        },\n        set: function set(value) {\n          document.title = value;\n        }\n      });\n\n      Object.defineProperty(dom, 'activeElement', {\n        get: function get() {\n          return document.activeElement;\n        }\n      });\n\n      Object.defineProperty(platform, 'XMLHttpRequest', {\n        get: function get() {\n          return platform.global.XMLHttpRequest;\n        }\n      });\n    });\n  }\n});\r\ndefine('aurelia-path',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.relativeToFile = relativeToFile;\n  exports.join = join;\n  exports.buildQueryString = buildQueryString;\n  exports.parseQueryString = parseQueryString;\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  function trimDots(ary) {\n    for (var i = 0; i < ary.length; ++i) {\n      var part = ary[i];\n      if (part === '.') {\n        ary.splice(i, 1);\n        i -= 1;\n      } else if (part === '..') {\n        if (i === 0 || i === 1 && ary[2] === '..' || ary[i - 1] === '..') {\n          continue;\n        } else if (i > 0) {\n          ary.splice(i - 1, 2);\n          i -= 2;\n        }\n      }\n    }\n  }\n\n  function relativeToFile(name, file) {\n    var fileParts = file && file.split('/');\n    var nameParts = name.trim().split('/');\n\n    if (nameParts[0].charAt(0) === '.' && fileParts) {\n      var normalizedBaseParts = fileParts.slice(0, fileParts.length - 1);\n      nameParts.unshift.apply(nameParts, normalizedBaseParts);\n    }\n\n    trimDots(nameParts);\n\n    return nameParts.join('/');\n  }\n\n  function join(path1, path2) {\n    if (!path1) {\n      return path2;\n    }\n\n    if (!path2) {\n      return path1;\n    }\n\n    var schemeMatch = path1.match(/^([^/]*?:)\\//);\n    var scheme = schemeMatch && schemeMatch.length > 0 ? schemeMatch[1] : '';\n    path1 = path1.substr(scheme.length);\n\n    var urlPrefix = void 0;\n    if (path1.indexOf('///') === 0 && scheme === 'file:') {\n      urlPrefix = '///';\n    } else if (path1.indexOf('//') === 0) {\n      urlPrefix = '//';\n    } else if (path1.indexOf('/') === 0) {\n      urlPrefix = '/';\n    } else {\n      urlPrefix = '';\n    }\n\n    var trailingSlash = path2.slice(-1) === '/' ? '/' : '';\n\n    var url1 = path1.split('/');\n    var url2 = path2.split('/');\n    var url3 = [];\n\n    for (var i = 0, ii = url1.length; i < ii; ++i) {\n      if (url1[i] === '..') {\n        url3.pop();\n      } else if (url1[i] === '.' || url1[i] === '') {\n        continue;\n      } else {\n        url3.push(url1[i]);\n      }\n    }\n\n    for (var _i = 0, _ii = url2.length; _i < _ii; ++_i) {\n      if (url2[_i] === '..') {\n        url3.pop();\n      } else if (url2[_i] === '.' || url2[_i] === '') {\n        continue;\n      } else {\n        url3.push(url2[_i]);\n      }\n    }\n\n    return scheme + urlPrefix + url3.join('/') + trailingSlash;\n  }\n\n  var encode = encodeURIComponent;\n  var encodeKey = function encodeKey(k) {\n    return encode(k).replace('%24', '$');\n  };\n\n  function buildParam(key, value, traditional) {\n    var result = [];\n    if (value === null || value === undefined) {\n      return result;\n    }\n    if (Array.isArray(value)) {\n      for (var i = 0, l = value.length; i < l; i++) {\n        if (traditional) {\n          result.push(encodeKey(key) + '=' + encode(value[i]));\n        } else {\n          var arrayKey = key + '[' + (_typeof(value[i]) === 'object' && value[i] !== null ? i : '') + ']';\n          result = result.concat(buildParam(arrayKey, value[i]));\n        }\n      }\n    } else if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && !traditional) {\n      for (var propertyName in value) {\n        result = result.concat(buildParam(key + '[' + propertyName + ']', value[propertyName]));\n      }\n    } else {\n      result.push(encodeKey(key) + '=' + encode(value));\n    }\n    return result;\n  }\n\n  function buildQueryString(params, traditional) {\n    var pairs = [];\n    var keys = Object.keys(params || {}).sort();\n    for (var i = 0, len = keys.length; i < len; i++) {\n      var key = keys[i];\n      pairs = pairs.concat(buildParam(key, params[key], traditional));\n    }\n\n    if (pairs.length === 0) {\n      return '';\n    }\n\n    return pairs.join('&');\n  }\n\n  function processScalarParam(existedParam, value) {\n    if (Array.isArray(existedParam)) {\n      existedParam.push(value);\n      return existedParam;\n    }\n    if (existedParam !== undefined) {\n      return [existedParam, value];\n    }\n\n    return value;\n  }\n\n  function parseComplexParam(queryParams, keys, value) {\n    var currentParams = queryParams;\n    var keysLastIndex = keys.length - 1;\n    for (var j = 0; j <= keysLastIndex; j++) {\n      var key = keys[j] === '' ? currentParams.length : keys[j];\n      if (j < keysLastIndex) {\n        var prevValue = !currentParams[key] || _typeof(currentParams[key]) === 'object' ? currentParams[key] : [currentParams[key]];\n        currentParams = currentParams[key] = prevValue || (isNaN(keys[j + 1]) ? {} : []);\n      } else {\n        currentParams = currentParams[key] = value;\n      }\n    }\n  }\n\n  function parseQueryString(queryString) {\n    var queryParams = {};\n    if (!queryString || typeof queryString !== 'string') {\n      return queryParams;\n    }\n\n    var query = queryString;\n    if (query.charAt(0) === '?') {\n      query = query.substr(1);\n    }\n\n    var pairs = query.replace(/\\+/g, ' ').split('&');\n    for (var i = 0; i < pairs.length; i++) {\n      var pair = pairs[i].split('=');\n      var key = decodeURIComponent(pair[0]);\n      if (!key) {\n        continue;\n      }\n\n      var keys = key.split('][');\n      var keysLastIndex = keys.length - 1;\n\n      if (/\\[/.test(keys[0]) && /\\]$/.test(keys[keysLastIndex])) {\n        keys[keysLastIndex] = keys[keysLastIndex].replace(/\\]$/, '');\n        keys = keys.shift().split('[').concat(keys);\n        keysLastIndex = keys.length - 1;\n      } else {\n        keysLastIndex = 0;\n      }\n\n      if (pair.length >= 2) {\n        var value = pair[1] ? decodeURIComponent(pair[1]) : '';\n        if (keysLastIndex) {\n          parseComplexParam(queryParams, keys, value);\n        } else {\n          queryParams[key] = processScalarParam(queryParams[key], value);\n        }\n      } else {\n        queryParams[key] = true;\n      }\n    }\n    return queryParams;\n  }\n});\r\ndefine('aurelia-polyfills',['aurelia-pal'], function (_aureliaPal) {\n  'use strict';\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  if (typeof FEATURE_NO_ES2015 === 'undefined') {\n\n    (function (Object, GOPS) {\n      'use strict';\n\n      if (GOPS in Object) return;\n\n      var setDescriptor,\n          G = _aureliaPal.PLATFORM.global,\n          id = 0,\n          random = '' + Math.random(),\n          prefix = '__\\x01symbol:',\n          prefixLength = prefix.length,\n          internalSymbol = '__\\x01symbol@@' + random,\n          DP = 'defineProperty',\n          DPies = 'defineProperties',\n          GOPN = 'getOwnPropertyNames',\n          GOPD = 'getOwnPropertyDescriptor',\n          PIE = 'propertyIsEnumerable',\n          gOPN = Object[GOPN],\n          gOPD = Object[GOPD],\n          create = Object.create,\n          keys = Object.keys,\n          defineProperty = Object[DP],\n          $defineProperties = Object[DPies],\n          descriptor = gOPD(Object, GOPN),\n          ObjectProto = Object.prototype,\n          hOP = ObjectProto.hasOwnProperty,\n          pIE = ObjectProto[PIE],\n          toString = ObjectProto.toString,\n          indexOf = Array.prototype.indexOf || function (v) {\n        for (var i = this.length; i-- && this[i] !== v;) {}\n        return i;\n      },\n          addInternalIfNeeded = function addInternalIfNeeded(o, uid, enumerable) {\n        if (!hOP.call(o, internalSymbol)) {\n          defineProperty(o, internalSymbol, {\n            enumerable: false,\n            configurable: false,\n            writable: false,\n            value: {}\n          });\n        }\n        o[internalSymbol]['@@' + uid] = enumerable;\n      },\n          createWithSymbols = function createWithSymbols(proto, descriptors) {\n        var self = create(proto);\n        if (descriptors !== null && (typeof descriptors === 'undefined' ? 'undefined' : _typeof(descriptors)) === 'object') {\n          gOPN(descriptors).forEach(function (key) {\n            if (propertyIsEnumerable.call(descriptors, key)) {\n              $defineProperty(self, key, descriptors[key]);\n            }\n          });\n        }\n        return self;\n      },\n          copyAsNonEnumerable = function copyAsNonEnumerable(descriptor) {\n        var newDescriptor = create(descriptor);\n        newDescriptor.enumerable = false;\n        return newDescriptor;\n      },\n          get = function get() {},\n          onlyNonSymbols = function onlyNonSymbols(name) {\n        return name != internalSymbol && !hOP.call(source, name);\n      },\n          onlySymbols = function onlySymbols(name) {\n        return name != internalSymbol && hOP.call(source, name);\n      },\n          propertyIsEnumerable = function propertyIsEnumerable(key) {\n        var uid = '' + key;\n        return onlySymbols(uid) ? hOP.call(this, uid) && this[internalSymbol] && this[internalSymbol]['@@' + uid] : pIE.call(this, key);\n      },\n          setAndGetSymbol = function setAndGetSymbol(uid) {\n        var descriptor = {\n          enumerable: false,\n          configurable: true,\n          get: get,\n          set: function set(value) {\n            setDescriptor(this, uid, {\n              enumerable: false,\n              configurable: true,\n              writable: true,\n              value: value\n            });\n            addInternalIfNeeded(this, uid, true);\n          }\n        };\n        defineProperty(ObjectProto, uid, descriptor);\n        return source[uid] = defineProperty(Object(uid), 'constructor', sourceConstructor);\n      },\n          _Symbol = function _Symbol2(description) {\n        if (this && this !== G) {\n          throw new TypeError('Symbol is not a constructor');\n        }\n        return setAndGetSymbol(prefix.concat(description || '', random, ++id));\n      },\n          source = create(null),\n          sourceConstructor = { value: _Symbol },\n          sourceMap = function sourceMap(uid) {\n        return source[uid];\n      },\n          $defineProperty = function defineProp(o, key, descriptor) {\n        var uid = '' + key;\n        if (onlySymbols(uid)) {\n          setDescriptor(o, uid, descriptor.enumerable ? copyAsNonEnumerable(descriptor) : descriptor);\n          addInternalIfNeeded(o, uid, !!descriptor.enumerable);\n        } else {\n          defineProperty(o, key, descriptor);\n        }\n        return o;\n      },\n          $getOwnPropertySymbols = function getOwnPropertySymbols(o) {\n        var cof = toString.call(o);\n        o = cof === '[object String]' ? o.split('') : Object(o);\n        return gOPN(o).filter(onlySymbols).map(sourceMap);\n      };\n\n      descriptor.value = $defineProperty;\n      defineProperty(Object, DP, descriptor);\n\n      descriptor.value = $getOwnPropertySymbols;\n      defineProperty(Object, GOPS, descriptor);\n\n      var cachedWindowNames = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' ? Object.getOwnPropertyNames(window) : [];\n      var originalObjectGetOwnPropertyNames = Object.getOwnPropertyNames;\n      descriptor.value = function getOwnPropertyNames(o) {\n        if (toString.call(o) === '[object Window]') {\n          try {\n            return originalObjectGetOwnPropertyNames(o);\n          } catch (e) {\n            return [].concat([], cachedWindowNames);\n          }\n        }\n        return gOPN(o).filter(onlyNonSymbols);\n      };\n      defineProperty(Object, GOPN, descriptor);\n\n      descriptor.value = function defineProperties(o, descriptors) {\n        var symbols = $getOwnPropertySymbols(descriptors);\n        if (symbols.length) {\n          keys(descriptors).concat(symbols).forEach(function (uid) {\n            if (propertyIsEnumerable.call(descriptors, uid)) {\n              $defineProperty(o, uid, descriptors[uid]);\n            }\n          });\n        } else {\n          $defineProperties(o, descriptors);\n        }\n        return o;\n      };\n      defineProperty(Object, DPies, descriptor);\n\n      descriptor.value = propertyIsEnumerable;\n      defineProperty(ObjectProto, PIE, descriptor);\n\n      descriptor.value = _Symbol;\n      defineProperty(G, 'Symbol', descriptor);\n\n      descriptor.value = function (key) {\n        var uid = prefix.concat(prefix, key, random);\n        return uid in ObjectProto ? source[uid] : setAndGetSymbol(uid);\n      };\n      defineProperty(_Symbol, 'for', descriptor);\n\n      descriptor.value = function (symbol) {\n        return hOP.call(source, symbol) ? symbol.slice(prefixLength * 2, -random.length) : void 0;\n      };\n      defineProperty(_Symbol, 'keyFor', descriptor);\n\n      descriptor.value = function getOwnPropertyDescriptor(o, key) {\n        var descriptor = gOPD(o, key);\n        if (descriptor && onlySymbols(key)) {\n          descriptor.enumerable = propertyIsEnumerable.call(o, key);\n        }\n        return descriptor;\n      };\n      defineProperty(Object, GOPD, descriptor);\n\n      descriptor.value = function (proto, descriptors) {\n        return arguments.length === 1 ? create(proto) : createWithSymbols(proto, descriptors);\n      };\n      defineProperty(Object, 'create', descriptor);\n\n      descriptor.value = function () {\n        var str = toString.call(this);\n        return str === '[object String]' && onlySymbols(this) ? '[object Symbol]' : str;\n      };\n      defineProperty(ObjectProto, 'toString', descriptor);\n\n      try {\n        setDescriptor = create(defineProperty({}, prefix, {\n          get: function get() {\n            return defineProperty(this, prefix, { value: false })[prefix];\n          }\n        }))[prefix] || defineProperty;\n      } catch (o_O) {\n        setDescriptor = function setDescriptor(o, key, descriptor) {\n          var protoDescriptor = gOPD(ObjectProto, key);\n          delete ObjectProto[key];\n          defineProperty(o, key, descriptor);\n          defineProperty(ObjectProto, key, protoDescriptor);\n        };\n      }\n    })(Object, 'getOwnPropertySymbols');\n\n    (function (O, S) {\n      var dP = O.defineProperty,\n          ObjectProto = O.prototype,\n          toString = ObjectProto.toString,\n          toStringTag = 'toStringTag',\n          descriptor;\n      ['iterator', 'match', 'replace', 'search', 'split', 'hasInstance', 'isConcatSpreadable', 'unscopables', 'species', 'toPrimitive', toStringTag].forEach(function (name) {\n        if (!(name in Symbol)) {\n          dP(Symbol, name, { value: Symbol(name) });\n          switch (name) {\n            case toStringTag:\n              descriptor = O.getOwnPropertyDescriptor(ObjectProto, 'toString');\n              descriptor.value = function () {\n                var str = toString.call(this),\n                    tst = typeof this === 'undefined' || this === null ? undefined : this[Symbol.toStringTag];\n                return typeof tst === 'undefined' ? str : '[object ' + tst + ']';\n              };\n              dP(ObjectProto, 'toString', descriptor);\n              break;\n          }\n        }\n      });\n    })(Object, Symbol);\n\n    (function (Si, AP, SP) {\n\n      function returnThis() {\n        return this;\n      }\n\n      if (!AP[Si]) AP[Si] = function () {\n        var i = 0,\n            self = this,\n            iterator = {\n          next: function next() {\n            var done = self.length <= i;\n            return done ? { done: done } : { done: done, value: self[i++] };\n          }\n        };\n        iterator[Si] = returnThis;\n        return iterator;\n      };\n\n      if (!SP[Si]) SP[Si] = function () {\n        var fromCodePoint = String.fromCodePoint,\n            self = this,\n            i = 0,\n            length = self.length,\n            iterator = {\n          next: function next() {\n            var done = length <= i,\n                c = done ? '' : fromCodePoint(self.codePointAt(i));\n            i += c.length;\n            return done ? { done: done } : { done: done, value: c };\n          }\n        };\n        iterator[Si] = returnThis;\n        return iterator;\n      };\n    })(Symbol.iterator, Array.prototype, String.prototype);\n  }\n\n  if (typeof FEATURE_NO_ES2015 === 'undefined') {\n\n    Number.isNaN = Number.isNaN || function (value) {\n      return value !== value;\n    };\n\n    Number.isFinite = Number.isFinite || function (value) {\n      return typeof value === \"number\" && isFinite(value);\n    };\n  }\n\n  if (!String.prototype.endsWith || function () {\n    try {\n      return !\"ab\".endsWith(\"a\", 1);\n    } catch (e) {\n      return true;\n    }\n  }()) {\n    String.prototype.endsWith = function (searchString, position) {\n      var subjectString = this.toString();\n      if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n        position = subjectString.length;\n      }\n      position -= searchString.length;\n      var lastIndex = subjectString.indexOf(searchString, position);\n      return lastIndex !== -1 && lastIndex === position;\n    };\n  }\n\n  if (!String.prototype.startsWith || function () {\n    try {\n      return !\"ab\".startsWith(\"b\", 1);\n    } catch (e) {\n      return true;\n    }\n  }()) {\n    String.prototype.startsWith = function (searchString, position) {\n      position = position || 0;\n      return this.substr(position, searchString.length) === searchString;\n    };\n  }\n\n  if (typeof FEATURE_NO_ES2015 === 'undefined') {\n\n    if (!Array.from) {\n      Array.from = function () {\n        var toInteger = function toInteger(it) {\n          return isNaN(it = +it) ? 0 : (it > 0 ? Math.floor : Math.ceil)(it);\n        };\n        var toLength = function toLength(it) {\n          return it > 0 ? Math.min(toInteger(it), 0x1fffffffffffff) : 0;\n        };\n        var iterCall = function iterCall(iter, fn, val, index) {\n          try {\n            return fn(val, index);\n          } catch (E) {\n            if (typeof iter.return == 'function') iter.return();\n            throw E;\n          }\n        };\n\n        return function from(arrayLike) {\n          var O = Object(arrayLike),\n              C = typeof this == 'function' ? this : Array,\n              aLen = arguments.length,\n              mapfn = aLen > 1 ? arguments[1] : undefined,\n              mapping = mapfn !== undefined,\n              index = 0,\n              iterFn = O[Symbol.iterator],\n              length,\n              result,\n              step,\n              iterator;\n          if (mapping) mapfn = mapfn.bind(aLen > 2 ? arguments[2] : undefined);\n          if (iterFn != undefined && !Array.isArray(arrayLike)) {\n            for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n              result[index] = mapping ? iterCall(iterator, mapfn, step.value, index) : step.value;\n            }\n          } else {\n            length = toLength(O.length);\n            for (result = new C(length); length > index; index++) {\n              result[index] = mapping ? mapfn(O[index], index) : O[index];\n            }\n          }\n          result.length = index;\n          return result;\n        };\n      }();\n    }\n\n    if (!Array.prototype.find) {\n      Object.defineProperty(Array.prototype, 'find', {\n        configurable: true,\n        writable: true,\n        enumerable: false,\n        value: function value(predicate) {\n          if (this === null) {\n            throw new TypeError('Array.prototype.find called on null or undefined');\n          }\n          if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function');\n          }\n          var list = Object(this);\n          var length = list.length >>> 0;\n          var thisArg = arguments[1];\n          var value;\n\n          for (var i = 0; i < length; i++) {\n            value = list[i];\n            if (predicate.call(thisArg, value, i, list)) {\n              return value;\n            }\n          }\n          return undefined;\n        }\n      });\n    }\n\n    if (!Array.prototype.findIndex) {\n      Object.defineProperty(Array.prototype, 'findIndex', {\n        configurable: true,\n        writable: true,\n        enumerable: false,\n        value: function value(predicate) {\n          if (this === null) {\n            throw new TypeError('Array.prototype.findIndex called on null or undefined');\n          }\n          if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function');\n          }\n          var list = Object(this);\n          var length = list.length >>> 0;\n          var thisArg = arguments[1];\n          var value;\n\n          for (var i = 0; i < length; i++) {\n            value = list[i];\n            if (predicate.call(thisArg, value, i, list)) {\n              return i;\n            }\n          }\n          return -1;\n        }\n      });\n    }\n  }\n\n  if (typeof FEATURE_NO_ES2016 === 'undefined' && !Array.prototype.includes) {\n    Object.defineProperty(Array.prototype, 'includes', {\n      configurable: true,\n      writable: true,\n      enumerable: false,\n      value: function value(searchElement) {\n        var O = Object(this);\n        var len = parseInt(O.length) || 0;\n        if (len === 0) {\n          return false;\n        }\n        var n = parseInt(arguments[1]) || 0;\n        var k;\n        if (n >= 0) {\n          k = n;\n        } else {\n          k = len + n;\n          if (k < 0) {\n            k = 0;\n          }\n        }\n        var currentElement;\n        while (k < len) {\n          currentElement = O[k];\n          if (searchElement === currentElement || searchElement !== searchElement && currentElement !== currentElement) {\n            return true;\n          }\n          k++;\n        }\n        return false;\n      }\n    });\n  }\n\n  if (typeof FEATURE_NO_ES2015 === 'undefined') {\n\n    (function () {\n      var needsFix = false;\n\n      try {\n        var s = Object.keys('a');\n        needsFix = s.length !== 1 || s[0] !== '0';\n      } catch (e) {\n        needsFix = true;\n      }\n\n      if (needsFix) {\n        Object.keys = function () {\n          var hasOwnProperty = Object.prototype.hasOwnProperty,\n              hasDontEnumBug = !{ toString: null }.propertyIsEnumerable('toString'),\n              dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'],\n              dontEnumsLength = dontEnums.length;\n\n          return function (obj) {\n            if (obj === undefined || obj === null) {\n              throw TypeError('Cannot convert undefined or null to object');\n            }\n\n            obj = Object(obj);\n\n            var result = [],\n                prop,\n                i;\n\n            for (prop in obj) {\n              if (hasOwnProperty.call(obj, prop)) {\n                result.push(prop);\n              }\n            }\n\n            if (hasDontEnumBug) {\n              for (i = 0; i < dontEnumsLength; i++) {\n                if (hasOwnProperty.call(obj, dontEnums[i])) {\n                  result.push(dontEnums[i]);\n                }\n              }\n            }\n\n            return result;\n          };\n        }();\n      }\n    })();\n\n    (function (O) {\n      if ('assign' in O) {\n        return;\n      }\n\n      O.defineProperty(O, 'assign', {\n        configurable: true,\n        writable: true,\n        value: function () {\n          var gOPS = O.getOwnPropertySymbols,\n              pIE = O.propertyIsEnumerable,\n              filterOS = gOPS ? function (self) {\n            return gOPS(self).filter(pIE, self);\n          } : function () {\n            return Array.prototype;\n          };\n\n          return function assign(where) {\n            if (gOPS && !(where instanceof O)) {\n              console.warn('problematic Symbols', where);\n            }\n\n            function set(keyOrSymbol) {\n              where[keyOrSymbol] = arg[keyOrSymbol];\n            }\n\n            for (var i = 1, ii = arguments.length; i < ii; ++i) {\n              var arg = arguments[i];\n\n              if (arg === null || arg === undefined) {\n                continue;\n              }\n\n              O.keys(arg).concat(filterOS(arg)).forEach(set);\n            }\n\n            return where;\n          };\n        }()\n      });\n    })(Object);\n  }\n\n  if (typeof FEATURE_NO_ES2015 === 'undefined') {\n\n    (function (global) {\n      var i;\n\n      var defineProperty = Object.defineProperty,\n          is = function is(a, b) {\n        return a === b || a !== a && b !== b;\n      };\n\n      if (typeof WeakMap == 'undefined') {\n        global.WeakMap = createCollection({\n          'delete': sharedDelete,\n\n          clear: sharedClear,\n\n          get: sharedGet,\n\n          has: mapHas,\n\n          set: sharedSet\n        }, true);\n      }\n\n      if (typeof Map == 'undefined' || typeof new Map().values !== 'function' || !new Map().values().next) {\n        var _createCollection;\n\n        global.Map = createCollection((_createCollection = {\n          'delete': sharedDelete,\n\n          has: mapHas,\n\n          get: sharedGet,\n\n          set: sharedSet,\n\n          keys: sharedKeys,\n\n          values: sharedValues,\n\n          entries: mapEntries,\n\n          forEach: sharedForEach,\n\n          clear: sharedClear\n        }, _createCollection[Symbol.iterator] = mapEntries, _createCollection));\n      }\n\n      if (typeof Set == 'undefined' || typeof new Set().values !== 'function' || !new Set().values().next) {\n        var _createCollection2;\n\n        global.Set = createCollection((_createCollection2 = {\n          has: setHas,\n\n          add: sharedAdd,\n\n          'delete': sharedDelete,\n\n          clear: sharedClear,\n\n          keys: sharedValues,\n          values: sharedValues,\n\n          entries: setEntries,\n\n          forEach: sharedForEach\n        }, _createCollection2[Symbol.iterator] = sharedValues, _createCollection2));\n      }\n\n      if (typeof WeakSet == 'undefined') {\n        global.WeakSet = createCollection({\n          'delete': sharedDelete,\n\n          add: sharedAdd,\n\n          clear: sharedClear,\n\n          has: setHas\n        }, true);\n      }\n\n      function createCollection(proto, objectOnly) {\n        function Collection(a) {\n          if (!this || this.constructor !== Collection) return new Collection(a);\n          this._keys = [];\n          this._values = [];\n          this._itp = [];\n          this.objectOnly = objectOnly;\n\n          if (a) init.call(this, a);\n        }\n\n        if (!objectOnly) {\n          defineProperty(proto, 'size', {\n            get: sharedSize\n          });\n        }\n\n        proto.constructor = Collection;\n        Collection.prototype = proto;\n\n        return Collection;\n      }\n\n      function init(a) {\n        var i;\n\n        if (this.add) a.forEach(this.add, this);else a.forEach(function (a) {\n            this.set(a[0], a[1]);\n          }, this);\n      }\n\n      function sharedDelete(key) {\n        if (this.has(key)) {\n          this._keys.splice(i, 1);\n          this._values.splice(i, 1);\n\n          this._itp.forEach(function (p) {\n            if (i < p[0]) p[0]--;\n          });\n        }\n\n        return -1 < i;\n      };\n\n      function sharedGet(key) {\n        return this.has(key) ? this._values[i] : undefined;\n      }\n\n      function has(list, key) {\n        if (this.objectOnly && key !== Object(key)) throw new TypeError(\"Invalid value used as weak collection key\");\n\n        if (key != key || key === 0) for (i = list.length; i-- && !is(list[i], key);) {} else i = list.indexOf(key);\n        return -1 < i;\n      }\n\n      function setHas(value) {\n        return has.call(this, this._values, value);\n      }\n\n      function mapHas(value) {\n        return has.call(this, this._keys, value);\n      }\n\n      function sharedSet(key, value) {\n        this.has(key) ? this._values[i] = value : this._values[this._keys.push(key) - 1] = value;\n        return this;\n      }\n\n      function sharedAdd(value) {\n        if (!this.has(value)) this._values.push(value);\n        return this;\n      }\n\n      function sharedClear() {\n        (this._keys || 0).length = this._values.length = 0;\n      }\n\n      function sharedKeys() {\n        return sharedIterator(this._itp, this._keys);\n      }\n\n      function sharedValues() {\n        return sharedIterator(this._itp, this._values);\n      }\n\n      function mapEntries() {\n        return sharedIterator(this._itp, this._keys, this._values);\n      }\n\n      function setEntries() {\n        return sharedIterator(this._itp, this._values, this._values);\n      }\n\n      function sharedIterator(itp, array, array2) {\n        var _ref;\n\n        var p = [0],\n            done = false;\n        itp.push(p);\n        return _ref = {}, _ref[Symbol.iterator] = function () {\n          return this;\n        }, _ref.next = function next() {\n          var v,\n              k = p[0];\n          if (!done && k < array.length) {\n            v = array2 ? [array[k], array2[k]] : array[k];\n            p[0]++;\n          } else {\n            done = true;\n            itp.splice(itp.indexOf(p), 1);\n          }\n          return { done: done, value: v };\n        }, _ref;\n      }\n\n      function sharedSize() {\n        return this._values.length;\n      }\n\n      function sharedForEach(callback, context) {\n        var it = this.entries();\n        for (;;) {\n          var r = it.next();\n          if (r.done) break;\n          callback.call(context, r.value[1], r.value[0], this);\n        }\n      }\n    })(_aureliaPal.PLATFORM.global);\n  }\n\n  if (typeof FEATURE_NO_ES2015 === 'undefined') {\n    (function () {\n\n      var bind = Function.prototype.bind;\n\n      if (typeof _aureliaPal.PLATFORM.global.Reflect === 'undefined') {\n        _aureliaPal.PLATFORM.global.Reflect = {};\n      }\n\n      if (typeof Reflect.defineProperty !== 'function') {\n        Reflect.defineProperty = function (target, propertyKey, descriptor) {\n          if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' ? target === null : typeof target !== 'function') {\n            throw new TypeError('Reflect.defineProperty called on non-object');\n          }\n          try {\n            Object.defineProperty(target, propertyKey, descriptor);\n            return true;\n          } catch (e) {\n            return false;\n          }\n        };\n      }\n\n      if (typeof Reflect.construct !== 'function') {\n        Reflect.construct = function (Target, args) {\n          if (args) {\n            switch (args.length) {\n              case 0:\n                return new Target();\n              case 1:\n                return new Target(args[0]);\n              case 2:\n                return new Target(args[0], args[1]);\n              case 3:\n                return new Target(args[0], args[1], args[2]);\n              case 4:\n                return new Target(args[0], args[1], args[2], args[3]);\n            }\n          }\n\n          var a = [null];\n          a.push.apply(a, args);\n          return new (bind.apply(Target, a))();\n        };\n      }\n\n      if (typeof Reflect.ownKeys !== 'function') {\n        Reflect.ownKeys = function (o) {\n          return Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o));\n        };\n      }\n    })();\n  }\n\n  if (typeof FEATURE_NO_ESNEXT === 'undefined') {\n    (function () {\n\n      var emptyMetadata = Object.freeze({});\n      var metadataContainerKey = '__metadata__';\n\n      if (typeof Reflect.getOwnMetadata !== 'function') {\n        Reflect.getOwnMetadata = function (metadataKey, target, targetKey) {\n          if (target.hasOwnProperty(metadataContainerKey)) {\n            return (target[metadataContainerKey][targetKey] || emptyMetadata)[metadataKey];\n          }\n        };\n      }\n\n      if (typeof Reflect.defineMetadata !== 'function') {\n        Reflect.defineMetadata = function (metadataKey, metadataValue, target, targetKey) {\n          var metadataContainer = target.hasOwnProperty(metadataContainerKey) ? target[metadataContainerKey] : target[metadataContainerKey] = {};\n          var targetContainer = metadataContainer[targetKey] || (metadataContainer[targetKey] = {});\n          targetContainer[metadataKey] = metadataValue;\n        };\n      }\n\n      if (typeof Reflect.metadata !== 'function') {\n        Reflect.metadata = function (metadataKey, metadataValue) {\n          return function (target, targetKey) {\n            Reflect.defineMetadata(metadataKey, metadataValue, target, targetKey);\n          };\n        };\n      }\n    })();\n  }\n});\r\ndefine('aurelia-route-recognizer',['exports', 'aurelia-path'], function (exports, _aureliaPath) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RouteRecognizer = exports.EpsilonSegment = exports.StarSegment = exports.DynamicSegment = exports.StaticSegment = exports.State = undefined;\n\n  \n\n  var State = exports.State = function () {\n    function State(charSpec) {\n      \n\n      this.charSpec = charSpec;\n      this.nextStates = [];\n    }\n\n    State.prototype.get = function get(charSpec) {\n      for (var _iterator = this.nextStates, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref = _i.value;\n        }\n\n        var child = _ref;\n\n        var isEqual = child.charSpec.validChars === charSpec.validChars && child.charSpec.invalidChars === charSpec.invalidChars;\n\n        if (isEqual) {\n          return child;\n        }\n      }\n\n      return undefined;\n    };\n\n    State.prototype.put = function put(charSpec) {\n      var state = this.get(charSpec);\n\n      if (state) {\n        return state;\n      }\n\n      state = new State(charSpec);\n\n      this.nextStates.push(state);\n\n      if (charSpec.repeat) {\n        state.nextStates.push(state);\n      }\n\n      return state;\n    };\n\n    State.prototype.match = function match(ch) {\n      var nextStates = this.nextStates;\n      var results = [];\n\n      for (var i = 0, l = nextStates.length; i < l; i++) {\n        var child = nextStates[i];\n        var charSpec = child.charSpec;\n\n        if (charSpec.validChars !== undefined) {\n          if (charSpec.validChars.indexOf(ch) !== -1) {\n            results.push(child);\n          }\n        } else if (charSpec.invalidChars !== undefined) {\n          if (charSpec.invalidChars.indexOf(ch) === -1) {\n            results.push(child);\n          }\n        }\n      }\n\n      return results;\n    };\n\n    return State;\n  }();\n\n  var specials = ['/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\\\'];\n\n  var escapeRegex = new RegExp('(\\\\' + specials.join('|\\\\') + ')', 'g');\n\n  var StaticSegment = exports.StaticSegment = function () {\n    function StaticSegment(string, caseSensitive) {\n      \n\n      this.string = string;\n      this.caseSensitive = caseSensitive;\n    }\n\n    StaticSegment.prototype.eachChar = function eachChar(callback) {\n      var s = this.string;\n      for (var i = 0, ii = s.length; i < ii; ++i) {\n        var ch = s[i];\n        callback({ validChars: this.caseSensitive ? ch : ch.toUpperCase() + ch.toLowerCase() });\n      }\n    };\n\n    StaticSegment.prototype.regex = function regex() {\n      return this.string.replace(escapeRegex, '\\\\$1');\n    };\n\n    StaticSegment.prototype.generate = function generate() {\n      return this.string;\n    };\n\n    return StaticSegment;\n  }();\n\n  var DynamicSegment = exports.DynamicSegment = function () {\n    function DynamicSegment(name, optional) {\n      \n\n      this.name = name;\n      this.optional = optional;\n    }\n\n    DynamicSegment.prototype.eachChar = function eachChar(callback) {\n      callback({ invalidChars: '/', repeat: true });\n    };\n\n    DynamicSegment.prototype.regex = function regex() {\n      return this.optional ? '([^/]+)?' : '([^/]+)';\n    };\n\n    DynamicSegment.prototype.generate = function generate(params, consumed) {\n      consumed[this.name] = true;\n      return params[this.name];\n    };\n\n    return DynamicSegment;\n  }();\n\n  var StarSegment = exports.StarSegment = function () {\n    function StarSegment(name) {\n      \n\n      this.name = name;\n    }\n\n    StarSegment.prototype.eachChar = function eachChar(callback) {\n      callback({ invalidChars: '', repeat: true });\n    };\n\n    StarSegment.prototype.regex = function regex() {\n      return '(.+)';\n    };\n\n    StarSegment.prototype.generate = function generate(params, consumed) {\n      consumed[this.name] = true;\n      return params[this.name];\n    };\n\n    return StarSegment;\n  }();\n\n  var EpsilonSegment = exports.EpsilonSegment = function () {\n    function EpsilonSegment() {\n      \n    }\n\n    EpsilonSegment.prototype.eachChar = function eachChar() {};\n\n    EpsilonSegment.prototype.regex = function regex() {\n      return '';\n    };\n\n    EpsilonSegment.prototype.generate = function generate() {\n      return '';\n    };\n\n    return EpsilonSegment;\n  }();\n\n  var RouteRecognizer = exports.RouteRecognizer = function () {\n    function RouteRecognizer() {\n      \n\n      this.rootState = new State();\n      this.names = {};\n    }\n\n    RouteRecognizer.prototype.add = function add(route) {\n      var _this = this;\n\n      if (Array.isArray(route)) {\n        route.forEach(function (r) {\n          return _this.add(r);\n        });\n        return undefined;\n      }\n\n      var currentState = this.rootState;\n      var regex = '^';\n      var types = { statics: 0, dynamics: 0, stars: 0 };\n      var names = [];\n      var routeName = route.handler.name;\n      var isEmpty = true;\n      var isAllOptional = true;\n      var segments = parse(route.path, names, types, route.caseSensitive);\n\n      for (var i = 0, ii = segments.length; i < ii; i++) {\n        var segment = segments[i];\n        if (segment instanceof EpsilonSegment) {\n          continue;\n        }\n\n        isEmpty = false;\n        isAllOptional = isAllOptional && segment.optional;\n\n        currentState = addSegment(currentState, segment);\n        regex += segment.optional ? '/?' : '/';\n        regex += segment.regex();\n      }\n\n      if (isAllOptional) {\n        if (isEmpty) {\n          currentState = currentState.put({ validChars: '/' });\n          regex += '/';\n        } else {\n          var finalState = this.rootState.put({ validChars: '/' });\n          currentState.epsilon = [finalState];\n          currentState = finalState;\n        }\n      }\n\n      var handlers = [{ handler: route.handler, names: names }];\n\n      if (routeName) {\n        var routeNames = Array.isArray(routeName) ? routeName : [routeName];\n        for (var _i2 = 0; _i2 < routeNames.length; _i2++) {\n          this.names[routeNames[_i2]] = {\n            segments: segments,\n            handlers: handlers\n          };\n        }\n      }\n\n      currentState.handlers = handlers;\n      currentState.regex = new RegExp(regex + '$', route.caseSensitive ? '' : 'i');\n      currentState.types = types;\n\n      return currentState;\n    };\n\n    RouteRecognizer.prototype.handlersFor = function handlersFor(name) {\n      var route = this.names[name];\n      if (!route) {\n        throw new Error('There is no route named ' + name);\n      }\n\n      return [].concat(route.handlers);\n    };\n\n    RouteRecognizer.prototype.hasRoute = function hasRoute(name) {\n      return !!this.names[name];\n    };\n\n    RouteRecognizer.prototype.generate = function generate(name, params) {\n      var route = this.names[name];\n      if (!route) {\n        throw new Error('There is no route named ' + name);\n      }\n\n      var handler = route.handlers[0].handler;\n      if (handler.generationUsesHref) {\n        return handler.href;\n      }\n\n      var routeParams = Object.assign({}, params);\n      var segments = route.segments;\n      var consumed = {};\n      var output = '';\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        var segment = segments[i];\n\n        if (segment instanceof EpsilonSegment) {\n          continue;\n        }\n\n        var segmentValue = segment.generate(routeParams, consumed);\n        if (segmentValue === null || segmentValue === undefined) {\n          if (!segment.optional) {\n            throw new Error('A value is required for route parameter \\'' + segment.name + '\\' in route \\'' + name + '\\'.');\n          }\n        } else {\n          output += '/';\n          output += segmentValue;\n        }\n      }\n\n      if (output.charAt(0) !== '/') {\n        output = '/' + output;\n      }\n\n      for (var param in consumed) {\n        delete routeParams[param];\n      }\n\n      var queryString = (0, _aureliaPath.buildQueryString)(routeParams);\n      output += queryString ? '?' + queryString : '';\n\n      return output;\n    };\n\n    RouteRecognizer.prototype.recognize = function recognize(path) {\n      var states = [this.rootState];\n      var queryParams = {};\n      var isSlashDropped = false;\n      var normalizedPath = path;\n\n      var queryStart = normalizedPath.indexOf('?');\n      if (queryStart !== -1) {\n        var queryString = normalizedPath.substr(queryStart + 1, normalizedPath.length);\n        normalizedPath = normalizedPath.substr(0, queryStart);\n        queryParams = (0, _aureliaPath.parseQueryString)(queryString);\n      }\n\n      normalizedPath = decodeURI(normalizedPath);\n\n      if (normalizedPath.charAt(0) !== '/') {\n        normalizedPath = '/' + normalizedPath;\n      }\n\n      var pathLen = normalizedPath.length;\n      if (pathLen > 1 && normalizedPath.charAt(pathLen - 1) === '/') {\n        normalizedPath = normalizedPath.substr(0, pathLen - 1);\n        isSlashDropped = true;\n      }\n\n      for (var i = 0, l = normalizedPath.length; i < l; i++) {\n        states = recognizeChar(states, normalizedPath.charAt(i));\n        if (!states.length) {\n          break;\n        }\n      }\n\n      var solutions = [];\n      for (var _i3 = 0, _l = states.length; _i3 < _l; _i3++) {\n        if (states[_i3].handlers) {\n          solutions.push(states[_i3]);\n        }\n      }\n\n      states = sortSolutions(solutions);\n\n      var state = solutions[0];\n      if (state && state.handlers) {\n        if (isSlashDropped && state.regex.source.slice(-5) === '(.+)$') {\n          normalizedPath = normalizedPath + '/';\n        }\n\n        return findHandler(state, normalizedPath, queryParams);\n      }\n    };\n\n    return RouteRecognizer;\n  }();\n\n  var RecognizeResults = function RecognizeResults(queryParams) {\n    \n\n    this.splice = Array.prototype.splice;\n    this.slice = Array.prototype.slice;\n    this.push = Array.prototype.push;\n    this.length = 0;\n    this.queryParams = queryParams || {};\n  };\n\n  function parse(route, names, types, caseSensitive) {\n    var normalizedRoute = route;\n    if (route.charAt(0) === '/') {\n      normalizedRoute = route.substr(1);\n    }\n\n    var results = [];\n\n    var splitRoute = normalizedRoute.split('/');\n    for (var i = 0, ii = splitRoute.length; i < ii; ++i) {\n      var segment = splitRoute[i];\n\n      var match = segment.match(/^:([^?]+)(\\?)?$/);\n      if (match) {\n        var _match = match,\n            _name = _match[1],\n            optional = _match[2];\n\n        if (_name.indexOf('=') !== -1) {\n          throw new Error('Parameter ' + _name + ' in route ' + route + ' has a default value, which is not supported.');\n        }\n        results.push(new DynamicSegment(_name, !!optional));\n        names.push(_name);\n        types.dynamics++;\n        continue;\n      }\n\n      match = segment.match(/^\\*(.+)$/);\n      if (match) {\n        results.push(new StarSegment(match[1]));\n        names.push(match[1]);\n        types.stars++;\n      } else if (segment === '') {\n        results.push(new EpsilonSegment());\n      } else {\n        results.push(new StaticSegment(segment, caseSensitive));\n        types.statics++;\n      }\n    }\n\n    return results;\n  }\n\n  function sortSolutions(states) {\n    return states.sort(function (a, b) {\n      if (a.types.stars !== b.types.stars) {\n        return a.types.stars - b.types.stars;\n      }\n\n      if (a.types.stars) {\n        if (a.types.statics !== b.types.statics) {\n          return b.types.statics - a.types.statics;\n        }\n        if (a.types.dynamics !== b.types.dynamics) {\n          return b.types.dynamics - a.types.dynamics;\n        }\n      }\n\n      if (a.types.dynamics !== b.types.dynamics) {\n        return a.types.dynamics - b.types.dynamics;\n      }\n\n      if (a.types.statics !== b.types.statics) {\n        return b.types.statics - a.types.statics;\n      }\n\n      return 0;\n    });\n  }\n\n  function recognizeChar(states, ch) {\n    var nextStates = [];\n\n    for (var i = 0, l = states.length; i < l; i++) {\n      var state = states[i];\n      nextStates.push.apply(nextStates, state.match(ch));\n    }\n\n    var skippableStates = nextStates.filter(function (s) {\n      return s.epsilon;\n    });\n\n    var _loop = function _loop() {\n      var newStates = [];\n      skippableStates.forEach(function (s) {\n        nextStates.push.apply(nextStates, s.epsilon);\n        newStates.push.apply(newStates, s.epsilon);\n      });\n      skippableStates = newStates.filter(function (s) {\n        return s.epsilon;\n      });\n    };\n\n    while (skippableStates.length > 0) {\n      _loop();\n    }\n\n    return nextStates;\n  }\n\n  function findHandler(state, path, queryParams) {\n    var handlers = state.handlers;\n    var regex = state.regex;\n    var captures = path.match(regex);\n    var currentCapture = 1;\n    var result = new RecognizeResults(queryParams);\n\n    for (var i = 0, l = handlers.length; i < l; i++) {\n      var _handler = handlers[i];\n      var _names = _handler.names;\n      var _params = {};\n\n      for (var j = 0, m = _names.length; j < m; j++) {\n        _params[_names[j]] = captures[currentCapture++];\n      }\n\n      result.push({ handler: _handler.handler, params: _params, isDynamic: !!_names.length });\n    }\n\n    return result;\n  }\n\n  function addSegment(currentState, segment) {\n    var state = currentState.put({ validChars: '/' });\n    segment.eachChar(function (ch) {\n      state = state.put(ch);\n    });\n\n    if (segment.optional) {\n      currentState.epsilon = currentState.epsilon || [];\n      currentState.epsilon.push(state);\n    }\n\n    return state;\n  }\n});\r\ndefine('aurelia-router',['exports', 'aurelia-logging', 'aurelia-route-recognizer', 'aurelia-dependency-injection', 'aurelia-history', 'aurelia-event-aggregator'], function (exports, _aureliaLogging, _aureliaRouteRecognizer, _aureliaDependencyInjection, _aureliaHistory, _aureliaEventAggregator) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AppRouter = exports.PipelineProvider = exports.LoadRouteStep = exports.RouteLoader = exports.ActivateNextStep = exports.DeactivatePreviousStep = exports.CanActivateNextStep = exports.CanDeactivatePreviousStep = exports.Router = exports.BuildNavigationPlanStep = exports.activationStrategy = exports.RouterConfiguration = exports.RedirectToRoute = exports.Redirect = exports.NavModel = exports.NavigationInstruction = exports.CommitChangesStep = exports.Pipeline = exports.pipelineStatus = undefined;\n  exports._normalizeAbsolutePath = _normalizeAbsolutePath;\n  exports._createRootedPath = _createRootedPath;\n  exports._resolveUrl = _resolveUrl;\n  exports.isNavigationCommand = isNavigationCommand;\n  exports._buildNavigationPlan = _buildNavigationPlan;\n\n  var LogManager = _interopRequireWildcard(_aureliaLogging);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  \n\n  function _normalizeAbsolutePath(path, hasPushState) {\n    var absolute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (!hasPushState && path[0] !== '#') {\n      path = '#' + path;\n    }\n\n    if (hasPushState && absolute) {\n      path = path.substring(1, path.length);\n    }\n\n    return path;\n  }\n\n  function _createRootedPath(fragment, baseUrl, hasPushState, absolute) {\n    if (isAbsoluteUrl.test(fragment)) {\n      return fragment;\n    }\n\n    var path = '';\n\n    if (baseUrl.length && baseUrl[0] !== '/') {\n      path += '/';\n    }\n\n    path += baseUrl;\n\n    if ((!path.length || path[path.length - 1] !== '/') && fragment[0] !== '/') {\n      path += '/';\n    }\n\n    if (path.length && path[path.length - 1] === '/' && fragment[0] === '/') {\n      path = path.substring(0, path.length - 1);\n    }\n\n    return _normalizeAbsolutePath(path + fragment, hasPushState, absolute);\n  }\n\n  function _resolveUrl(fragment, baseUrl, hasPushState) {\n    if (isRootedPath.test(fragment)) {\n      return _normalizeAbsolutePath(fragment, hasPushState);\n    }\n\n    return _createRootedPath(fragment, baseUrl, hasPushState);\n  }\n\n  var isRootedPath = /^#?\\//;\n  var isAbsoluteUrl = /^([a-z][a-z0-9+\\-.]*:)?\\/\\//i;\n\n  var pipelineStatus = exports.pipelineStatus = {\n    completed: 'completed',\n    canceled: 'canceled',\n    rejected: 'rejected',\n    running: 'running'\n  };\n\n  var Pipeline = exports.Pipeline = function () {\n    function Pipeline() {\n      \n\n      this.steps = [];\n    }\n\n    Pipeline.prototype.addStep = function addStep(step) {\n      var run = void 0;\n\n      if (typeof step === 'function') {\n        run = step;\n      } else if (typeof step.getSteps === 'function') {\n        var steps = step.getSteps();\n        for (var i = 0, l = steps.length; i < l; i++) {\n          this.addStep(steps[i]);\n        }\n\n        return this;\n      } else {\n        run = step.run.bind(step);\n      }\n\n      this.steps.push(run);\n\n      return this;\n    };\n\n    Pipeline.prototype.run = function run(instruction) {\n      var index = -1;\n      var steps = this.steps;\n\n      function next() {\n        index++;\n\n        if (index < steps.length) {\n          var currentStep = steps[index];\n\n          try {\n            return currentStep(instruction, next);\n          } catch (e) {\n            return next.reject(e);\n          }\n        } else {\n          return next.complete();\n        }\n      }\n\n      next.complete = createCompletionHandler(next, pipelineStatus.completed);\n      next.cancel = createCompletionHandler(next, pipelineStatus.canceled);\n      next.reject = createCompletionHandler(next, pipelineStatus.rejected);\n\n      return next();\n    };\n\n    return Pipeline;\n  }();\n\n  function createCompletionHandler(next, status) {\n    return function (output) {\n      return Promise.resolve({ status: status, output: output, completed: status === pipelineStatus.completed });\n    };\n  }\n\n  var CommitChangesStep = exports.CommitChangesStep = function () {\n    function CommitChangesStep() {\n      \n    }\n\n    CommitChangesStep.prototype.run = function run(navigationInstruction, next) {\n      return navigationInstruction._commitChanges(true).then(function () {\n        navigationInstruction._updateTitle();\n        return next();\n      });\n    };\n\n    return CommitChangesStep;\n  }();\n\n  var NavigationInstruction = exports.NavigationInstruction = function () {\n    function NavigationInstruction(init) {\n      \n\n      this.plan = null;\n      this.options = {};\n\n      Object.assign(this, init);\n\n      this.params = this.params || {};\n      this.viewPortInstructions = {};\n\n      var ancestorParams = [];\n      var current = this;\n      do {\n        var currentParams = Object.assign({}, current.params);\n        if (current.config && current.config.hasChildRouter) {\n          delete currentParams[current.getWildCardName()];\n        }\n\n        ancestorParams.unshift(currentParams);\n        current = current.parentInstruction;\n      } while (current);\n\n      var allParams = Object.assign.apply(Object, [{}, this.queryParams].concat(ancestorParams));\n      this.lifecycleArgs = [allParams, this.config, this];\n    }\n\n    NavigationInstruction.prototype.getAllInstructions = function getAllInstructions() {\n      var instructions = [this];\n      for (var key in this.viewPortInstructions) {\n        var childInstruction = this.viewPortInstructions[key].childNavigationInstruction;\n        if (childInstruction) {\n          instructions.push.apply(instructions, childInstruction.getAllInstructions());\n        }\n      }\n\n      return instructions;\n    };\n\n    NavigationInstruction.prototype.getAllPreviousInstructions = function getAllPreviousInstructions() {\n      return this.getAllInstructions().map(function (c) {\n        return c.previousInstruction;\n      }).filter(function (c) {\n        return c;\n      });\n    };\n\n    NavigationInstruction.prototype.addViewPortInstruction = function addViewPortInstruction(viewPortName, strategy, moduleId, component) {\n      var config = Object.assign({}, this.lifecycleArgs[1], { currentViewPort: viewPortName });\n      var viewportInstruction = this.viewPortInstructions[viewPortName] = {\n        name: viewPortName,\n        strategy: strategy,\n        moduleId: moduleId,\n        component: component,\n        childRouter: component.childRouter,\n        lifecycleArgs: [].concat(this.lifecycleArgs[0], config, this.lifecycleArgs[2])\n      };\n\n      return viewportInstruction;\n    };\n\n    NavigationInstruction.prototype.getWildCardName = function getWildCardName() {\n      var wildcardIndex = this.config.route.lastIndexOf('*');\n      return this.config.route.substr(wildcardIndex + 1);\n    };\n\n    NavigationInstruction.prototype.getWildcardPath = function getWildcardPath() {\n      var wildcardName = this.getWildCardName();\n      var path = this.params[wildcardName] || '';\n\n      if (this.queryString) {\n        path += '?' + this.queryString;\n      }\n\n      return path;\n    };\n\n    NavigationInstruction.prototype.getBaseUrl = function getBaseUrl() {\n      var _this = this;\n\n      var fragment = decodeURI(this.fragment);\n\n      if (fragment === '') {\n        var nonEmptyRoute = this.router.routes.find(function (route) {\n          return route.name === _this.config.name && route.route !== '';\n        });\n        if (nonEmptyRoute) {\n          fragment = nonEmptyRoute.route;\n        }\n      }\n\n      if (!this.params) {\n        return encodeURI(fragment);\n      }\n\n      var wildcardName = this.getWildCardName();\n      var path = this.params[wildcardName] || '';\n\n      if (!path) {\n        return encodeURI(fragment);\n      }\n\n      return encodeURI(fragment.substr(0, fragment.lastIndexOf(path)));\n    };\n\n    NavigationInstruction.prototype._commitChanges = function _commitChanges(waitToSwap) {\n      var _this2 = this;\n\n      var router = this.router;\n      router.currentInstruction = this;\n\n      if (this.previousInstruction) {\n        this.previousInstruction.config.navModel.isActive = false;\n      }\n\n      this.config.navModel.isActive = true;\n\n      router._refreshBaseUrl();\n      router.refreshNavigation();\n\n      var loads = [];\n      var delaySwaps = [];\n\n      var _loop = function _loop(viewPortName) {\n        var viewPortInstruction = _this2.viewPortInstructions[viewPortName];\n        var viewPort = router.viewPorts[viewPortName];\n\n        if (!viewPort) {\n          throw new Error('There was no router-view found in the view for ' + viewPortInstruction.moduleId + '.');\n        }\n\n        if (viewPortInstruction.strategy === activationStrategy.replace) {\n          if (viewPortInstruction.childNavigationInstruction && viewPortInstruction.childNavigationInstruction.parentCatchHandler) {\n            loads.push(viewPortInstruction.childNavigationInstruction._commitChanges());\n          } else {\n            if (waitToSwap) {\n              delaySwaps.push({ viewPort: viewPort, viewPortInstruction: viewPortInstruction });\n            }\n            loads.push(viewPort.process(viewPortInstruction, waitToSwap).then(function (x) {\n              if (viewPortInstruction.childNavigationInstruction) {\n                return viewPortInstruction.childNavigationInstruction._commitChanges();\n              }\n\n              return undefined;\n            }));\n          }\n        } else {\n          if (viewPortInstruction.childNavigationInstruction) {\n            loads.push(viewPortInstruction.childNavigationInstruction._commitChanges(waitToSwap));\n          }\n        }\n      };\n\n      for (var viewPortName in this.viewPortInstructions) {\n        _loop(viewPortName);\n      }\n\n      return Promise.all(loads).then(function () {\n        delaySwaps.forEach(function (x) {\n          return x.viewPort.swap(x.viewPortInstruction);\n        });\n        return null;\n      }).then(function () {\n        return prune(_this2);\n      });\n    };\n\n    NavigationInstruction.prototype._updateTitle = function _updateTitle() {\n      var title = this._buildTitle();\n      if (title) {\n        this.router.history.setTitle(title);\n      }\n    };\n\n    NavigationInstruction.prototype._buildTitle = function _buildTitle() {\n      var separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ' | ';\n\n      var title = '';\n      var childTitles = [];\n\n      if (this.config.navModel.title) {\n        title = this.router.transformTitle(this.config.navModel.title);\n      }\n\n      for (var viewPortName in this.viewPortInstructions) {\n        var _viewPortInstruction = this.viewPortInstructions[viewPortName];\n\n        if (_viewPortInstruction.childNavigationInstruction) {\n          var childTitle = _viewPortInstruction.childNavigationInstruction._buildTitle(separator);\n          if (childTitle) {\n            childTitles.push(childTitle);\n          }\n        }\n      }\n\n      if (childTitles.length) {\n        title = childTitles.join(separator) + (title ? separator : '') + title;\n      }\n\n      if (this.router.title) {\n        title += (title ? separator : '') + this.router.transformTitle(this.router.title);\n      }\n\n      return title;\n    };\n\n    return NavigationInstruction;\n  }();\n\n  function prune(instruction) {\n    instruction.previousInstruction = null;\n    instruction.plan = null;\n  }\n\n  var NavModel = exports.NavModel = function () {\n    function NavModel(router, relativeHref) {\n      \n\n      this.isActive = false;\n      this.title = null;\n      this.href = null;\n      this.relativeHref = null;\n      this.settings = {};\n      this.config = null;\n\n      this.router = router;\n      this.relativeHref = relativeHref;\n    }\n\n    NavModel.prototype.setTitle = function setTitle(title) {\n      this.title = title;\n\n      if (this.isActive) {\n        this.router.updateTitle();\n      }\n    };\n\n    return NavModel;\n  }();\n\n  function isNavigationCommand(obj) {\n    return obj && typeof obj.navigate === 'function';\n  }\n\n  var Redirect = exports.Redirect = function () {\n    function Redirect(url) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      \n\n      this.url = url;\n      this.options = Object.assign({ trigger: true, replace: true }, options);\n      this.shouldContinueProcessing = false;\n    }\n\n    Redirect.prototype.setRouter = function setRouter(router) {\n      this.router = router;\n    };\n\n    Redirect.prototype.navigate = function navigate(appRouter) {\n      var navigatingRouter = this.options.useAppRouter ? appRouter : this.router || appRouter;\n      navigatingRouter.navigate(this.url, this.options);\n    };\n\n    return Redirect;\n  }();\n\n  var RedirectToRoute = exports.RedirectToRoute = function () {\n    function RedirectToRoute(route) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      \n\n      this.route = route;\n      this.params = params;\n      this.options = Object.assign({ trigger: true, replace: true }, options);\n      this.shouldContinueProcessing = false;\n    }\n\n    RedirectToRoute.prototype.setRouter = function setRouter(router) {\n      this.router = router;\n    };\n\n    RedirectToRoute.prototype.navigate = function navigate(appRouter) {\n      var navigatingRouter = this.options.useAppRouter ? appRouter : this.router || appRouter;\n      navigatingRouter.navigateToRoute(this.route, this.params, this.options);\n    };\n\n    return RedirectToRoute;\n  }();\n\n  var RouterConfiguration = exports.RouterConfiguration = function () {\n    function RouterConfiguration() {\n      \n\n      this.instructions = [];\n      this.options = {};\n      this.pipelineSteps = [];\n    }\n\n    RouterConfiguration.prototype.addPipelineStep = function addPipelineStep(name, step) {\n      this.pipelineSteps.push({ name: name, step: step });\n      return this;\n    };\n\n    RouterConfiguration.prototype.addAuthorizeStep = function addAuthorizeStep(step) {\n      return this.addPipelineStep('authorize', step);\n    };\n\n    RouterConfiguration.prototype.addPreActivateStep = function addPreActivateStep(step) {\n      return this.addPipelineStep('preActivate', step);\n    };\n\n    RouterConfiguration.prototype.addPreRenderStep = function addPreRenderStep(step) {\n      return this.addPipelineStep('preRender', step);\n    };\n\n    RouterConfiguration.prototype.addPostRenderStep = function addPostRenderStep(step) {\n      return this.addPipelineStep('postRender', step);\n    };\n\n    RouterConfiguration.prototype.fallbackRoute = function fallbackRoute(fragment) {\n      this._fallbackRoute = fragment;\n      return this;\n    };\n\n    RouterConfiguration.prototype.map = function map(route) {\n      if (Array.isArray(route)) {\n        route.forEach(this.map.bind(this));\n        return this;\n      }\n\n      return this.mapRoute(route);\n    };\n\n    RouterConfiguration.prototype.mapRoute = function mapRoute(config) {\n      this.instructions.push(function (router) {\n        var routeConfigs = [];\n\n        if (Array.isArray(config.route)) {\n          for (var i = 0, ii = config.route.length; i < ii; ++i) {\n            var _current = Object.assign({}, config);\n            _current.route = config.route[i];\n            routeConfigs.push(_current);\n          }\n        } else {\n          routeConfigs.push(Object.assign({}, config));\n        }\n\n        var navModel = void 0;\n        for (var _i = 0, _ii = routeConfigs.length; _i < _ii; ++_i) {\n          var _routeConfig = routeConfigs[_i];\n          _routeConfig.settings = _routeConfig.settings || {};\n          if (!navModel) {\n            navModel = router.createNavModel(_routeConfig);\n          }\n\n          router.addRoute(_routeConfig, navModel);\n        }\n      });\n\n      return this;\n    };\n\n    RouterConfiguration.prototype.mapUnknownRoutes = function mapUnknownRoutes(config) {\n      this.unknownRouteConfig = config;\n      return this;\n    };\n\n    RouterConfiguration.prototype.exportToRouter = function exportToRouter(router) {\n      var instructions = this.instructions;\n      for (var i = 0, ii = instructions.length; i < ii; ++i) {\n        instructions[i](router);\n      }\n\n      if (this.title) {\n        router.title = this.title;\n      }\n\n      if (this.unknownRouteConfig) {\n        router.handleUnknownRoutes(this.unknownRouteConfig);\n      }\n\n      if (this._fallbackRoute) {\n        router.fallbackRoute = this._fallbackRoute;\n      }\n\n      router.options = this.options;\n\n      var pipelineSteps = this.pipelineSteps;\n      if (pipelineSteps.length) {\n        if (!router.isRoot) {\n          throw new Error('Pipeline steps can only be added to the root router');\n        }\n\n        var pipelineProvider = router.pipelineProvider;\n        for (var _i2 = 0, _ii2 = pipelineSteps.length; _i2 < _ii2; ++_i2) {\n          var _pipelineSteps$_i = pipelineSteps[_i2],\n              _name = _pipelineSteps$_i.name,\n              step = _pipelineSteps$_i.step;\n\n          pipelineProvider.addStep(_name, step);\n        }\n      }\n    };\n\n    return RouterConfiguration;\n  }();\n\n  var activationStrategy = exports.activationStrategy = {\n    noChange: 'no-change',\n    invokeLifecycle: 'invoke-lifecycle',\n    replace: 'replace'\n  };\n\n  var BuildNavigationPlanStep = exports.BuildNavigationPlanStep = function () {\n    function BuildNavigationPlanStep() {\n      \n    }\n\n    BuildNavigationPlanStep.prototype.run = function run(navigationInstruction, next) {\n      return _buildNavigationPlan(navigationInstruction).then(function (plan) {\n        navigationInstruction.plan = plan;\n        return next();\n      }).catch(next.cancel);\n    };\n\n    return BuildNavigationPlanStep;\n  }();\n\n  function _buildNavigationPlan(instruction, forceLifecycleMinimum) {\n    var prev = instruction.previousInstruction;\n    var config = instruction.config;\n    var plan = {};\n\n    if ('redirect' in config) {\n      var redirectLocation = _resolveUrl(config.redirect, getInstructionBaseUrl(instruction));\n      if (instruction.queryString) {\n        redirectLocation += '?' + instruction.queryString;\n      }\n\n      return Promise.reject(new Redirect(redirectLocation));\n    }\n\n    if (prev) {\n      var newParams = hasDifferentParameterValues(prev, instruction);\n      var pending = [];\n\n      var _loop2 = function _loop2(viewPortName) {\n        var prevViewPortInstruction = prev.viewPortInstructions[viewPortName];\n        var nextViewPortConfig = config.viewPorts[viewPortName];\n\n        if (!nextViewPortConfig) throw new Error('Invalid Route Config: Configuration for viewPort \"' + viewPortName + '\" was not found for route: \"' + instruction.config.route + '.\"');\n\n        var viewPortPlan = plan[viewPortName] = {\n          name: viewPortName,\n          config: nextViewPortConfig,\n          prevComponent: prevViewPortInstruction.component,\n          prevModuleId: prevViewPortInstruction.moduleId\n        };\n\n        if (prevViewPortInstruction.moduleId !== nextViewPortConfig.moduleId) {\n          viewPortPlan.strategy = activationStrategy.replace;\n        } else if ('determineActivationStrategy' in prevViewPortInstruction.component.viewModel) {\n          var _prevViewPortInstruct;\n\n          viewPortPlan.strategy = (_prevViewPortInstruct = prevViewPortInstruction.component.viewModel).determineActivationStrategy.apply(_prevViewPortInstruct, instruction.lifecycleArgs);\n        } else if (config.activationStrategy) {\n          viewPortPlan.strategy = config.activationStrategy;\n        } else if (newParams || forceLifecycleMinimum) {\n          viewPortPlan.strategy = activationStrategy.invokeLifecycle;\n        } else {\n          viewPortPlan.strategy = activationStrategy.noChange;\n        }\n\n        if (viewPortPlan.strategy !== activationStrategy.replace && prevViewPortInstruction.childRouter) {\n          var path = instruction.getWildcardPath();\n          var task = prevViewPortInstruction.childRouter._createNavigationInstruction(path, instruction).then(function (childInstruction) {\n            viewPortPlan.childNavigationInstruction = childInstruction;\n\n            return _buildNavigationPlan(childInstruction, viewPortPlan.strategy === activationStrategy.invokeLifecycle).then(function (childPlan) {\n              childInstruction.plan = childPlan;\n            });\n          });\n\n          pending.push(task);\n        }\n      };\n\n      for (var viewPortName in prev.viewPortInstructions) {\n        _loop2(viewPortName);\n      }\n\n      return Promise.all(pending).then(function () {\n        return plan;\n      });\n    }\n\n    for (var viewPortName in config.viewPorts) {\n      plan[viewPortName] = {\n        name: viewPortName,\n        strategy: activationStrategy.replace,\n        config: instruction.config.viewPorts[viewPortName]\n      };\n    }\n\n    return Promise.resolve(plan);\n  }\n\n  function hasDifferentParameterValues(prev, next) {\n    var prevParams = prev.params;\n    var nextParams = next.params;\n    var nextWildCardName = next.config.hasChildRouter ? next.getWildCardName() : null;\n\n    for (var key in nextParams) {\n      if (key === nextWildCardName) {\n        continue;\n      }\n\n      if (prevParams[key] !== nextParams[key]) {\n        return true;\n      }\n    }\n\n    for (var _key in prevParams) {\n      if (_key === nextWildCardName) {\n        continue;\n      }\n\n      if (prevParams[_key] !== nextParams[_key]) {\n        return true;\n      }\n    }\n\n    if (!next.options.compareQueryParams) {\n      return false;\n    }\n\n    var prevQueryParams = prev.queryParams;\n    var nextQueryParams = next.queryParams;\n    for (var _key2 in nextQueryParams) {\n      if (prevQueryParams[_key2] !== nextQueryParams[_key2]) {\n        return true;\n      }\n    }\n\n    for (var _key3 in prevQueryParams) {\n      if (prevQueryParams[_key3] !== nextQueryParams[_key3]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function getInstructionBaseUrl(instruction) {\n    var instructionBaseUrlParts = [];\n    instruction = instruction.parentInstruction;\n\n    while (instruction) {\n      instructionBaseUrlParts.unshift(instruction.getBaseUrl());\n      instruction = instruction.parentInstruction;\n    }\n\n    instructionBaseUrlParts.unshift('/');\n    return instructionBaseUrlParts.join('');\n  }\n\n  var Router = exports.Router = function () {\n    function Router(container, history) {\n      var _this3 = this;\n\n      \n\n      this.parent = null;\n      this.options = {};\n\n      this.transformTitle = function (title) {\n        if (_this3.parent) {\n          return _this3.parent.transformTitle(title);\n        }\n        return title;\n      };\n\n      this.container = container;\n      this.history = history;\n      this.reset();\n    }\n\n    Router.prototype.reset = function reset() {\n      var _this4 = this;\n\n      this.viewPorts = {};\n      this.routes = [];\n      this.baseUrl = '';\n      this.isConfigured = false;\n      this.isNavigating = false;\n      this.isExplicitNavigation = false;\n      this.isExplicitNavigationBack = false;\n      this.navigation = [];\n      this.currentInstruction = null;\n      this._fallbackOrder = 100;\n      this._recognizer = new _aureliaRouteRecognizer.RouteRecognizer();\n      this._childRecognizer = new _aureliaRouteRecognizer.RouteRecognizer();\n      this._configuredPromise = new Promise(function (resolve) {\n        _this4._resolveConfiguredPromise = resolve;\n      });\n    };\n\n    Router.prototype.registerViewPort = function registerViewPort(viewPort, name) {\n      name = name || 'default';\n      this.viewPorts[name] = viewPort;\n    };\n\n    Router.prototype.ensureConfigured = function ensureConfigured() {\n      return this._configuredPromise;\n    };\n\n    Router.prototype.configure = function configure(callbackOrConfig) {\n      var _this5 = this;\n\n      this.isConfigured = true;\n\n      var result = callbackOrConfig;\n      var config = void 0;\n      if (typeof callbackOrConfig === 'function') {\n        config = new RouterConfiguration();\n        result = callbackOrConfig(config);\n      }\n\n      return Promise.resolve(result).then(function (c) {\n        if (c && c.exportToRouter) {\n          config = c;\n        }\n\n        config.exportToRouter(_this5);\n        _this5.isConfigured = true;\n        _this5._resolveConfiguredPromise();\n      });\n    };\n\n    Router.prototype.navigate = function navigate(fragment, options) {\n      if (!this.isConfigured && this.parent) {\n        return this.parent.navigate(fragment, options);\n      }\n\n      this.isExplicitNavigation = true;\n      return this.history.navigate(_resolveUrl(fragment, this.baseUrl, this.history._hasPushState), options);\n    };\n\n    Router.prototype.navigateToRoute = function navigateToRoute(route, params, options) {\n      var path = this.generate(route, params);\n      return this.navigate(path, options);\n    };\n\n    Router.prototype.navigateBack = function navigateBack() {\n      this.isExplicitNavigationBack = true;\n      this.history.navigateBack();\n    };\n\n    Router.prototype.createChild = function createChild(container) {\n      var childRouter = new Router(container || this.container.createChild(), this.history);\n      childRouter.parent = this;\n      return childRouter;\n    };\n\n    Router.prototype.generate = function generate(name, params) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var hasRoute = this._recognizer.hasRoute(name);\n      if ((!this.isConfigured || !hasRoute) && this.parent) {\n        return this.parent.generate(name, params);\n      }\n\n      if (!hasRoute) {\n        throw new Error('A route with name \\'' + name + '\\' could not be found. Check that `name: \\'' + name + '\\'` was specified in the route\\'s config.');\n      }\n\n      var path = this._recognizer.generate(name, params);\n      var rootedPath = _createRootedPath(path, this.baseUrl, this.history._hasPushState, options.absolute);\n      return options.absolute ? '' + this.history.getAbsoluteRoot() + rootedPath : rootedPath;\n    };\n\n    Router.prototype.createNavModel = function createNavModel(config) {\n      var navModel = new NavModel(this, 'href' in config ? config.href : config.route);\n      navModel.title = config.title;\n      navModel.order = config.nav;\n      navModel.href = config.href;\n      navModel.settings = config.settings;\n      navModel.config = config;\n\n      return navModel;\n    };\n\n    Router.prototype.addRoute = function addRoute(config, navModel) {\n      validateRouteConfig(config, this.routes);\n\n      if (!('viewPorts' in config) && !config.navigationStrategy) {\n        config.viewPorts = {\n          'default': {\n            moduleId: config.moduleId,\n            view: config.view\n          }\n        };\n      }\n\n      if (!navModel) {\n        navModel = this.createNavModel(config);\n      }\n\n      this.routes.push(config);\n\n      var path = config.route;\n      if (path.charAt(0) === '/') {\n        path = path.substr(1);\n      }\n      var caseSensitive = config.caseSensitive === true;\n      var state = this._recognizer.add({ path: path, handler: config, caseSensitive: caseSensitive });\n\n      if (path) {\n        var _settings = config.settings;\n        delete config.settings;\n        var withChild = JSON.parse(JSON.stringify(config));\n        config.settings = _settings;\n        withChild.route = path + '/*childRoute';\n        withChild.hasChildRouter = true;\n        this._childRecognizer.add({\n          path: withChild.route,\n          handler: withChild,\n          caseSensitive: caseSensitive\n        });\n\n        withChild.navModel = navModel;\n        withChild.settings = config.settings;\n        withChild.navigationStrategy = config.navigationStrategy;\n      }\n\n      config.navModel = navModel;\n\n      if ((navModel.order || navModel.order === 0) && this.navigation.indexOf(navModel) === -1) {\n        if (!navModel.href && navModel.href !== '' && (state.types.dynamics || state.types.stars)) {\n          throw new Error('Invalid route config for \"' + config.route + '\" : dynamic routes must specify an \"href:\" to be included in the navigation model.');\n        }\n\n        if (typeof navModel.order !== 'number') {\n          navModel.order = ++this._fallbackOrder;\n        }\n\n        this.navigation.push(navModel);\n        this.navigation = this.navigation.sort(function (a, b) {\n          return a.order - b.order;\n        });\n      }\n    };\n\n    Router.prototype.hasRoute = function hasRoute(name) {\n      return !!(this._recognizer.hasRoute(name) || this.parent && this.parent.hasRoute(name));\n    };\n\n    Router.prototype.hasOwnRoute = function hasOwnRoute(name) {\n      return this._recognizer.hasRoute(name);\n    };\n\n    Router.prototype.handleUnknownRoutes = function handleUnknownRoutes(config) {\n      var _this6 = this;\n\n      if (!config) {\n        throw new Error('Invalid unknown route handler');\n      }\n\n      this.catchAllHandler = function (instruction) {\n        return _this6._createRouteConfig(config, instruction).then(function (c) {\n          instruction.config = c;\n          return instruction;\n        });\n      };\n    };\n\n    Router.prototype.updateTitle = function updateTitle() {\n      if (this.parent) {\n        return this.parent.updateTitle();\n      }\n\n      if (this.currentInstruction) {\n        this.currentInstruction._updateTitle();\n      }\n      return undefined;\n    };\n\n    Router.prototype.refreshNavigation = function refreshNavigation() {\n      var nav = this.navigation;\n\n      for (var i = 0, length = nav.length; i < length; i++) {\n        var _current2 = nav[i];\n        if (!_current2.config.href) {\n          _current2.href = _createRootedPath(_current2.relativeHref, this.baseUrl, this.history._hasPushState);\n        } else {\n          _current2.href = _normalizeAbsolutePath(_current2.config.href, this.history._hasPushState);\n        }\n      }\n    };\n\n    Router.prototype._refreshBaseUrl = function _refreshBaseUrl() {\n      if (this.parent) {\n        var baseUrl = this.parent.currentInstruction.getBaseUrl();\n        this.baseUrl = this.parent.baseUrl + baseUrl;\n      }\n    };\n\n    Router.prototype._createNavigationInstruction = function _createNavigationInstruction() {\n      var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var parentInstruction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var fragment = url;\n      var queryString = '';\n\n      var queryIndex = url.indexOf('?');\n      if (queryIndex !== -1) {\n        fragment = url.substr(0, queryIndex);\n        queryString = url.substr(queryIndex + 1);\n      }\n\n      var results = this._recognizer.recognize(url);\n      if (!results || !results.length) {\n        results = this._childRecognizer.recognize(url);\n      }\n\n      var instructionInit = {\n        fragment: fragment,\n        queryString: queryString,\n        config: null,\n        parentInstruction: parentInstruction,\n        previousInstruction: this.currentInstruction,\n        router: this,\n        options: {\n          compareQueryParams: this.options.compareQueryParams\n        }\n      };\n\n      if (results && results.length) {\n        var first = results[0];\n        var _instruction = new NavigationInstruction(Object.assign({}, instructionInit, {\n          params: first.params,\n          queryParams: first.queryParams || results.queryParams,\n          config: first.config || first.handler\n        }));\n\n        if (typeof first.handler === 'function') {\n          return evaluateNavigationStrategy(_instruction, first.handler, first);\n        } else if (first.handler && typeof first.handler.navigationStrategy === 'function') {\n          return evaluateNavigationStrategy(_instruction, first.handler.navigationStrategy, first.handler);\n        }\n\n        return Promise.resolve(_instruction);\n      } else if (this.catchAllHandler) {\n        var _instruction2 = new NavigationInstruction(Object.assign({}, instructionInit, {\n          params: { path: fragment },\n          queryParams: results ? results.queryParams : {},\n          config: null }));\n\n        return evaluateNavigationStrategy(_instruction2, this.catchAllHandler);\n      } else if (this.parent) {\n        var _router = this._parentCatchAllHandler(this.parent);\n\n        if (_router) {\n          var newParentInstruction = this._findParentInstructionFromRouter(_router, parentInstruction);\n\n          var _instruction3 = new NavigationInstruction(Object.assign({}, instructionInit, {\n            params: { path: fragment },\n            queryParams: results ? results.queryParams : {},\n            router: _router,\n            parentInstruction: newParentInstruction,\n            parentCatchHandler: true,\n            config: null }));\n\n          return evaluateNavigationStrategy(_instruction3, _router.catchAllHandler);\n        }\n      }\n\n      return Promise.reject(new Error('Route not found: ' + url));\n    };\n\n    Router.prototype._findParentInstructionFromRouter = function _findParentInstructionFromRouter(router, instruction) {\n      if (instruction.router === router) {\n        instruction.fragment = router.baseUrl;\n        return instruction;\n      } else if (instruction.parentInstruction) {\n        return this._findParentInstructionFromRouter(router, instruction.parentInstruction);\n      }\n      return undefined;\n    };\n\n    Router.prototype._parentCatchAllHandler = function _parentCatchAllHandler(router) {\n      if (router.catchAllHandler) {\n        return router;\n      } else if (router.parent) {\n        return this._parentCatchAllHandler(router.parent);\n      }\n      return false;\n    };\n\n    Router.prototype._createRouteConfig = function _createRouteConfig(config, instruction) {\n      var _this7 = this;\n\n      return Promise.resolve(config).then(function (c) {\n        if (typeof c === 'string') {\n          return { moduleId: c };\n        } else if (typeof c === 'function') {\n          return c(instruction);\n        }\n\n        return c;\n      }).then(function (c) {\n        return typeof c === 'string' ? { moduleId: c } : c;\n      }).then(function (c) {\n        c.route = instruction.params.path;\n        validateRouteConfig(c, _this7.routes);\n\n        if (!c.navModel) {\n          c.navModel = _this7.createNavModel(c);\n        }\n\n        return c;\n      });\n    };\n\n    _createClass(Router, [{\n      key: 'isRoot',\n      get: function get() {\n        return !this.parent;\n      }\n    }]);\n\n    return Router;\n  }();\n\n  function validateRouteConfig(config, routes) {\n    if ((typeof config === 'undefined' ? 'undefined' : _typeof(config)) !== 'object') {\n      throw new Error('Invalid Route Config');\n    }\n\n    if (typeof config.route !== 'string') {\n      var _name2 = config.name || '(no name)';\n      throw new Error('Invalid Route Config for \"' + _name2 + '\": You must specify a \"route:\" pattern.');\n    }\n\n    if (!('redirect' in config || config.moduleId || config.navigationStrategy || config.viewPorts)) {\n      throw new Error('Invalid Route Config for \"' + config.route + '\": You must specify a \"moduleId:\", \"redirect:\", \"navigationStrategy:\", or \"viewPorts:\".');\n    }\n  }\n\n  function evaluateNavigationStrategy(instruction, evaluator, context) {\n    return Promise.resolve(evaluator.call(context, instruction)).then(function () {\n      if (!('viewPorts' in instruction.config)) {\n        instruction.config.viewPorts = {\n          'default': {\n            moduleId: instruction.config.moduleId\n          }\n        };\n      }\n\n      return instruction;\n    });\n  }\n\n  var CanDeactivatePreviousStep = exports.CanDeactivatePreviousStep = function () {\n    function CanDeactivatePreviousStep() {\n      \n    }\n\n    CanDeactivatePreviousStep.prototype.run = function run(navigationInstruction, next) {\n      return processDeactivatable(navigationInstruction, 'canDeactivate', next);\n    };\n\n    return CanDeactivatePreviousStep;\n  }();\n\n  var CanActivateNextStep = exports.CanActivateNextStep = function () {\n    function CanActivateNextStep() {\n      \n    }\n\n    CanActivateNextStep.prototype.run = function run(navigationInstruction, next) {\n      return processActivatable(navigationInstruction, 'canActivate', next);\n    };\n\n    return CanActivateNextStep;\n  }();\n\n  var DeactivatePreviousStep = exports.DeactivatePreviousStep = function () {\n    function DeactivatePreviousStep() {\n      \n    }\n\n    DeactivatePreviousStep.prototype.run = function run(navigationInstruction, next) {\n      return processDeactivatable(navigationInstruction, 'deactivate', next, true);\n    };\n\n    return DeactivatePreviousStep;\n  }();\n\n  var ActivateNextStep = exports.ActivateNextStep = function () {\n    function ActivateNextStep() {\n      \n    }\n\n    ActivateNextStep.prototype.run = function run(navigationInstruction, next) {\n      return processActivatable(navigationInstruction, 'activate', next, true);\n    };\n\n    return ActivateNextStep;\n  }();\n\n  function processDeactivatable(navigationInstruction, callbackName, next, ignoreResult) {\n    var plan = navigationInstruction.plan;\n    var infos = findDeactivatable(plan, callbackName);\n    var i = infos.length;\n\n    function inspect(val) {\n      if (ignoreResult || shouldContinue(val)) {\n        return iterate();\n      }\n\n      return next.cancel(val);\n    }\n\n    function iterate() {\n      if (i--) {\n        try {\n          var viewModel = infos[i];\n          var _result = viewModel[callbackName](navigationInstruction);\n          return processPotential(_result, inspect, next.cancel);\n        } catch (error) {\n          return next.cancel(error);\n        }\n      }\n\n      return next();\n    }\n\n    return iterate();\n  }\n\n  function findDeactivatable(plan, callbackName) {\n    var list = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    for (var viewPortName in plan) {\n      var _viewPortPlan = plan[viewPortName];\n      var prevComponent = _viewPortPlan.prevComponent;\n\n      if ((_viewPortPlan.strategy === activationStrategy.invokeLifecycle || _viewPortPlan.strategy === activationStrategy.replace) && prevComponent) {\n        var viewModel = prevComponent.viewModel;\n\n        if (callbackName in viewModel) {\n          list.push(viewModel);\n        }\n      }\n\n      if (_viewPortPlan.strategy === activationStrategy.replace && prevComponent) {\n        addPreviousDeactivatable(prevComponent, callbackName, list);\n      } else if (_viewPortPlan.childNavigationInstruction) {\n        findDeactivatable(_viewPortPlan.childNavigationInstruction.plan, callbackName, list);\n      }\n    }\n\n    return list;\n  }\n\n  function addPreviousDeactivatable(component, callbackName, list) {\n    var childRouter = component.childRouter;\n\n    if (childRouter && childRouter.currentInstruction) {\n      var viewPortInstructions = childRouter.currentInstruction.viewPortInstructions;\n\n      for (var viewPortName in viewPortInstructions) {\n        var _viewPortInstruction2 = viewPortInstructions[viewPortName];\n        var prevComponent = _viewPortInstruction2.component;\n        var prevViewModel = prevComponent.viewModel;\n\n        if (callbackName in prevViewModel) {\n          list.push(prevViewModel);\n        }\n\n        addPreviousDeactivatable(prevComponent, callbackName, list);\n      }\n    }\n  }\n\n  function processActivatable(navigationInstruction, callbackName, next, ignoreResult) {\n    var infos = findActivatable(navigationInstruction, callbackName);\n    var length = infos.length;\n    var i = -1;\n\n    function inspect(val, router) {\n      if (ignoreResult || shouldContinue(val, router)) {\n        return iterate();\n      }\n\n      return next.cancel(val);\n    }\n\n    function iterate() {\n      i++;\n\n      if (i < length) {\n        try {\n          var _current3$viewModel;\n\n          var _current3 = infos[i];\n          var _result2 = (_current3$viewModel = _current3.viewModel)[callbackName].apply(_current3$viewModel, _current3.lifecycleArgs);\n          return processPotential(_result2, function (val) {\n            return inspect(val, _current3.router);\n          }, next.cancel);\n        } catch (error) {\n          return next.cancel(error);\n        }\n      }\n\n      return next();\n    }\n\n    return iterate();\n  }\n\n  function findActivatable(navigationInstruction, callbackName) {\n    var list = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var router = arguments[3];\n\n    var plan = navigationInstruction.plan;\n\n    Object.keys(plan).filter(function (viewPortName) {\n      var viewPortPlan = plan[viewPortName];\n      var viewPortInstruction = navigationInstruction.viewPortInstructions[viewPortName];\n      var viewModel = viewPortInstruction.component.viewModel;\n\n      if ((viewPortPlan.strategy === activationStrategy.invokeLifecycle || viewPortPlan.strategy === activationStrategy.replace) && callbackName in viewModel) {\n        list.push({\n          viewModel: viewModel,\n          lifecycleArgs: viewPortInstruction.lifecycleArgs,\n          router: router\n        });\n      }\n\n      if (viewPortPlan.childNavigationInstruction) {\n        findActivatable(viewPortPlan.childNavigationInstruction, callbackName, list, viewPortInstruction.component.childRouter || router);\n      }\n    });\n\n    return list;\n  }\n\n  function shouldContinue(output, router) {\n    if (output instanceof Error) {\n      return false;\n    }\n\n    if (isNavigationCommand(output)) {\n      if (typeof output.setRouter === 'function') {\n        output.setRouter(router);\n      }\n\n      return !!output.shouldContinueProcessing;\n    }\n\n    if (output === undefined) {\n      return true;\n    }\n\n    return output;\n  }\n\n  var SafeSubscription = function () {\n    function SafeSubscription(subscriptionFunc) {\n      \n\n      this._subscribed = true;\n      this._subscription = subscriptionFunc(this);\n\n      if (!this._subscribed) this.unsubscribe();\n    }\n\n    SafeSubscription.prototype.unsubscribe = function unsubscribe() {\n      if (this._subscribed && this._subscription) this._subscription.unsubscribe();\n\n      this._subscribed = false;\n    };\n\n    _createClass(SafeSubscription, [{\n      key: 'subscribed',\n      get: function get() {\n        return this._subscribed;\n      }\n    }]);\n\n    return SafeSubscription;\n  }();\n\n  function processPotential(obj, resolve, reject) {\n    if (obj && typeof obj.then === 'function') {\n      return Promise.resolve(obj).then(resolve).catch(reject);\n    }\n\n    if (obj && typeof obj.subscribe === 'function') {\n      var obs = obj;\n      return new SafeSubscription(function (sub) {\n        return obs.subscribe({\n          next: function next() {\n            if (sub.subscribed) {\n              sub.unsubscribe();\n              resolve(obj);\n            }\n          },\n          error: function error(_error) {\n            if (sub.subscribed) {\n              sub.unsubscribe();\n              reject(_error);\n            }\n          },\n          complete: function complete() {\n            if (sub.subscribed) {\n              sub.unsubscribe();\n              resolve(obj);\n            }\n          }\n        });\n      });\n    }\n\n    try {\n      return resolve(obj);\n    } catch (error) {\n      return reject(error);\n    }\n  }\n\n  var RouteLoader = exports.RouteLoader = function () {\n    function RouteLoader() {\n      \n    }\n\n    RouteLoader.prototype.loadRoute = function loadRoute(router, config, navigationInstruction) {\n      throw Error('Route loaders must implement \"loadRoute(router, config, navigationInstruction)\".');\n    };\n\n    return RouteLoader;\n  }();\n\n  var LoadRouteStep = exports.LoadRouteStep = function () {\n    LoadRouteStep.inject = function inject() {\n      return [RouteLoader];\n    };\n\n    function LoadRouteStep(routeLoader) {\n      \n\n      this.routeLoader = routeLoader;\n    }\n\n    LoadRouteStep.prototype.run = function run(navigationInstruction, next) {\n      return loadNewRoute(this.routeLoader, navigationInstruction).then(next).catch(next.cancel);\n    };\n\n    return LoadRouteStep;\n  }();\n\n  function loadNewRoute(routeLoader, navigationInstruction) {\n    var toLoad = determineWhatToLoad(navigationInstruction);\n    var loadPromises = toLoad.map(function (current) {\n      return loadRoute(routeLoader, current.navigationInstruction, current.viewPortPlan);\n    });\n\n    return Promise.all(loadPromises);\n  }\n\n  function determineWhatToLoad(navigationInstruction) {\n    var toLoad = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var plan = navigationInstruction.plan;\n\n    for (var viewPortName in plan) {\n      var _viewPortPlan2 = plan[viewPortName];\n\n      if (_viewPortPlan2.strategy === activationStrategy.replace) {\n        toLoad.push({ viewPortPlan: _viewPortPlan2, navigationInstruction: navigationInstruction });\n\n        if (_viewPortPlan2.childNavigationInstruction) {\n          determineWhatToLoad(_viewPortPlan2.childNavigationInstruction, toLoad);\n        }\n      } else {\n        var _viewPortInstruction3 = navigationInstruction.addViewPortInstruction(viewPortName, _viewPortPlan2.strategy, _viewPortPlan2.prevModuleId, _viewPortPlan2.prevComponent);\n\n        if (_viewPortPlan2.childNavigationInstruction) {\n          _viewPortInstruction3.childNavigationInstruction = _viewPortPlan2.childNavigationInstruction;\n          determineWhatToLoad(_viewPortPlan2.childNavigationInstruction, toLoad);\n        }\n      }\n    }\n\n    return toLoad;\n  }\n\n  function loadRoute(routeLoader, navigationInstruction, viewPortPlan) {\n    var moduleId = viewPortPlan.config.moduleId;\n\n    return loadComponent(routeLoader, navigationInstruction, viewPortPlan.config).then(function (component) {\n      var viewPortInstruction = navigationInstruction.addViewPortInstruction(viewPortPlan.name, viewPortPlan.strategy, moduleId, component);\n\n      var childRouter = component.childRouter;\n      if (childRouter) {\n        var path = navigationInstruction.getWildcardPath();\n\n        return childRouter._createNavigationInstruction(path, navigationInstruction).then(function (childInstruction) {\n          viewPortPlan.childNavigationInstruction = childInstruction;\n\n          return _buildNavigationPlan(childInstruction).then(function (childPlan) {\n            childInstruction.plan = childPlan;\n            viewPortInstruction.childNavigationInstruction = childInstruction;\n\n            return loadNewRoute(routeLoader, childInstruction);\n          });\n        });\n      }\n\n      return undefined;\n    });\n  }\n\n  function loadComponent(routeLoader, navigationInstruction, config) {\n    var router = navigationInstruction.router;\n    var lifecycleArgs = navigationInstruction.lifecycleArgs;\n\n    return routeLoader.loadRoute(router, config, navigationInstruction).then(function (component) {\n      var viewModel = component.viewModel,\n          childContainer = component.childContainer;\n\n      component.router = router;\n      component.config = config;\n\n      if ('configureRouter' in viewModel) {\n        var childRouter = childContainer.getChildRouter();\n        component.childRouter = childRouter;\n\n        return childRouter.configure(function (c) {\n          return viewModel.configureRouter.apply(viewModel, [c, childRouter].concat(lifecycleArgs));\n        }).then(function () {\n          return component;\n        });\n      }\n\n      return component;\n    });\n  }\n\n  var PipelineSlot = function () {\n    function PipelineSlot(container, name, alias) {\n      \n\n      this.steps = [];\n\n      this.container = container;\n      this.slotName = name;\n      this.slotAlias = alias;\n    }\n\n    PipelineSlot.prototype.getSteps = function getSteps() {\n      var _this8 = this;\n\n      return this.steps.map(function (x) {\n        return _this8.container.get(x);\n      });\n    };\n\n    return PipelineSlot;\n  }();\n\n  var PipelineProvider = exports.PipelineProvider = function () {\n    PipelineProvider.inject = function inject() {\n      return [_aureliaDependencyInjection.Container];\n    };\n\n    function PipelineProvider(container) {\n      \n\n      this.container = container;\n      this.steps = [BuildNavigationPlanStep, CanDeactivatePreviousStep, LoadRouteStep, this._createPipelineSlot('authorize'), CanActivateNextStep, this._createPipelineSlot('preActivate', 'modelbind'), DeactivatePreviousStep, ActivateNextStep, this._createPipelineSlot('preRender', 'precommit'), CommitChangesStep, this._createPipelineSlot('postRender', 'postcomplete')];\n    }\n\n    PipelineProvider.prototype.createPipeline = function createPipeline() {\n      var _this9 = this;\n\n      var pipeline = new Pipeline();\n      this.steps.forEach(function (step) {\n        return pipeline.addStep(_this9.container.get(step));\n      });\n      return pipeline;\n    };\n\n    PipelineProvider.prototype._findStep = function _findStep(name) {\n      return this.steps.find(function (x) {\n        return x.slotName === name || x.slotAlias === name;\n      });\n    };\n\n    PipelineProvider.prototype.addStep = function addStep(name, step) {\n      var found = this._findStep(name);\n      if (found) {\n        if (!found.steps.includes(step)) {\n          found.steps.push(step);\n        }\n      } else {\n        throw new Error('Invalid pipeline slot name: ' + name + '.');\n      }\n    };\n\n    PipelineProvider.prototype.removeStep = function removeStep(name, step) {\n      var slot = this._findStep(name);\n      if (slot) {\n        slot.steps.splice(slot.steps.indexOf(step), 1);\n      }\n    };\n\n    PipelineProvider.prototype._clearSteps = function _clearSteps() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      var slot = this._findStep(name);\n      if (slot) {\n        slot.steps = [];\n      }\n    };\n\n    PipelineProvider.prototype.reset = function reset() {\n      this._clearSteps('authorize');\n      this._clearSteps('preActivate');\n      this._clearSteps('preRender');\n      this._clearSteps('postRender');\n    };\n\n    PipelineProvider.prototype._createPipelineSlot = function _createPipelineSlot(name, alias) {\n      return new PipelineSlot(this.container, name, alias);\n    };\n\n    return PipelineProvider;\n  }();\n\n  var logger = LogManager.getLogger('app-router');\n\n  var AppRouter = exports.AppRouter = function (_Router) {\n    _inherits(AppRouter, _Router);\n\n    AppRouter.inject = function inject() {\n      return [_aureliaDependencyInjection.Container, _aureliaHistory.History, PipelineProvider, _aureliaEventAggregator.EventAggregator];\n    };\n\n    function AppRouter(container, history, pipelineProvider, events) {\n      \n\n      var _this10 = _possibleConstructorReturn(this, _Router.call(this, container, history));\n\n      _this10.pipelineProvider = pipelineProvider;\n      _this10.events = events;\n      return _this10;\n    }\n\n    AppRouter.prototype.reset = function reset() {\n      _Router.prototype.reset.call(this);\n      this.maxInstructionCount = 10;\n      if (!this._queue) {\n        this._queue = [];\n      } else {\n        this._queue.length = 0;\n      }\n    };\n\n    AppRouter.prototype.loadUrl = function loadUrl(url) {\n      var _this11 = this;\n\n      return this._createNavigationInstruction(url).then(function (instruction) {\n        return _this11._queueInstruction(instruction);\n      }).catch(function (error) {\n        logger.error(error);\n        restorePreviousLocation(_this11);\n      });\n    };\n\n    AppRouter.prototype.registerViewPort = function registerViewPort(viewPort, name) {\n      var _this12 = this;\n\n      _Router.prototype.registerViewPort.call(this, viewPort, name);\n\n      if (!this.isActive) {\n        var viewModel = this._findViewModel(viewPort);\n        if ('configureRouter' in viewModel) {\n          if (!this.isConfigured) {\n            var resolveConfiguredPromise = this._resolveConfiguredPromise;\n            this._resolveConfiguredPromise = function () {};\n            return this.configure(function (config) {\n              return viewModel.configureRouter(config, _this12);\n            }).then(function () {\n              _this12.activate();\n              resolveConfiguredPromise();\n            });\n          }\n        } else {\n          this.activate();\n        }\n      } else {\n        this._dequeueInstruction();\n      }\n\n      return Promise.resolve();\n    };\n\n    AppRouter.prototype.activate = function activate(options) {\n      if (this.isActive) {\n        return;\n      }\n\n      this.isActive = true;\n      this.options = Object.assign({ routeHandler: this.loadUrl.bind(this) }, this.options, options);\n      this.history.activate(this.options);\n      this._dequeueInstruction();\n    };\n\n    AppRouter.prototype.deactivate = function deactivate() {\n      this.isActive = false;\n      this.history.deactivate();\n    };\n\n    AppRouter.prototype._queueInstruction = function _queueInstruction(instruction) {\n      var _this13 = this;\n\n      return new Promise(function (resolve) {\n        instruction.resolve = resolve;\n        _this13._queue.unshift(instruction);\n        _this13._dequeueInstruction();\n      });\n    };\n\n    AppRouter.prototype._dequeueInstruction = function _dequeueInstruction() {\n      var _this14 = this;\n\n      var instructionCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      return Promise.resolve().then(function () {\n        if (_this14.isNavigating && !instructionCount) {\n          return undefined;\n        }\n\n        var instruction = _this14._queue.shift();\n        _this14._queue.length = 0;\n\n        if (!instruction) {\n          return undefined;\n        }\n\n        _this14.isNavigating = true;\n        instruction.previousInstruction = _this14.currentInstruction;\n\n        if (!instructionCount) {\n          _this14.events.publish('router:navigation:processing', { instruction: instruction });\n        } else if (instructionCount === _this14.maxInstructionCount - 1) {\n          logger.error(instructionCount + 1 + ' navigation instructions have been attempted without success. Restoring last known good location.');\n          restorePreviousLocation(_this14);\n          return _this14._dequeueInstruction(instructionCount + 1);\n        } else if (instructionCount > _this14.maxInstructionCount) {\n          throw new Error('Maximum navigation attempts exceeded. Giving up.');\n        }\n\n        var pipeline = _this14.pipelineProvider.createPipeline();\n\n        return pipeline.run(instruction).then(function (result) {\n          return processResult(instruction, result, instructionCount, _this14);\n        }).catch(function (error) {\n          return { output: error instanceof Error ? error : new Error(error) };\n        }).then(function (result) {\n          return resolveInstruction(instruction, result, !!instructionCount, _this14);\n        });\n      });\n    };\n\n    AppRouter.prototype._findViewModel = function _findViewModel(viewPort) {\n      if (this.container.viewModel) {\n        return this.container.viewModel;\n      }\n\n      if (viewPort.container) {\n        var container = viewPort.container;\n\n        while (container) {\n          if (container.viewModel) {\n            this.container.viewModel = container.viewModel;\n            return container.viewModel;\n          }\n\n          container = container.parent;\n        }\n      }\n\n      return undefined;\n    };\n\n    return AppRouter;\n  }(Router);\n\n  function processResult(instruction, result, instructionCount, router) {\n    if (!(result && 'completed' in result && 'output' in result)) {\n      result = result || {};\n      result.output = new Error('Expected router pipeline to return a navigation result, but got [' + JSON.stringify(result) + '] instead.');\n    }\n\n    var finalResult = null;\n    if (isNavigationCommand(result.output)) {\n      result.output.navigate(router);\n    } else {\n      finalResult = result;\n\n      if (!result.completed) {\n        if (result.output instanceof Error) {\n          logger.error(result.output);\n        }\n\n        restorePreviousLocation(router);\n      }\n    }\n\n    return router._dequeueInstruction(instructionCount + 1).then(function (innerResult) {\n      return finalResult || innerResult || result;\n    });\n  }\n\n  function resolveInstruction(instruction, result, isInnerInstruction, router) {\n    instruction.resolve(result);\n\n    var eventArgs = { instruction: instruction, result: result };\n    if (!isInnerInstruction) {\n      router.isNavigating = false;\n      router.isExplicitNavigation = false;\n      router.isExplicitNavigationBack = false;\n\n      var eventName = void 0;\n\n      if (result.output instanceof Error) {\n        eventName = 'error';\n      } else if (!result.completed) {\n        eventName = 'canceled';\n      } else {\n        var _queryString = instruction.queryString ? '?' + instruction.queryString : '';\n        router.history.previousLocation = instruction.fragment + _queryString;\n        eventName = 'success';\n      }\n\n      router.events.publish('router:navigation:' + eventName, eventArgs);\n      router.events.publish('router:navigation:complete', eventArgs);\n    } else {\n      router.events.publish('router:navigation:child:complete', eventArgs);\n    }\n\n    return result;\n  }\n\n  function restorePreviousLocation(router) {\n    var previousLocation = router.history.previousLocation;\n    if (previousLocation) {\n      router.navigate(router.history.previousLocation, { trigger: false, replace: true });\n    } else if (router.fallbackRoute) {\n      router.navigate(router.fallbackRoute, { trigger: true, replace: true });\n    } else {\n      logger.error('Router navigation failed, and no previous location or fallbackRoute could be restored.');\n    }\n  }\n});\r\ndefine('aurelia-task-queue',['exports', 'aurelia-pal'], function (exports, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TaskQueue = undefined;\n\n  \n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  var hasSetImmediate = typeof setImmediate === 'function';\n  var stackSeparator = '\\nEnqueued in TaskQueue by:\\n';\n  var microStackSeparator = '\\nEnqueued in MicroTaskQueue by:\\n';\n\n  function makeRequestFlushFromMutationObserver(flush) {\n    var toggle = 1;\n    var observer = _aureliaPal.DOM.createMutationObserver(flush);\n    var node = _aureliaPal.DOM.createTextNode('');\n    observer.observe(node, { characterData: true });\n    return function requestFlush() {\n      toggle = -toggle;\n      node.data = toggle;\n    };\n  }\n\n  function makeRequestFlushFromTimer(flush) {\n    return function requestFlush() {\n      var timeoutHandle = setTimeout(handleFlushTimer, 0);\n\n      var intervalHandle = setInterval(handleFlushTimer, 50);\n      function handleFlushTimer() {\n        clearTimeout(timeoutHandle);\n        clearInterval(intervalHandle);\n        flush();\n      }\n    };\n  }\n\n  function onError(error, task, longStacks) {\n    if (longStacks && task.stack && (typeof error === 'undefined' ? 'undefined' : _typeof(error)) === 'object' && error !== null) {\n      error.stack = filterFlushStack(error.stack) + task.stack;\n    }\n\n    if ('onError' in task) {\n      task.onError(error);\n    } else if (hasSetImmediate) {\n      setImmediate(function () {\n        throw error;\n      });\n    } else {\n      setTimeout(function () {\n        throw error;\n      }, 0);\n    }\n  }\n\n  var TaskQueue = exports.TaskQueue = function () {\n    function TaskQueue() {\n      var _this = this;\n\n      \n\n      this.flushing = false;\n      this.longStacks = false;\n\n      this.microTaskQueue = [];\n      this.microTaskQueueCapacity = 1024;\n      this.taskQueue = [];\n\n      if (_aureliaPal.FEATURE.mutationObserver) {\n        this.requestFlushMicroTaskQueue = makeRequestFlushFromMutationObserver(function () {\n          return _this.flushMicroTaskQueue();\n        });\n      } else {\n        this.requestFlushMicroTaskQueue = makeRequestFlushFromTimer(function () {\n          return _this.flushMicroTaskQueue();\n        });\n      }\n\n      this.requestFlushTaskQueue = makeRequestFlushFromTimer(function () {\n        return _this.flushTaskQueue();\n      });\n    }\n\n    TaskQueue.prototype._flushQueue = function _flushQueue(queue, capacity) {\n      var index = 0;\n      var task = void 0;\n\n      try {\n        this.flushing = true;\n        while (index < queue.length) {\n          task = queue[index];\n          if (this.longStacks) {\n            this.stack = typeof task.stack === 'string' ? task.stack : undefined;\n          }\n          task.call();\n          index++;\n\n          if (index > capacity) {\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n              queue[scan] = queue[scan + index];\n            }\n\n            queue.length -= index;\n            index = 0;\n          }\n        }\n      } catch (error) {\n        onError(error, task, this.longStacks);\n      } finally {\n        this.flushing = false;\n      }\n    };\n\n    TaskQueue.prototype.queueMicroTask = function queueMicroTask(task) {\n      if (this.microTaskQueue.length < 1) {\n        this.requestFlushMicroTaskQueue();\n      }\n\n      if (this.longStacks) {\n        task.stack = this.prepareQueueStack(microStackSeparator);\n      }\n\n      this.microTaskQueue.push(task);\n    };\n\n    TaskQueue.prototype.queueTask = function queueTask(task) {\n      if (this.taskQueue.length < 1) {\n        this.requestFlushTaskQueue();\n      }\n\n      if (this.longStacks) {\n        task.stack = this.prepareQueueStack(stackSeparator);\n      }\n\n      this.taskQueue.push(task);\n    };\n\n    TaskQueue.prototype.flushTaskQueue = function flushTaskQueue() {\n      var queue = this.taskQueue;\n      this.taskQueue = [];\n      this._flushQueue(queue, Number.MAX_VALUE);\n    };\n\n    TaskQueue.prototype.flushMicroTaskQueue = function flushMicroTaskQueue() {\n      var queue = this.microTaskQueue;\n      this._flushQueue(queue, this.microTaskQueueCapacity);\n      queue.length = 0;\n    };\n\n    TaskQueue.prototype.prepareQueueStack = function prepareQueueStack(separator) {\n      var stack = separator + filterQueueStack(captureStack());\n\n      if (typeof this.stack === 'string') {\n        stack = filterFlushStack(stack) + this.stack;\n      }\n\n      return stack;\n    };\n\n    return TaskQueue;\n  }();\n\n  function captureStack() {\n    var error = new Error();\n\n    if (error.stack) {\n      return error.stack;\n    }\n\n    try {\n      throw error;\n    } catch (e) {\n      return e.stack;\n    }\n  }\n\n  function filterQueueStack(stack) {\n    return stack.replace(/^[\\s\\S]*?\\bqueue(Micro)?Task\\b[^\\n]*\\n/, '');\n  }\n\n  function filterFlushStack(stack) {\n    var index = stack.lastIndexOf('flushMicroTaskQueue');\n\n    if (index < 0) {\n      index = stack.lastIndexOf('flushTaskQueue');\n      if (index < 0) {\n        return stack;\n      }\n    }\n\n    index = stack.lastIndexOf('\\n', index);\n\n    return index < 0 ? stack : stack.substr(0, index);\n  }\n});\r\ndefine('aurelia-templating',['exports', 'aurelia-logging', 'aurelia-metadata', 'aurelia-pal', 'aurelia-path', 'aurelia-loader', 'aurelia-dependency-injection', 'aurelia-binding', 'aurelia-task-queue'], function (exports, _aureliaLogging, _aureliaMetadata, _aureliaPal, _aureliaPath, _aureliaLoader, _aureliaDependencyInjection, _aureliaBinding, _aureliaTaskQueue) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TemplatingEngine = exports.ElementConfigResource = exports.CompositionEngine = exports.SwapStrategies = exports.HtmlBehaviorResource = exports.BindableProperty = exports.BehaviorPropertyObserver = exports.Controller = exports.ViewEngine = exports.ModuleAnalyzer = exports.ResourceDescription = exports.ResourceModule = exports.ViewCompiler = exports.ViewFactory = exports.BoundViewFactory = exports.ViewSlot = exports.View = exports.ViewResources = exports.ShadowDOM = exports.ShadowSlot = exports.PassThroughSlot = exports.SlotCustomAttribute = exports.BindingLanguage = exports.ViewLocator = exports.InlineViewStrategy = exports.TemplateRegistryViewStrategy = exports.NoViewStrategy = exports.ConventionalViewStrategy = exports.RelativeViewStrategy = exports.viewStrategy = exports.TargetInstruction = exports.BehaviorInstruction = exports.ViewCompileInstruction = exports.ResourceLoadContext = exports.ElementEvents = exports.ViewEngineHooksResource = exports.CompositionTransaction = exports.CompositionTransactionOwnershipToken = exports.CompositionTransactionNotifier = exports.Animator = exports.animationEvent = undefined;\n  exports._hyphenate = _hyphenate;\n  exports._isAllWhitespace = _isAllWhitespace;\n  exports.viewEngineHooks = viewEngineHooks;\n  exports.children = children;\n  exports.child = child;\n  exports.resource = resource;\n  exports.behavior = behavior;\n  exports.customElement = customElement;\n  exports.customAttribute = customAttribute;\n  exports.templateController = templateController;\n  exports.bindable = bindable;\n  exports.dynamicOptions = dynamicOptions;\n  exports.useShadowDOM = useShadowDOM;\n  exports.processAttributes = processAttributes;\n  exports.processContent = processContent;\n  exports.containerless = containerless;\n  exports.useViewStrategy = useViewStrategy;\n  exports.useView = useView;\n  exports.inlineView = inlineView;\n  exports.noView = noView;\n  exports.elementConfig = elementConfig;\n  exports.viewResources = viewResources;\n\n  var LogManager = _interopRequireWildcard(_aureliaLogging);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _class, _temp, _dec, _class2, _dec2, _class3, _dec3, _class4, _dec4, _class5, _dec5, _class6, _class7, _temp2, _dec6, _class8, _class9, _temp3, _class11, _dec7, _class13, _dec8, _class14, _class15, _temp4, _dec9, _class16, _dec10, _class17, _dec11, _class18;\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  \n\n  var animationEvent = exports.animationEvent = {\n    enterBegin: 'animation:enter:begin',\n    enterActive: 'animation:enter:active',\n    enterDone: 'animation:enter:done',\n    enterTimeout: 'animation:enter:timeout',\n\n    leaveBegin: 'animation:leave:begin',\n    leaveActive: 'animation:leave:active',\n    leaveDone: 'animation:leave:done',\n    leaveTimeout: 'animation:leave:timeout',\n\n    staggerNext: 'animation:stagger:next',\n\n    removeClassBegin: 'animation:remove-class:begin',\n    removeClassActive: 'animation:remove-class:active',\n    removeClassDone: 'animation:remove-class:done',\n    removeClassTimeout: 'animation:remove-class:timeout',\n\n    addClassBegin: 'animation:add-class:begin',\n    addClassActive: 'animation:add-class:active',\n    addClassDone: 'animation:add-class:done',\n    addClassTimeout: 'animation:add-class:timeout',\n\n    animateBegin: 'animation:animate:begin',\n    animateActive: 'animation:animate:active',\n    animateDone: 'animation:animate:done',\n    animateTimeout: 'animation:animate:timeout',\n\n    sequenceBegin: 'animation:sequence:begin',\n    sequenceDone: 'animation:sequence:done'\n  };\n\n  var Animator = exports.Animator = function () {\n    function Animator() {\n      \n    }\n\n    Animator.prototype.enter = function enter(element) {\n      return Promise.resolve(false);\n    };\n\n    Animator.prototype.leave = function leave(element) {\n      return Promise.resolve(false);\n    };\n\n    Animator.prototype.removeClass = function removeClass(element, className) {\n      element.classList.remove(className);\n      return Promise.resolve(false);\n    };\n\n    Animator.prototype.addClass = function addClass(element, className) {\n      element.classList.add(className);\n      return Promise.resolve(false);\n    };\n\n    Animator.prototype.animate = function animate(element, className) {\n      return Promise.resolve(false);\n    };\n\n    Animator.prototype.runSequence = function runSequence(animations) {};\n\n    Animator.prototype.registerEffect = function registerEffect(effectName, properties) {};\n\n    Animator.prototype.unregisterEffect = function unregisterEffect(effectName) {};\n\n    return Animator;\n  }();\n\n  var CompositionTransactionNotifier = exports.CompositionTransactionNotifier = function () {\n    function CompositionTransactionNotifier(owner) {\n      \n\n      this.owner = owner;\n      this.owner._compositionCount++;\n    }\n\n    CompositionTransactionNotifier.prototype.done = function done() {\n      this.owner._compositionCount--;\n      this.owner._tryCompleteTransaction();\n    };\n\n    return CompositionTransactionNotifier;\n  }();\n\n  var CompositionTransactionOwnershipToken = exports.CompositionTransactionOwnershipToken = function () {\n    function CompositionTransactionOwnershipToken(owner) {\n      \n\n      this.owner = owner;\n      this.owner._ownershipToken = this;\n      this.thenable = this._createThenable();\n    }\n\n    CompositionTransactionOwnershipToken.prototype.waitForCompositionComplete = function waitForCompositionComplete() {\n      this.owner._tryCompleteTransaction();\n      return this.thenable;\n    };\n\n    CompositionTransactionOwnershipToken.prototype.resolve = function resolve() {\n      this._resolveCallback();\n    };\n\n    CompositionTransactionOwnershipToken.prototype._createThenable = function _createThenable() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        _this._resolveCallback = resolve;\n      });\n    };\n\n    return CompositionTransactionOwnershipToken;\n  }();\n\n  var CompositionTransaction = exports.CompositionTransaction = function () {\n    function CompositionTransaction() {\n      \n\n      this._ownershipToken = null;\n      this._compositionCount = 0;\n    }\n\n    CompositionTransaction.prototype.tryCapture = function tryCapture() {\n      return this._ownershipToken === null ? new CompositionTransactionOwnershipToken(this) : null;\n    };\n\n    CompositionTransaction.prototype.enlist = function enlist() {\n      return new CompositionTransactionNotifier(this);\n    };\n\n    CompositionTransaction.prototype._tryCompleteTransaction = function _tryCompleteTransaction() {\n      if (this._compositionCount <= 0) {\n        this._compositionCount = 0;\n\n        if (this._ownershipToken !== null) {\n          var token = this._ownershipToken;\n          this._ownershipToken = null;\n          token.resolve();\n        }\n      }\n    };\n\n    return CompositionTransaction;\n  }();\n\n  var capitalMatcher = /([A-Z])/g;\n\n  function addHyphenAndLower(char) {\n    return '-' + char.toLowerCase();\n  }\n\n  function _hyphenate(name) {\n    return (name.charAt(0).toLowerCase() + name.slice(1)).replace(capitalMatcher, addHyphenAndLower);\n  }\n\n  function _isAllWhitespace(node) {\n    return !(node.auInterpolationTarget || /[^\\t\\n\\r ]/.test(node.textContent));\n  }\n\n  var ViewEngineHooksResource = exports.ViewEngineHooksResource = function () {\n    function ViewEngineHooksResource() {\n      \n    }\n\n    ViewEngineHooksResource.prototype.initialize = function initialize(container, target) {\n      this.instance = container.get(target);\n    };\n\n    ViewEngineHooksResource.prototype.register = function register(registry, name) {\n      registry.registerViewEngineHooks(this.instance);\n    };\n\n    ViewEngineHooksResource.prototype.load = function load(container, target) {};\n\n    ViewEngineHooksResource.convention = function convention(name) {\n      if (name.endsWith('ViewEngineHooks')) {\n        return new ViewEngineHooksResource();\n      }\n    };\n\n    return ViewEngineHooksResource;\n  }();\n\n  function viewEngineHooks(target) {\n    var deco = function deco(t) {\n      _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, new ViewEngineHooksResource(), t);\n    };\n\n    return target ? deco(target) : deco;\n  }\n\n  var ElementEvents = exports.ElementEvents = function () {\n    function ElementEvents(element) {\n      \n\n      this.element = element;\n      this.subscriptions = {};\n    }\n\n    ElementEvents.prototype._enqueueHandler = function _enqueueHandler(handler) {\n      this.subscriptions[handler.eventName] = this.subscriptions[handler.eventName] || [];\n      this.subscriptions[handler.eventName].push(handler);\n    };\n\n    ElementEvents.prototype._dequeueHandler = function _dequeueHandler(handler) {\n      var index = void 0;\n      var subscriptions = this.subscriptions[handler.eventName];\n      if (subscriptions) {\n        index = subscriptions.indexOf(handler);\n        if (index > -1) {\n          subscriptions.splice(index, 1);\n        }\n      }\n      return handler;\n    };\n\n    ElementEvents.prototype.publish = function publish(eventName) {\n      var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var bubbles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var cancelable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n      var event = _aureliaPal.DOM.createCustomEvent(eventName, { cancelable: cancelable, bubbles: bubbles, detail: detail });\n      this.element.dispatchEvent(event);\n    };\n\n    ElementEvents.prototype.subscribe = function subscribe(eventName, handler) {\n      var _this2 = this;\n\n      var bubbles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (handler && typeof handler === 'function') {\n        handler.eventName = eventName;\n        handler.handler = handler;\n        handler.bubbles = bubbles;\n        handler.dispose = function () {\n          _this2.element.removeEventListener(eventName, handler, bubbles);\n          _this2._dequeueHandler(handler);\n        };\n        this.element.addEventListener(eventName, handler, bubbles);\n        this._enqueueHandler(handler);\n        return handler;\n      }\n\n      return undefined;\n    };\n\n    ElementEvents.prototype.subscribeOnce = function subscribeOnce(eventName, handler) {\n      var _this3 = this;\n\n      var bubbles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (handler && typeof handler === 'function') {\n        var _ret = function () {\n          var _handler = function _handler(event) {\n            handler(event);\n            _handler.dispose();\n          };\n          return {\n            v: _this3.subscribe(eventName, _handler, bubbles)\n          };\n        }();\n\n        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n      }\n\n      return undefined;\n    };\n\n    ElementEvents.prototype.dispose = function dispose(eventName) {\n      if (eventName && typeof eventName === 'string') {\n        var subscriptions = this.subscriptions[eventName];\n        if (subscriptions) {\n          while (subscriptions.length) {\n            var subscription = subscriptions.pop();\n            if (subscription) {\n              subscription.dispose();\n            }\n          }\n        }\n      } else {\n        this.disposeAll();\n      }\n    };\n\n    ElementEvents.prototype.disposeAll = function disposeAll() {\n      for (var key in this.subscriptions) {\n        this.dispose(key);\n      }\n    };\n\n    return ElementEvents;\n  }();\n\n  var ResourceLoadContext = exports.ResourceLoadContext = function () {\n    function ResourceLoadContext() {\n      \n\n      this.dependencies = {};\n    }\n\n    ResourceLoadContext.prototype.addDependency = function addDependency(url) {\n      this.dependencies[url] = true;\n    };\n\n    ResourceLoadContext.prototype.hasDependency = function hasDependency(url) {\n      return url in this.dependencies;\n    };\n\n    return ResourceLoadContext;\n  }();\n\n  var ViewCompileInstruction = exports.ViewCompileInstruction = function ViewCompileInstruction() {\n    var targetShadowDOM = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var compileSurrogate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    \n\n    this.targetShadowDOM = targetShadowDOM;\n    this.compileSurrogate = compileSurrogate;\n    this.associatedModuleId = null;\n  };\n\n  ViewCompileInstruction.normal = new ViewCompileInstruction();\n\n  var BehaviorInstruction = exports.BehaviorInstruction = function () {\n    BehaviorInstruction.enhance = function enhance() {\n      var instruction = new BehaviorInstruction();\n      instruction.enhance = true;\n      return instruction;\n    };\n\n    BehaviorInstruction.unitTest = function unitTest(type, attributes) {\n      var instruction = new BehaviorInstruction();\n      instruction.type = type;\n      instruction.attributes = attributes || {};\n      return instruction;\n    };\n\n    BehaviorInstruction.element = function element(node, type) {\n      var instruction = new BehaviorInstruction();\n      instruction.type = type;\n      instruction.attributes = {};\n      instruction.anchorIsContainer = !(node.hasAttribute('containerless') || type.containerless);\n      instruction.initiatedByBehavior = true;\n      return instruction;\n    };\n\n    BehaviorInstruction.attribute = function attribute(attrName, type) {\n      var instruction = new BehaviorInstruction();\n      instruction.attrName = attrName;\n      instruction.type = type || null;\n      instruction.attributes = {};\n      return instruction;\n    };\n\n    BehaviorInstruction.dynamic = function dynamic(host, viewModel, viewFactory) {\n      var instruction = new BehaviorInstruction();\n      instruction.host = host;\n      instruction.viewModel = viewModel;\n      instruction.viewFactory = viewFactory;\n      instruction.inheritBindingContext = true;\n      return instruction;\n    };\n\n    function BehaviorInstruction() {\n      \n\n      this.initiatedByBehavior = false;\n      this.enhance = false;\n      this.partReplacements = null;\n      this.viewFactory = null;\n      this.originalAttrName = null;\n      this.skipContentProcessing = false;\n      this.contentFactory = null;\n      this.viewModel = null;\n      this.anchorIsContainer = false;\n      this.host = null;\n      this.attributes = null;\n      this.type = null;\n      this.attrName = null;\n      this.inheritBindingContext = false;\n    }\n\n    return BehaviorInstruction;\n  }();\n\n  BehaviorInstruction.normal = new BehaviorInstruction();\n\n  var TargetInstruction = exports.TargetInstruction = (_temp = _class = function () {\n    TargetInstruction.shadowSlot = function shadowSlot(parentInjectorId) {\n      var instruction = new TargetInstruction();\n      instruction.parentInjectorId = parentInjectorId;\n      instruction.shadowSlot = true;\n      return instruction;\n    };\n\n    TargetInstruction.contentExpression = function contentExpression(expression) {\n      var instruction = new TargetInstruction();\n      instruction.contentExpression = expression;\n      return instruction;\n    };\n\n    TargetInstruction.lifting = function lifting(parentInjectorId, liftingInstruction) {\n      var instruction = new TargetInstruction();\n      instruction.parentInjectorId = parentInjectorId;\n      instruction.expressions = TargetInstruction.noExpressions;\n      instruction.behaviorInstructions = [liftingInstruction];\n      instruction.viewFactory = liftingInstruction.viewFactory;\n      instruction.providers = [liftingInstruction.type.target];\n      instruction.lifting = true;\n      return instruction;\n    };\n\n    TargetInstruction.normal = function normal(injectorId, parentInjectorId, providers, behaviorInstructions, expressions, elementInstruction) {\n      var instruction = new TargetInstruction();\n      instruction.injectorId = injectorId;\n      instruction.parentInjectorId = parentInjectorId;\n      instruction.providers = providers;\n      instruction.behaviorInstructions = behaviorInstructions;\n      instruction.expressions = expressions;\n      instruction.anchorIsContainer = elementInstruction ? elementInstruction.anchorIsContainer : true;\n      instruction.elementInstruction = elementInstruction;\n      return instruction;\n    };\n\n    TargetInstruction.surrogate = function surrogate(providers, behaviorInstructions, expressions, values) {\n      var instruction = new TargetInstruction();\n      instruction.expressions = expressions;\n      instruction.behaviorInstructions = behaviorInstructions;\n      instruction.providers = providers;\n      instruction.values = values;\n      return instruction;\n    };\n\n    function TargetInstruction() {\n      \n\n      this.injectorId = null;\n      this.parentInjectorId = null;\n\n      this.shadowSlot = false;\n      this.slotName = null;\n      this.slotFallbackFactory = null;\n\n      this.contentExpression = null;\n\n      this.expressions = null;\n      this.behaviorInstructions = null;\n      this.providers = null;\n\n      this.viewFactory = null;\n\n      this.anchorIsContainer = false;\n      this.elementInstruction = null;\n      this.lifting = false;\n\n      this.values = null;\n    }\n\n    return TargetInstruction;\n  }(), _class.noExpressions = Object.freeze([]), _temp);\n  var viewStrategy = exports.viewStrategy = _aureliaMetadata.protocol.create('aurelia:view-strategy', {\n    validate: function validate(target) {\n      if (!(typeof target.loadViewFactory === 'function')) {\n        return 'View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>';\n      }\n\n      return true;\n    },\n    compose: function compose(target) {\n      if (!(typeof target.makeRelativeTo === 'function')) {\n        target.makeRelativeTo = _aureliaPal.PLATFORM.noop;\n      }\n    }\n  });\n\n  var RelativeViewStrategy = exports.RelativeViewStrategy = (_dec = viewStrategy(), _dec(_class2 = function () {\n    function RelativeViewStrategy(path) {\n      \n\n      this.path = path;\n      this.absolutePath = null;\n    }\n\n    RelativeViewStrategy.prototype.loadViewFactory = function loadViewFactory(viewEngine, compileInstruction, loadContext, target) {\n      if (this.absolutePath === null && this.moduleId) {\n        this.absolutePath = (0, _aureliaPath.relativeToFile)(this.path, this.moduleId);\n      }\n\n      compileInstruction.associatedModuleId = this.moduleId;\n      return viewEngine.loadViewFactory(this.absolutePath || this.path, compileInstruction, loadContext, target);\n    };\n\n    RelativeViewStrategy.prototype.makeRelativeTo = function makeRelativeTo(file) {\n      if (this.absolutePath === null) {\n        this.absolutePath = (0, _aureliaPath.relativeToFile)(this.path, file);\n      }\n    };\n\n    return RelativeViewStrategy;\n  }()) || _class2);\n  var ConventionalViewStrategy = exports.ConventionalViewStrategy = (_dec2 = viewStrategy(), _dec2(_class3 = function () {\n    function ConventionalViewStrategy(viewLocator, origin) {\n      \n\n      this.moduleId = origin.moduleId;\n      this.viewUrl = viewLocator.convertOriginToViewUrl(origin);\n    }\n\n    ConventionalViewStrategy.prototype.loadViewFactory = function loadViewFactory(viewEngine, compileInstruction, loadContext, target) {\n      compileInstruction.associatedModuleId = this.moduleId;\n      return viewEngine.loadViewFactory(this.viewUrl, compileInstruction, loadContext, target);\n    };\n\n    return ConventionalViewStrategy;\n  }()) || _class3);\n  var NoViewStrategy = exports.NoViewStrategy = (_dec3 = viewStrategy(), _dec3(_class4 = function () {\n    function NoViewStrategy(dependencies, dependencyBaseUrl) {\n      \n\n      this.dependencies = dependencies || null;\n      this.dependencyBaseUrl = dependencyBaseUrl || '';\n    }\n\n    NoViewStrategy.prototype.loadViewFactory = function loadViewFactory(viewEngine, compileInstruction, loadContext, target) {\n      var entry = this.entry;\n      var dependencies = this.dependencies;\n\n      if (entry && entry.factoryIsReady) {\n        return Promise.resolve(null);\n      }\n\n      this.entry = entry = new _aureliaLoader.TemplateRegistryEntry(this.moduleId || this.dependencyBaseUrl);\n\n      entry.dependencies = [];\n      entry.templateIsLoaded = true;\n\n      if (dependencies !== null) {\n        for (var i = 0, ii = dependencies.length; i < ii; ++i) {\n          var current = dependencies[i];\n\n          if (typeof current === 'string' || typeof current === 'function') {\n            entry.addDependency(current);\n          } else {\n            entry.addDependency(current.from, current.as);\n          }\n        }\n      }\n\n      compileInstruction.associatedModuleId = this.moduleId;\n\n      return viewEngine.loadViewFactory(entry, compileInstruction, loadContext, target);\n    };\n\n    return NoViewStrategy;\n  }()) || _class4);\n  var TemplateRegistryViewStrategy = exports.TemplateRegistryViewStrategy = (_dec4 = viewStrategy(), _dec4(_class5 = function () {\n    function TemplateRegistryViewStrategy(moduleId, entry) {\n      \n\n      this.moduleId = moduleId;\n      this.entry = entry;\n    }\n\n    TemplateRegistryViewStrategy.prototype.loadViewFactory = function loadViewFactory(viewEngine, compileInstruction, loadContext, target) {\n      var entry = this.entry;\n\n      if (entry.factoryIsReady) {\n        return Promise.resolve(entry.factory);\n      }\n\n      compileInstruction.associatedModuleId = this.moduleId;\n      return viewEngine.loadViewFactory(entry, compileInstruction, loadContext, target);\n    };\n\n    return TemplateRegistryViewStrategy;\n  }()) || _class5);\n  var InlineViewStrategy = exports.InlineViewStrategy = (_dec5 = viewStrategy(), _dec5(_class6 = function () {\n    function InlineViewStrategy(markup, dependencies, dependencyBaseUrl) {\n      \n\n      this.markup = markup;\n      this.dependencies = dependencies || null;\n      this.dependencyBaseUrl = dependencyBaseUrl || '';\n    }\n\n    InlineViewStrategy.prototype.loadViewFactory = function loadViewFactory(viewEngine, compileInstruction, loadContext, target) {\n      var entry = this.entry;\n      var dependencies = this.dependencies;\n\n      if (entry && entry.factoryIsReady) {\n        return Promise.resolve(entry.factory);\n      }\n\n      this.entry = entry = new _aureliaLoader.TemplateRegistryEntry(this.moduleId || this.dependencyBaseUrl);\n      entry.template = _aureliaPal.DOM.createTemplateFromMarkup(this.markup);\n\n      if (dependencies !== null) {\n        for (var i = 0, ii = dependencies.length; i < ii; ++i) {\n          var current = dependencies[i];\n\n          if (typeof current === 'string' || typeof current === 'function') {\n            entry.addDependency(current);\n          } else {\n            entry.addDependency(current.from, current.as);\n          }\n        }\n      }\n\n      compileInstruction.associatedModuleId = this.moduleId;\n      return viewEngine.loadViewFactory(entry, compileInstruction, loadContext, target);\n    };\n\n    return InlineViewStrategy;\n  }()) || _class6);\n  var ViewLocator = exports.ViewLocator = (_temp2 = _class7 = function () {\n    function ViewLocator() {\n      \n    }\n\n    ViewLocator.prototype.getViewStrategy = function getViewStrategy(value) {\n      if (!value) {\n        return null;\n      }\n\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && 'getViewStrategy' in value) {\n        var _origin = _aureliaMetadata.Origin.get(value.constructor);\n\n        value = value.getViewStrategy();\n\n        if (typeof value === 'string') {\n          value = new RelativeViewStrategy(value);\n        }\n\n        viewStrategy.assert(value);\n\n        if (_origin.moduleId) {\n          value.makeRelativeTo(_origin.moduleId);\n        }\n\n        return value;\n      }\n\n      if (typeof value === 'string') {\n        value = new RelativeViewStrategy(value);\n      }\n\n      if (viewStrategy.validate(value)) {\n        return value;\n      }\n\n      if (typeof value !== 'function') {\n        value = value.constructor;\n      }\n\n      var origin = _aureliaMetadata.Origin.get(value);\n      var strategy = _aureliaMetadata.metadata.get(ViewLocator.viewStrategyMetadataKey, value);\n\n      if (!strategy) {\n        if (!origin.moduleId) {\n          throw new Error('Cannot determine default view strategy for object.', value);\n        }\n\n        strategy = this.createFallbackViewStrategy(origin);\n      } else if (origin.moduleId) {\n        strategy.moduleId = origin.moduleId;\n      }\n\n      return strategy;\n    };\n\n    ViewLocator.prototype.createFallbackViewStrategy = function createFallbackViewStrategy(origin) {\n      return new ConventionalViewStrategy(this, origin);\n    };\n\n    ViewLocator.prototype.convertOriginToViewUrl = function convertOriginToViewUrl(origin) {\n      var moduleId = origin.moduleId;\n      var id = moduleId.endsWith('.js') || moduleId.endsWith('.ts') ? moduleId.substring(0, moduleId.length - 3) : moduleId;\n      return id + '.html';\n    };\n\n    return ViewLocator;\n  }(), _class7.viewStrategyMetadataKey = 'aurelia:view-strategy', _temp2);\n\n\n  function mi(name) {\n    throw new Error('BindingLanguage must implement ' + name + '().');\n  }\n\n  var BindingLanguage = exports.BindingLanguage = function () {\n    function BindingLanguage() {\n      \n    }\n\n    BindingLanguage.prototype.inspectAttribute = function inspectAttribute(resources, elementName, attrName, attrValue) {\n      mi('inspectAttribute');\n    };\n\n    BindingLanguage.prototype.createAttributeInstruction = function createAttributeInstruction(resources, element, info, existingInstruction) {\n      mi('createAttributeInstruction');\n    };\n\n    BindingLanguage.prototype.inspectTextContent = function inspectTextContent(resources, value) {\n      mi('inspectTextContent');\n    };\n\n    return BindingLanguage;\n  }();\n\n  var noNodes = Object.freeze([]);\n\n  var SlotCustomAttribute = exports.SlotCustomAttribute = (_dec6 = (0, _aureliaDependencyInjection.inject)(_aureliaPal.DOM.Element), _dec6(_class8 = function () {\n    function SlotCustomAttribute(element) {\n      \n\n      this.element = element;\n      this.element.auSlotAttribute = this;\n    }\n\n    SlotCustomAttribute.prototype.valueChanged = function valueChanged(newValue, oldValue) {};\n\n    return SlotCustomAttribute;\n  }()) || _class8);\n\n  var PassThroughSlot = exports.PassThroughSlot = function () {\n    function PassThroughSlot(anchor, name, destinationName, fallbackFactory) {\n      \n\n      this.anchor = anchor;\n      this.anchor.viewSlot = this;\n      this.name = name;\n      this.destinationName = destinationName;\n      this.fallbackFactory = fallbackFactory;\n      this.destinationSlot = null;\n      this.projections = 0;\n      this.contentView = null;\n\n      var attr = new SlotCustomAttribute(this.anchor);\n      attr.value = this.destinationName;\n    }\n\n    PassThroughSlot.prototype.renderFallbackContent = function renderFallbackContent(view, nodes, projectionSource, index) {\n      if (this.contentView === null) {\n        this.contentView = this.fallbackFactory.create(this.ownerView.container);\n        this.contentView.bind(this.ownerView.bindingContext, this.ownerView.overrideContext);\n\n        var slots = Object.create(null);\n        slots[this.destinationSlot.name] = this.destinationSlot;\n\n        ShadowDOM.distributeView(this.contentView, slots, projectionSource, index, this.destinationSlot.name);\n      }\n    };\n\n    PassThroughSlot.prototype.passThroughTo = function passThroughTo(destinationSlot) {\n      this.destinationSlot = destinationSlot;\n    };\n\n    PassThroughSlot.prototype.addNode = function addNode(view, node, projectionSource, index) {\n      if (this.contentView !== null) {\n        this.contentView.removeNodes();\n        this.contentView.detached();\n        this.contentView.unbind();\n        this.contentView = null;\n      }\n\n      if (node.viewSlot instanceof PassThroughSlot) {\n        node.viewSlot.passThroughTo(this);\n        return;\n      }\n\n      this.projections++;\n      this.destinationSlot.addNode(view, node, projectionSource, index);\n    };\n\n    PassThroughSlot.prototype.removeView = function removeView(view, projectionSource) {\n      this.projections--;\n      this.destinationSlot.removeView(view, projectionSource);\n\n      if (this.needsFallbackRendering) {\n        this.renderFallbackContent(null, noNodes, projectionSource);\n      }\n    };\n\n    PassThroughSlot.prototype.removeAll = function removeAll(projectionSource) {\n      this.projections = 0;\n      this.destinationSlot.removeAll(projectionSource);\n\n      if (this.needsFallbackRendering) {\n        this.renderFallbackContent(null, noNodes, projectionSource);\n      }\n    };\n\n    PassThroughSlot.prototype.projectFrom = function projectFrom(view, projectionSource) {\n      this.destinationSlot.projectFrom(view, projectionSource);\n    };\n\n    PassThroughSlot.prototype.created = function created(ownerView) {\n      this.ownerView = ownerView;\n    };\n\n    PassThroughSlot.prototype.bind = function bind(view) {\n      if (this.contentView) {\n        this.contentView.bind(view.bindingContext, view.overrideContext);\n      }\n    };\n\n    PassThroughSlot.prototype.attached = function attached() {\n      if (this.contentView) {\n        this.contentView.attached();\n      }\n    };\n\n    PassThroughSlot.prototype.detached = function detached() {\n      if (this.contentView) {\n        this.contentView.detached();\n      }\n    };\n\n    PassThroughSlot.prototype.unbind = function unbind() {\n      if (this.contentView) {\n        this.contentView.unbind();\n      }\n    };\n\n    _createClass(PassThroughSlot, [{\n      key: 'needsFallbackRendering',\n      get: function get() {\n        return this.fallbackFactory && this.projections === 0;\n      }\n    }]);\n\n    return PassThroughSlot;\n  }();\n\n  var ShadowSlot = exports.ShadowSlot = function () {\n    function ShadowSlot(anchor, name, fallbackFactory) {\n      \n\n      this.anchor = anchor;\n      this.anchor.isContentProjectionSource = true;\n      this.anchor.viewSlot = this;\n      this.name = name;\n      this.fallbackFactory = fallbackFactory;\n      this.contentView = null;\n      this.projections = 0;\n      this.children = [];\n      this.projectFromAnchors = null;\n      this.destinationSlots = null;\n    }\n\n    ShadowSlot.prototype.addNode = function addNode(view, node, projectionSource, index, destination) {\n      if (this.contentView !== null) {\n        this.contentView.removeNodes();\n        this.contentView.detached();\n        this.contentView.unbind();\n        this.contentView = null;\n      }\n\n      if (node.viewSlot instanceof PassThroughSlot) {\n        node.viewSlot.passThroughTo(this);\n        return;\n      }\n\n      if (this.destinationSlots !== null) {\n        ShadowDOM.distributeNodes(view, [node], this.destinationSlots, this, index);\n      } else {\n        node.auOwnerView = view;\n        node.auProjectionSource = projectionSource;\n        node.auAssignedSlot = this;\n\n        var anchor = this._findAnchor(view, node, projectionSource, index);\n        var parent = anchor.parentNode;\n\n        parent.insertBefore(node, anchor);\n        this.children.push(node);\n        this.projections++;\n      }\n    };\n\n    ShadowSlot.prototype.removeView = function removeView(view, projectionSource) {\n      if (this.destinationSlots !== null) {\n        ShadowDOM.undistributeView(view, this.destinationSlots, this);\n      } else if (this.contentView && this.contentView.hasSlots) {\n        ShadowDOM.undistributeView(view, this.contentView.slots, projectionSource);\n      } else {\n        var found = this.children.find(function (x) {\n          return x.auSlotProjectFrom === projectionSource;\n        });\n        if (found) {\n          var _children = found.auProjectionChildren;\n\n          for (var i = 0, ii = _children.length; i < ii; ++i) {\n            var _child = _children[i];\n\n            if (_child.auOwnerView === view) {\n              _children.splice(i, 1);\n              view.fragment.appendChild(_child);\n              i--;ii--;\n              this.projections--;\n            }\n          }\n\n          if (this.needsFallbackRendering) {\n            this.renderFallbackContent(view, noNodes, projectionSource);\n          }\n        }\n      }\n    };\n\n    ShadowSlot.prototype.removeAll = function removeAll(projectionSource) {\n      if (this.destinationSlots !== null) {\n        ShadowDOM.undistributeAll(this.destinationSlots, this);\n      } else if (this.contentView && this.contentView.hasSlots) {\n        ShadowDOM.undistributeAll(this.contentView.slots, projectionSource);\n      } else {\n        var found = this.children.find(function (x) {\n          return x.auSlotProjectFrom === projectionSource;\n        });\n\n        if (found) {\n          var _children2 = found.auProjectionChildren;\n          for (var i = 0, ii = _children2.length; i < ii; ++i) {\n            var _child2 = _children2[i];\n            _child2.auOwnerView.fragment.appendChild(_child2);\n            this.projections--;\n          }\n\n          found.auProjectionChildren = [];\n\n          if (this.needsFallbackRendering) {\n            this.renderFallbackContent(null, noNodes, projectionSource);\n          }\n        }\n      }\n    };\n\n    ShadowSlot.prototype._findAnchor = function _findAnchor(view, node, projectionSource, index) {\n      if (projectionSource) {\n        var found = this.children.find(function (x) {\n          return x.auSlotProjectFrom === projectionSource;\n        });\n        if (found) {\n          if (index !== undefined) {\n            var _children3 = found.auProjectionChildren;\n            var viewIndex = -1;\n            var lastView = void 0;\n\n            for (var i = 0, ii = _children3.length; i < ii; ++i) {\n              var current = _children3[i];\n\n              if (current.auOwnerView !== lastView) {\n                viewIndex++;\n                lastView = current.auOwnerView;\n\n                if (viewIndex >= index && lastView !== view) {\n                  _children3.splice(i, 0, node);\n                  return current;\n                }\n              }\n            }\n          }\n\n          found.auProjectionChildren.push(node);\n          return found;\n        }\n      }\n\n      return this.anchor;\n    };\n\n    ShadowSlot.prototype.projectTo = function projectTo(slots) {\n      this.destinationSlots = slots;\n    };\n\n    ShadowSlot.prototype.projectFrom = function projectFrom(view, projectionSource) {\n      var anchor = _aureliaPal.DOM.createComment('anchor');\n      var parent = this.anchor.parentNode;\n      anchor.auSlotProjectFrom = projectionSource;\n      anchor.auOwnerView = view;\n      anchor.auProjectionChildren = [];\n      parent.insertBefore(anchor, this.anchor);\n      this.children.push(anchor);\n\n      if (this.projectFromAnchors === null) {\n        this.projectFromAnchors = [];\n      }\n\n      this.projectFromAnchors.push(anchor);\n    };\n\n    ShadowSlot.prototype.renderFallbackContent = function renderFallbackContent(view, nodes, projectionSource, index) {\n      if (this.contentView === null) {\n        this.contentView = this.fallbackFactory.create(this.ownerView.container);\n        this.contentView.bind(this.ownerView.bindingContext, this.ownerView.overrideContext);\n        this.contentView.insertNodesBefore(this.anchor);\n      }\n\n      if (this.contentView.hasSlots) {\n        var slots = this.contentView.slots;\n        var projectFromAnchors = this.projectFromAnchors;\n\n        if (projectFromAnchors !== null) {\n          for (var slotName in slots) {\n            var slot = slots[slotName];\n\n            for (var i = 0, ii = projectFromAnchors.length; i < ii; ++i) {\n              var anchor = projectFromAnchors[i];\n              slot.projectFrom(anchor.auOwnerView, anchor.auSlotProjectFrom);\n            }\n          }\n        }\n\n        this.fallbackSlots = slots;\n        ShadowDOM.distributeNodes(view, nodes, slots, projectionSource, index);\n      }\n    };\n\n    ShadowSlot.prototype.created = function created(ownerView) {\n      this.ownerView = ownerView;\n    };\n\n    ShadowSlot.prototype.bind = function bind(view) {\n      if (this.contentView) {\n        this.contentView.bind(view.bindingContext, view.overrideContext);\n      }\n    };\n\n    ShadowSlot.prototype.attached = function attached() {\n      if (this.contentView) {\n        this.contentView.attached();\n      }\n    };\n\n    ShadowSlot.prototype.detached = function detached() {\n      if (this.contentView) {\n        this.contentView.detached();\n      }\n    };\n\n    ShadowSlot.prototype.unbind = function unbind() {\n      if (this.contentView) {\n        this.contentView.unbind();\n      }\n    };\n\n    _createClass(ShadowSlot, [{\n      key: 'needsFallbackRendering',\n      get: function get() {\n        return this.fallbackFactory && this.projections === 0;\n      }\n    }]);\n\n    return ShadowSlot;\n  }();\n\n  var ShadowDOM = exports.ShadowDOM = (_temp3 = _class9 = function () {\n    function ShadowDOM() {\n      \n    }\n\n    ShadowDOM.getSlotName = function getSlotName(node) {\n      if (node.auSlotAttribute === undefined) {\n        return ShadowDOM.defaultSlotKey;\n      }\n\n      return node.auSlotAttribute.value;\n    };\n\n    ShadowDOM.distributeView = function distributeView(view, slots, projectionSource, index, destinationOverride) {\n      var nodes = void 0;\n\n      if (view === null) {\n        nodes = noNodes;\n      } else {\n        var childNodes = view.fragment.childNodes;\n        var ii = childNodes.length;\n        nodes = new Array(ii);\n\n        for (var i = 0; i < ii; ++i) {\n          nodes[i] = childNodes[i];\n        }\n      }\n\n      ShadowDOM.distributeNodes(view, nodes, slots, projectionSource, index, destinationOverride);\n    };\n\n    ShadowDOM.undistributeView = function undistributeView(view, slots, projectionSource) {\n      for (var slotName in slots) {\n        slots[slotName].removeView(view, projectionSource);\n      }\n    };\n\n    ShadowDOM.undistributeAll = function undistributeAll(slots, projectionSource) {\n      for (var slotName in slots) {\n        slots[slotName].removeAll(projectionSource);\n      }\n    };\n\n    ShadowDOM.distributeNodes = function distributeNodes(view, nodes, slots, projectionSource, index, destinationOverride) {\n      for (var i = 0, ii = nodes.length; i < ii; ++i) {\n        var currentNode = nodes[i];\n        var nodeType = currentNode.nodeType;\n\n        if (currentNode.isContentProjectionSource) {\n          currentNode.viewSlot.projectTo(slots);\n\n          for (var slotName in slots) {\n            slots[slotName].projectFrom(view, currentNode.viewSlot);\n          }\n\n          nodes.splice(i, 1);\n          ii--;i--;\n        } else if (nodeType === 1 || nodeType === 3 || currentNode.viewSlot instanceof PassThroughSlot) {\n          if (nodeType === 3 && _isAllWhitespace(currentNode)) {\n            nodes.splice(i, 1);\n            ii--;i--;\n          } else {\n            var found = slots[destinationOverride || ShadowDOM.getSlotName(currentNode)];\n\n            if (found) {\n              found.addNode(view, currentNode, projectionSource, index);\n              nodes.splice(i, 1);\n              ii--;i--;\n            }\n          }\n        } else {\n          nodes.splice(i, 1);\n          ii--;i--;\n        }\n      }\n\n      for (var _slotName in slots) {\n        var slot = slots[_slotName];\n\n        if (slot.needsFallbackRendering) {\n          slot.renderFallbackContent(view, nodes, projectionSource, index);\n        }\n      }\n    };\n\n    return ShadowDOM;\n  }(), _class9.defaultSlotKey = '__au-default-slot-key__', _temp3);\n\n\n  function register(lookup, name, resource, type) {\n    if (!name) {\n      return;\n    }\n\n    var existing = lookup[name];\n    if (existing) {\n      if (existing !== resource) {\n        throw new Error('Attempted to register ' + type + ' when one with the same name already exists. Name: ' + name + '.');\n      }\n\n      return;\n    }\n\n    lookup[name] = resource;\n  }\n\n  var ViewResources = exports.ViewResources = function () {\n    function ViewResources(parent, viewUrl) {\n      \n\n      this.bindingLanguage = null;\n\n      this.parent = parent || null;\n      this.hasParent = this.parent !== null;\n      this.viewUrl = viewUrl || '';\n      this.lookupFunctions = {\n        valueConverters: this.getValueConverter.bind(this),\n        bindingBehaviors: this.getBindingBehavior.bind(this)\n      };\n      this.attributes = Object.create(null);\n      this.elements = Object.create(null);\n      this.valueConverters = Object.create(null);\n      this.bindingBehaviors = Object.create(null);\n      this.attributeMap = Object.create(null);\n      this.values = Object.create(null);\n      this.beforeCompile = this.afterCompile = this.beforeCreate = this.afterCreate = this.beforeBind = this.beforeUnbind = false;\n    }\n\n    ViewResources.prototype._tryAddHook = function _tryAddHook(obj, name) {\n      if (typeof obj[name] === 'function') {\n        var func = obj[name].bind(obj);\n        var counter = 1;\n        var callbackName = void 0;\n\n        while (this[callbackName = name + counter.toString()] !== undefined) {\n          counter++;\n        }\n\n        this[name] = true;\n        this[callbackName] = func;\n      }\n    };\n\n    ViewResources.prototype._invokeHook = function _invokeHook(name, one, two, three, four) {\n      if (this.hasParent) {\n        this.parent._invokeHook(name, one, two, three, four);\n      }\n\n      if (this[name]) {\n        this[name + '1'](one, two, three, four);\n\n        var callbackName = name + '2';\n        if (this[callbackName]) {\n          this[callbackName](one, two, three, four);\n\n          callbackName = name + '3';\n          if (this[callbackName]) {\n            this[callbackName](one, two, three, four);\n\n            var counter = 4;\n\n            while (this[callbackName = name + counter.toString()] !== undefined) {\n              this[callbackName](one, two, three, four);\n              counter++;\n            }\n          }\n        }\n      }\n    };\n\n    ViewResources.prototype.registerViewEngineHooks = function registerViewEngineHooks(hooks) {\n      this._tryAddHook(hooks, 'beforeCompile');\n      this._tryAddHook(hooks, 'afterCompile');\n      this._tryAddHook(hooks, 'beforeCreate');\n      this._tryAddHook(hooks, 'afterCreate');\n      this._tryAddHook(hooks, 'beforeBind');\n      this._tryAddHook(hooks, 'beforeUnbind');\n    };\n\n    ViewResources.prototype.getBindingLanguage = function getBindingLanguage(bindingLanguageFallback) {\n      return this.bindingLanguage || (this.bindingLanguage = bindingLanguageFallback);\n    };\n\n    ViewResources.prototype.patchInParent = function patchInParent(newParent) {\n      var originalParent = this.parent;\n\n      this.parent = newParent || null;\n      this.hasParent = this.parent !== null;\n\n      if (newParent.parent === null) {\n        newParent.parent = originalParent;\n        newParent.hasParent = originalParent !== null;\n      }\n    };\n\n    ViewResources.prototype.relativeToView = function relativeToView(path) {\n      return (0, _aureliaPath.relativeToFile)(path, this.viewUrl);\n    };\n\n    ViewResources.prototype.registerElement = function registerElement(tagName, behavior) {\n      register(this.elements, tagName, behavior, 'an Element');\n    };\n\n    ViewResources.prototype.getElement = function getElement(tagName) {\n      return this.elements[tagName] || (this.hasParent ? this.parent.getElement(tagName) : null);\n    };\n\n    ViewResources.prototype.mapAttribute = function mapAttribute(attribute) {\n      return this.attributeMap[attribute] || (this.hasParent ? this.parent.mapAttribute(attribute) : null);\n    };\n\n    ViewResources.prototype.registerAttribute = function registerAttribute(attribute, behavior, knownAttribute) {\n      this.attributeMap[attribute] = knownAttribute;\n      register(this.attributes, attribute, behavior, 'an Attribute');\n    };\n\n    ViewResources.prototype.getAttribute = function getAttribute(attribute) {\n      return this.attributes[attribute] || (this.hasParent ? this.parent.getAttribute(attribute) : null);\n    };\n\n    ViewResources.prototype.registerValueConverter = function registerValueConverter(name, valueConverter) {\n      register(this.valueConverters, name, valueConverter, 'a ValueConverter');\n    };\n\n    ViewResources.prototype.getValueConverter = function getValueConverter(name) {\n      return this.valueConverters[name] || (this.hasParent ? this.parent.getValueConverter(name) : null);\n    };\n\n    ViewResources.prototype.registerBindingBehavior = function registerBindingBehavior(name, bindingBehavior) {\n      register(this.bindingBehaviors, name, bindingBehavior, 'a BindingBehavior');\n    };\n\n    ViewResources.prototype.getBindingBehavior = function getBindingBehavior(name) {\n      return this.bindingBehaviors[name] || (this.hasParent ? this.parent.getBindingBehavior(name) : null);\n    };\n\n    ViewResources.prototype.registerValue = function registerValue(name, value) {\n      register(this.values, name, value, 'a value');\n    };\n\n    ViewResources.prototype.getValue = function getValue(name) {\n      return this.values[name] || (this.hasParent ? this.parent.getValue(name) : null);\n    };\n\n    return ViewResources;\n  }();\n\n  var View = exports.View = function () {\n    function View(container, viewFactory, fragment, controllers, bindings, children, slots) {\n      \n\n      this.container = container;\n      this.viewFactory = viewFactory;\n      this.resources = viewFactory.resources;\n      this.fragment = fragment;\n      this.firstChild = fragment.firstChild;\n      this.lastChild = fragment.lastChild;\n      this.controllers = controllers;\n      this.bindings = bindings;\n      this.children = children;\n      this.slots = slots;\n      this.hasSlots = false;\n      this.fromCache = false;\n      this.isBound = false;\n      this.isAttached = false;\n      this.bindingContext = null;\n      this.overrideContext = null;\n      this.controller = null;\n      this.viewModelScope = null;\n      this.animatableElement = undefined;\n      this._isUserControlled = false;\n      this.contentView = null;\n\n      for (var key in slots) {\n        this.hasSlots = true;\n        break;\n      }\n    }\n\n    View.prototype.returnToCache = function returnToCache() {\n      this.viewFactory.returnViewToCache(this);\n    };\n\n    View.prototype.created = function created() {\n      var i = void 0;\n      var ii = void 0;\n      var controllers = this.controllers;\n\n      for (i = 0, ii = controllers.length; i < ii; ++i) {\n        controllers[i].created(this);\n      }\n    };\n\n    View.prototype.bind = function bind(bindingContext, overrideContext, _systemUpdate) {\n      var controllers = void 0;\n      var bindings = void 0;\n      var children = void 0;\n      var i = void 0;\n      var ii = void 0;\n\n      if (_systemUpdate && this._isUserControlled) {\n        return;\n      }\n\n      if (this.isBound) {\n        if (this.bindingContext === bindingContext) {\n          return;\n        }\n\n        this.unbind();\n      }\n\n      this.isBound = true;\n      this.bindingContext = bindingContext;\n      this.overrideContext = overrideContext || (0, _aureliaBinding.createOverrideContext)(bindingContext);\n\n      this.resources._invokeHook('beforeBind', this);\n\n      bindings = this.bindings;\n      for (i = 0, ii = bindings.length; i < ii; ++i) {\n        bindings[i].bind(this);\n      }\n\n      if (this.viewModelScope !== null) {\n        bindingContext.bind(this.viewModelScope.bindingContext, this.viewModelScope.overrideContext);\n        this.viewModelScope = null;\n      }\n\n      controllers = this.controllers;\n      for (i = 0, ii = controllers.length; i < ii; ++i) {\n        controllers[i].bind(this);\n      }\n\n      children = this.children;\n      for (i = 0, ii = children.length; i < ii; ++i) {\n        children[i].bind(bindingContext, overrideContext, true);\n      }\n\n      if (this.hasSlots) {\n        ShadowDOM.distributeView(this.contentView, this.slots);\n      }\n    };\n\n    View.prototype.addBinding = function addBinding(binding) {\n      this.bindings.push(binding);\n\n      if (this.isBound) {\n        binding.bind(this);\n      }\n    };\n\n    View.prototype.unbind = function unbind() {\n      var controllers = void 0;\n      var bindings = void 0;\n      var children = void 0;\n      var i = void 0;\n      var ii = void 0;\n\n      if (this.isBound) {\n        this.isBound = false;\n        this.resources._invokeHook('beforeUnbind', this);\n\n        if (this.controller !== null) {\n          this.controller.unbind();\n        }\n\n        bindings = this.bindings;\n        for (i = 0, ii = bindings.length; i < ii; ++i) {\n          bindings[i].unbind();\n        }\n\n        controllers = this.controllers;\n        for (i = 0, ii = controllers.length; i < ii; ++i) {\n          controllers[i].unbind();\n        }\n\n        children = this.children;\n        for (i = 0, ii = children.length; i < ii; ++i) {\n          children[i].unbind();\n        }\n\n        this.bindingContext = null;\n        this.overrideContext = null;\n      }\n    };\n\n    View.prototype.insertNodesBefore = function insertNodesBefore(refNode) {\n      refNode.parentNode.insertBefore(this.fragment, refNode);\n    };\n\n    View.prototype.appendNodesTo = function appendNodesTo(parent) {\n      parent.appendChild(this.fragment);\n    };\n\n    View.prototype.removeNodes = function removeNodes() {\n      var fragment = this.fragment;\n      var current = this.firstChild;\n      var end = this.lastChild;\n      var next = void 0;\n\n      while (current) {\n        next = current.nextSibling;\n        fragment.appendChild(current);\n\n        if (current === end) {\n          break;\n        }\n\n        current = next;\n      }\n    };\n\n    View.prototype.attached = function attached() {\n      var controllers = void 0;\n      var children = void 0;\n      var i = void 0;\n      var ii = void 0;\n\n      if (this.isAttached) {\n        return;\n      }\n\n      this.isAttached = true;\n\n      if (this.controller !== null) {\n        this.controller.attached();\n      }\n\n      controllers = this.controllers;\n      for (i = 0, ii = controllers.length; i < ii; ++i) {\n        controllers[i].attached();\n      }\n\n      children = this.children;\n      for (i = 0, ii = children.length; i < ii; ++i) {\n        children[i].attached();\n      }\n    };\n\n    View.prototype.detached = function detached() {\n      var controllers = void 0;\n      var children = void 0;\n      var i = void 0;\n      var ii = void 0;\n\n      if (this.isAttached) {\n        this.isAttached = false;\n\n        if (this.controller !== null) {\n          this.controller.detached();\n        }\n\n        controllers = this.controllers;\n        for (i = 0, ii = controllers.length; i < ii; ++i) {\n          controllers[i].detached();\n        }\n\n        children = this.children;\n        for (i = 0, ii = children.length; i < ii; ++i) {\n          children[i].detached();\n        }\n      }\n    };\n\n    return View;\n  }();\n\n  function getAnimatableElement(view) {\n    if (view.animatableElement !== undefined) {\n      return view.animatableElement;\n    }\n\n    var current = view.firstChild;\n\n    while (current && current.nodeType !== 1) {\n      current = current.nextSibling;\n    }\n\n    if (current && current.nodeType === 1) {\n      return view.animatableElement = current.classList.contains('au-animate') ? current : null;\n    }\n\n    return view.animatableElement = null;\n  }\n\n  var ViewSlot = exports.ViewSlot = function () {\n    function ViewSlot(anchor, anchorIsContainer) {\n      var animator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Animator.instance;\n\n      \n\n      this.anchor = anchor;\n      this.anchorIsContainer = anchorIsContainer;\n      this.bindingContext = null;\n      this.overrideContext = null;\n      this.animator = animator;\n      this.children = [];\n      this.isBound = false;\n      this.isAttached = false;\n      this.contentSelectors = null;\n      anchor.viewSlot = this;\n      anchor.isContentProjectionSource = false;\n    }\n\n    ViewSlot.prototype.animateView = function animateView(view) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'enter';\n\n      var animatableElement = getAnimatableElement(view);\n\n      if (animatableElement !== null) {\n        switch (direction) {\n          case 'enter':\n            return this.animator.enter(animatableElement);\n          case 'leave':\n            return this.animator.leave(animatableElement);\n          default:\n            throw new Error('Invalid animation direction: ' + direction);\n        }\n      }\n    };\n\n    ViewSlot.prototype.transformChildNodesIntoView = function transformChildNodesIntoView() {\n      var parent = this.anchor;\n\n      this.children.push({\n        fragment: parent,\n        firstChild: parent.firstChild,\n        lastChild: parent.lastChild,\n        returnToCache: function returnToCache() {},\n        removeNodes: function removeNodes() {\n          var last = void 0;\n\n          while (last = parent.lastChild) {\n            parent.removeChild(last);\n          }\n        },\n        created: function created() {},\n        bind: function bind() {},\n        unbind: function unbind() {},\n        attached: function attached() {},\n        detached: function detached() {}\n      });\n    };\n\n    ViewSlot.prototype.bind = function bind(bindingContext, overrideContext) {\n      var i = void 0;\n      var ii = void 0;\n      var children = void 0;\n\n      if (this.isBound) {\n        if (this.bindingContext === bindingContext) {\n          return;\n        }\n\n        this.unbind();\n      }\n\n      this.isBound = true;\n      this.bindingContext = bindingContext = bindingContext || this.bindingContext;\n      this.overrideContext = overrideContext = overrideContext || this.overrideContext;\n\n      children = this.children;\n      for (i = 0, ii = children.length; i < ii; ++i) {\n        children[i].bind(bindingContext, overrideContext, true);\n      }\n    };\n\n    ViewSlot.prototype.unbind = function unbind() {\n      if (this.isBound) {\n        var i = void 0;\n        var ii = void 0;\n        var _children4 = this.children;\n\n        this.isBound = false;\n        this.bindingContext = null;\n        this.overrideContext = null;\n\n        for (i = 0, ii = _children4.length; i < ii; ++i) {\n          _children4[i].unbind();\n        }\n      }\n    };\n\n    ViewSlot.prototype.add = function add(view) {\n      if (this.anchorIsContainer) {\n        view.appendNodesTo(this.anchor);\n      } else {\n        view.insertNodesBefore(this.anchor);\n      }\n\n      this.children.push(view);\n\n      if (this.isAttached) {\n        view.attached();\n        return this.animateView(view, 'enter');\n      }\n    };\n\n    ViewSlot.prototype.insert = function insert(index, view) {\n      var children = this.children;\n      var length = children.length;\n\n      if (index === 0 && length === 0 || index >= length) {\n        return this.add(view);\n      }\n\n      view.insertNodesBefore(children[index].firstChild);\n      children.splice(index, 0, view);\n\n      if (this.isAttached) {\n        view.attached();\n        return this.animateView(view, 'enter');\n      }\n    };\n\n    ViewSlot.prototype.move = function move(sourceIndex, targetIndex) {\n      if (sourceIndex === targetIndex) {\n        return;\n      }\n\n      var children = this.children;\n      var view = children[sourceIndex];\n\n      view.removeNodes();\n      view.insertNodesBefore(children[targetIndex].firstChild);\n      children.splice(sourceIndex, 1);\n      children.splice(targetIndex, 0, view);\n    };\n\n    ViewSlot.prototype.remove = function remove(view, returnToCache, skipAnimation) {\n      return this.removeAt(this.children.indexOf(view), returnToCache, skipAnimation);\n    };\n\n    ViewSlot.prototype.removeMany = function removeMany(viewsToRemove, returnToCache, skipAnimation) {\n      var _this4 = this;\n\n      var children = this.children;\n      var ii = viewsToRemove.length;\n      var i = void 0;\n      var rmPromises = [];\n\n      viewsToRemove.forEach(function (child) {\n        if (skipAnimation) {\n          child.removeNodes();\n          return;\n        }\n\n        var animation = _this4.animateView(child, 'leave');\n        if (animation) {\n          rmPromises.push(animation.then(function () {\n            return child.removeNodes();\n          }));\n        } else {\n          child.removeNodes();\n        }\n      });\n\n      var removeAction = function removeAction() {\n        if (_this4.isAttached) {\n          for (i = 0; i < ii; ++i) {\n            viewsToRemove[i].detached();\n          }\n        }\n\n        if (returnToCache) {\n          for (i = 0; i < ii; ++i) {\n            viewsToRemove[i].returnToCache();\n          }\n        }\n\n        for (i = 0; i < ii; ++i) {\n          var index = children.indexOf(viewsToRemove[i]);\n          if (index >= 0) {\n            children.splice(index, 1);\n          }\n        }\n      };\n\n      if (rmPromises.length > 0) {\n        return Promise.all(rmPromises).then(function () {\n          return removeAction();\n        });\n      }\n\n      return removeAction();\n    };\n\n    ViewSlot.prototype.removeAt = function removeAt(index, returnToCache, skipAnimation) {\n      var _this5 = this;\n\n      var view = this.children[index];\n\n      var removeAction = function removeAction() {\n        index = _this5.children.indexOf(view);\n        view.removeNodes();\n        _this5.children.splice(index, 1);\n\n        if (_this5.isAttached) {\n          view.detached();\n        }\n\n        if (returnToCache) {\n          view.returnToCache();\n        }\n\n        return view;\n      };\n\n      if (!skipAnimation) {\n        var animation = this.animateView(view, 'leave');\n        if (animation) {\n          return animation.then(function () {\n            return removeAction();\n          });\n        }\n      }\n\n      return removeAction();\n    };\n\n    ViewSlot.prototype.removeAll = function removeAll(returnToCache, skipAnimation) {\n      var _this6 = this;\n\n      var children = this.children;\n      var ii = children.length;\n      var i = void 0;\n      var rmPromises = [];\n\n      children.forEach(function (child) {\n        if (skipAnimation) {\n          child.removeNodes();\n          return;\n        }\n\n        var animation = _this6.animateView(child, 'leave');\n        if (animation) {\n          rmPromises.push(animation.then(function () {\n            return child.removeNodes();\n          }));\n        } else {\n          child.removeNodes();\n        }\n      });\n\n      var removeAction = function removeAction() {\n        if (_this6.isAttached) {\n          for (i = 0; i < ii; ++i) {\n            children[i].detached();\n          }\n        }\n\n        if (returnToCache) {\n          for (i = 0; i < ii; ++i) {\n            var _child3 = children[i];\n\n            if (_child3) {\n              _child3.returnToCache();\n            }\n          }\n        }\n\n        _this6.children = [];\n      };\n\n      if (rmPromises.length > 0) {\n        return Promise.all(rmPromises).then(function () {\n          return removeAction();\n        });\n      }\n\n      return removeAction();\n    };\n\n    ViewSlot.prototype.attached = function attached() {\n      var i = void 0;\n      var ii = void 0;\n      var children = void 0;\n      var child = void 0;\n\n      if (this.isAttached) {\n        return;\n      }\n\n      this.isAttached = true;\n\n      children = this.children;\n      for (i = 0, ii = children.length; i < ii; ++i) {\n        child = children[i];\n        child.attached();\n        this.animateView(child, 'enter');\n      }\n    };\n\n    ViewSlot.prototype.detached = function detached() {\n      var i = void 0;\n      var ii = void 0;\n      var children = void 0;\n\n      if (this.isAttached) {\n        this.isAttached = false;\n        children = this.children;\n        for (i = 0, ii = children.length; i < ii; ++i) {\n          children[i].detached();\n        }\n      }\n    };\n\n    ViewSlot.prototype.projectTo = function projectTo(slots) {\n      var _this7 = this;\n\n      this.projectToSlots = slots;\n      this.add = this._projectionAdd;\n      this.insert = this._projectionInsert;\n      this.move = this._projectionMove;\n      this.remove = this._projectionRemove;\n      this.removeAt = this._projectionRemoveAt;\n      this.removeMany = this._projectionRemoveMany;\n      this.removeAll = this._projectionRemoveAll;\n      this.children.forEach(function (view) {\n        return ShadowDOM.distributeView(view, slots, _this7);\n      });\n    };\n\n    ViewSlot.prototype._projectionAdd = function _projectionAdd(view) {\n      ShadowDOM.distributeView(view, this.projectToSlots, this);\n\n      this.children.push(view);\n\n      if (this.isAttached) {\n        view.attached();\n      }\n    };\n\n    ViewSlot.prototype._projectionInsert = function _projectionInsert(index, view) {\n      if (index === 0 && !this.children.length || index >= this.children.length) {\n        this.add(view);\n      } else {\n        ShadowDOM.distributeView(view, this.projectToSlots, this, index);\n\n        this.children.splice(index, 0, view);\n\n        if (this.isAttached) {\n          view.attached();\n        }\n      }\n    };\n\n    ViewSlot.prototype._projectionMove = function _projectionMove(sourceIndex, targetIndex) {\n      if (sourceIndex === targetIndex) {\n        return;\n      }\n\n      var children = this.children;\n      var view = children[sourceIndex];\n\n      ShadowDOM.undistributeView(view, this.projectToSlots, this);\n      ShadowDOM.distributeView(view, this.projectToSlots, this, targetIndex);\n\n      children.splice(sourceIndex, 1);\n      children.splice(targetIndex, 0, view);\n    };\n\n    ViewSlot.prototype._projectionRemove = function _projectionRemove(view, returnToCache) {\n      ShadowDOM.undistributeView(view, this.projectToSlots, this);\n      this.children.splice(this.children.indexOf(view), 1);\n\n      if (this.isAttached) {\n        view.detached();\n      }\n    };\n\n    ViewSlot.prototype._projectionRemoveAt = function _projectionRemoveAt(index, returnToCache) {\n      var view = this.children[index];\n\n      ShadowDOM.undistributeView(view, this.projectToSlots, this);\n      this.children.splice(index, 1);\n\n      if (this.isAttached) {\n        view.detached();\n      }\n    };\n\n    ViewSlot.prototype._projectionRemoveMany = function _projectionRemoveMany(viewsToRemove, returnToCache) {\n      var _this8 = this;\n\n      viewsToRemove.forEach(function (view) {\n        return _this8.remove(view, returnToCache);\n      });\n    };\n\n    ViewSlot.prototype._projectionRemoveAll = function _projectionRemoveAll(returnToCache) {\n      ShadowDOM.undistributeAll(this.projectToSlots, this);\n\n      var children = this.children;\n\n      if (this.isAttached) {\n        for (var i = 0, ii = children.length; i < ii; ++i) {\n          children[i].detached();\n        }\n      }\n\n      this.children = [];\n    };\n\n    return ViewSlot;\n  }();\n\n  var ProviderResolver = (0, _aureliaDependencyInjection.resolver)(_class11 = function () {\n    function ProviderResolver() {\n      \n    }\n\n    ProviderResolver.prototype.get = function get(container, key) {\n      var id = key.__providerId__;\n      return id in container ? container[id] : container[id] = container.invoke(key);\n    };\n\n    return ProviderResolver;\n  }()) || _class11;\n\n  var providerResolverInstance = new ProviderResolver();\n\n  function elementContainerGet(key) {\n    if (key === _aureliaPal.DOM.Element) {\n      return this.element;\n    }\n\n    if (key === BoundViewFactory) {\n      if (this.boundViewFactory) {\n        return this.boundViewFactory;\n      }\n\n      var factory = this.instruction.viewFactory;\n      var _partReplacements = this.partReplacements;\n\n      if (_partReplacements) {\n        factory = _partReplacements[factory.part] || factory;\n      }\n\n      this.boundViewFactory = new BoundViewFactory(this, factory, _partReplacements);\n      return this.boundViewFactory;\n    }\n\n    if (key === ViewSlot) {\n      if (this.viewSlot === undefined) {\n        this.viewSlot = new ViewSlot(this.element, this.instruction.anchorIsContainer);\n        this.element.isContentProjectionSource = this.instruction.lifting;\n        this.children.push(this.viewSlot);\n      }\n\n      return this.viewSlot;\n    }\n\n    if (key === ElementEvents) {\n      return this.elementEvents || (this.elementEvents = new ElementEvents(this.element));\n    }\n\n    if (key === CompositionTransaction) {\n      return this.compositionTransaction || (this.compositionTransaction = this.parent.get(key));\n    }\n\n    if (key === ViewResources) {\n      return this.viewResources;\n    }\n\n    if (key === TargetInstruction) {\n      return this.instruction;\n    }\n\n    return this.superGet(key);\n  }\n\n  function createElementContainer(parent, element, instruction, children, partReplacements, resources) {\n    var container = parent.createChild();\n    var providers = void 0;\n    var i = void 0;\n\n    container.element = element;\n    container.instruction = instruction;\n    container.children = children;\n    container.viewResources = resources;\n    container.partReplacements = partReplacements;\n\n    providers = instruction.providers;\n    i = providers.length;\n\n    while (i--) {\n      container._resolvers.set(providers[i], providerResolverInstance);\n    }\n\n    container.superGet = container.get;\n    container.get = elementContainerGet;\n\n    return container;\n  }\n\n  function hasAttribute(name) {\n    return this._element.hasAttribute(name);\n  }\n\n  function getAttribute(name) {\n    return this._element.getAttribute(name);\n  }\n\n  function setAttribute(name, value) {\n    this._element.setAttribute(name, value);\n  }\n\n  function makeElementIntoAnchor(element, elementInstruction) {\n    var anchor = _aureliaPal.DOM.createComment('anchor');\n\n    if (elementInstruction) {\n      var firstChild = element.firstChild;\n\n      if (firstChild && firstChild.tagName === 'AU-CONTENT') {\n        anchor.contentElement = firstChild;\n      }\n\n      anchor._element = element;\n\n      anchor.hasAttribute = hasAttribute;\n      anchor.getAttribute = getAttribute;\n      anchor.setAttribute = setAttribute;\n    }\n\n    _aureliaPal.DOM.replaceNode(anchor, element);\n\n    return anchor;\n  }\n\n  function applyInstructions(containers, element, instruction, controllers, bindings, children, shadowSlots, partReplacements, resources) {\n    var behaviorInstructions = instruction.behaviorInstructions;\n    var expressions = instruction.expressions;\n    var elementContainer = void 0;\n    var i = void 0;\n    var ii = void 0;\n    var current = void 0;\n    var instance = void 0;\n\n    if (instruction.contentExpression) {\n      bindings.push(instruction.contentExpression.createBinding(element.nextSibling));\n      element.nextSibling.auInterpolationTarget = true;\n      element.parentNode.removeChild(element);\n      return;\n    }\n\n    if (instruction.shadowSlot) {\n      var commentAnchor = _aureliaPal.DOM.createComment('slot');\n      var slot = void 0;\n\n      if (instruction.slotDestination) {\n        slot = new PassThroughSlot(commentAnchor, instruction.slotName, instruction.slotDestination, instruction.slotFallbackFactory);\n      } else {\n        slot = new ShadowSlot(commentAnchor, instruction.slotName, instruction.slotFallbackFactory);\n      }\n\n      _aureliaPal.DOM.replaceNode(commentAnchor, element);\n      shadowSlots[instruction.slotName] = slot;\n      controllers.push(slot);\n      return;\n    }\n\n    if (behaviorInstructions.length) {\n      if (!instruction.anchorIsContainer) {\n        element = makeElementIntoAnchor(element, instruction.elementInstruction);\n      }\n\n      containers[instruction.injectorId] = elementContainer = createElementContainer(containers[instruction.parentInjectorId], element, instruction, children, partReplacements, resources);\n\n      for (i = 0, ii = behaviorInstructions.length; i < ii; ++i) {\n        current = behaviorInstructions[i];\n        instance = current.type.create(elementContainer, current, element, bindings);\n        controllers.push(instance);\n      }\n    }\n\n    for (i = 0, ii = expressions.length; i < ii; ++i) {\n      bindings.push(expressions[i].createBinding(element));\n    }\n  }\n\n  function styleStringToObject(style, target) {\n    var attributes = style.split(';');\n    var firstIndexOfColon = void 0;\n    var i = void 0;\n    var current = void 0;\n    var key = void 0;\n    var value = void 0;\n\n    target = target || {};\n\n    for (i = 0; i < attributes.length; i++) {\n      current = attributes[i];\n      firstIndexOfColon = current.indexOf(':');\n      key = current.substring(0, firstIndexOfColon).trim();\n      value = current.substring(firstIndexOfColon + 1).trim();\n      target[key] = value;\n    }\n\n    return target;\n  }\n\n  function styleObjectToString(obj) {\n    var result = '';\n\n    for (var key in obj) {\n      result += key + ':' + obj[key] + ';';\n    }\n\n    return result;\n  }\n\n  function applySurrogateInstruction(container, element, instruction, controllers, bindings, children) {\n    var behaviorInstructions = instruction.behaviorInstructions;\n    var expressions = instruction.expressions;\n    var providers = instruction.providers;\n    var values = instruction.values;\n    var i = void 0;\n    var ii = void 0;\n    var current = void 0;\n    var instance = void 0;\n    var currentAttributeValue = void 0;\n\n    i = providers.length;\n    while (i--) {\n      container._resolvers.set(providers[i], providerResolverInstance);\n    }\n\n    for (var key in values) {\n      currentAttributeValue = element.getAttribute(key);\n\n      if (currentAttributeValue) {\n        if (key === 'class') {\n          element.setAttribute('class', currentAttributeValue + ' ' + values[key]);\n        } else if (key === 'style') {\n          var styleObject = styleStringToObject(values[key]);\n          styleStringToObject(currentAttributeValue, styleObject);\n          element.setAttribute('style', styleObjectToString(styleObject));\n        }\n      } else {\n        element.setAttribute(key, values[key]);\n      }\n    }\n\n    if (behaviorInstructions.length) {\n      for (i = 0, ii = behaviorInstructions.length; i < ii; ++i) {\n        current = behaviorInstructions[i];\n        instance = current.type.create(container, current, element, bindings);\n\n        if (instance.contentView) {\n          children.push(instance.contentView);\n        }\n\n        controllers.push(instance);\n      }\n    }\n\n    for (i = 0, ii = expressions.length; i < ii; ++i) {\n      bindings.push(expressions[i].createBinding(element));\n    }\n  }\n\n  var BoundViewFactory = exports.BoundViewFactory = function () {\n    function BoundViewFactory(parentContainer, viewFactory, partReplacements) {\n      \n\n      this.parentContainer = parentContainer;\n      this.viewFactory = viewFactory;\n      this.factoryCreateInstruction = { partReplacements: partReplacements };\n    }\n\n    BoundViewFactory.prototype.create = function create() {\n      var view = this.viewFactory.create(this.parentContainer.createChild(), this.factoryCreateInstruction);\n      view._isUserControlled = true;\n      return view;\n    };\n\n    BoundViewFactory.prototype.setCacheSize = function setCacheSize(size, doNotOverrideIfAlreadySet) {\n      this.viewFactory.setCacheSize(size, doNotOverrideIfAlreadySet);\n    };\n\n    BoundViewFactory.prototype.getCachedView = function getCachedView() {\n      return this.viewFactory.getCachedView();\n    };\n\n    BoundViewFactory.prototype.returnViewToCache = function returnViewToCache(view) {\n      this.viewFactory.returnViewToCache(view);\n    };\n\n    _createClass(BoundViewFactory, [{\n      key: 'isCaching',\n      get: function get() {\n        return this.viewFactory.isCaching;\n      }\n    }]);\n\n    return BoundViewFactory;\n  }();\n\n  var ViewFactory = exports.ViewFactory = function () {\n    function ViewFactory(template, instructions, resources) {\n      \n\n      this.isCaching = false;\n\n      this.template = template;\n      this.instructions = instructions;\n      this.resources = resources;\n      this.cacheSize = -1;\n      this.cache = null;\n    }\n\n    ViewFactory.prototype.setCacheSize = function setCacheSize(size, doNotOverrideIfAlreadySet) {\n      if (size) {\n        if (size === '*') {\n          size = Number.MAX_VALUE;\n        } else if (typeof size === 'string') {\n          size = parseInt(size, 10);\n        }\n      }\n\n      if (this.cacheSize === -1 || !doNotOverrideIfAlreadySet) {\n        this.cacheSize = size;\n      }\n\n      if (this.cacheSize > 0) {\n        this.cache = [];\n      } else {\n        this.cache = null;\n      }\n\n      this.isCaching = this.cacheSize > 0;\n    };\n\n    ViewFactory.prototype.getCachedView = function getCachedView() {\n      return this.cache !== null ? this.cache.pop() || null : null;\n    };\n\n    ViewFactory.prototype.returnViewToCache = function returnViewToCache(view) {\n      if (view.isAttached) {\n        view.detached();\n      }\n\n      if (view.isBound) {\n        view.unbind();\n      }\n\n      if (this.cache !== null && this.cache.length < this.cacheSize) {\n        view.fromCache = true;\n        this.cache.push(view);\n      }\n    };\n\n    ViewFactory.prototype.create = function create(container, createInstruction, element) {\n      createInstruction = createInstruction || BehaviorInstruction.normal;\n\n      var cachedView = this.getCachedView();\n      if (cachedView !== null) {\n        return cachedView;\n      }\n\n      var fragment = createInstruction.enhance ? this.template : this.template.cloneNode(true);\n      var instructables = fragment.querySelectorAll('.au-target');\n      var instructions = this.instructions;\n      var resources = this.resources;\n      var controllers = [];\n      var bindings = [];\n      var children = [];\n      var shadowSlots = Object.create(null);\n      var containers = { root: container };\n      var partReplacements = createInstruction.partReplacements;\n      var i = void 0;\n      var ii = void 0;\n      var view = void 0;\n      var instructable = void 0;\n      var instruction = void 0;\n\n      this.resources._invokeHook('beforeCreate', this, container, fragment, createInstruction);\n\n      if (element && this.surrogateInstruction !== null) {\n        applySurrogateInstruction(container, element, this.surrogateInstruction, controllers, bindings, children);\n      }\n\n      if (createInstruction.enhance && fragment.hasAttribute('au-target-id')) {\n        instructable = fragment;\n        instruction = instructions[instructable.getAttribute('au-target-id')];\n        applyInstructions(containers, instructable, instruction, controllers, bindings, children, shadowSlots, partReplacements, resources);\n      }\n\n      for (i = 0, ii = instructables.length; i < ii; ++i) {\n        instructable = instructables[i];\n        instruction = instructions[instructable.getAttribute('au-target-id')];\n        applyInstructions(containers, instructable, instruction, controllers, bindings, children, shadowSlots, partReplacements, resources);\n      }\n\n      view = new View(container, this, fragment, controllers, bindings, children, shadowSlots);\n\n      if (!createInstruction.initiatedByBehavior) {\n        view.created();\n      }\n\n      this.resources._invokeHook('afterCreate', view);\n\n      return view;\n    };\n\n    return ViewFactory;\n  }();\n\n  var nextInjectorId = 0;\n  function getNextInjectorId() {\n    return ++nextInjectorId;\n  }\n\n  var lastAUTargetID = 0;\n  function getNextAUTargetID() {\n    return (++lastAUTargetID).toString();\n  }\n\n  function makeIntoInstructionTarget(element) {\n    var value = element.getAttribute('class');\n    var auTargetID = getNextAUTargetID();\n\n    element.setAttribute('class', value ? value + ' au-target' : 'au-target');\n    element.setAttribute('au-target-id', auTargetID);\n\n    return auTargetID;\n  }\n\n  function makeShadowSlot(compiler, resources, node, instructions, parentInjectorId) {\n    var auShadowSlot = _aureliaPal.DOM.createElement('au-shadow-slot');\n    _aureliaPal.DOM.replaceNode(auShadowSlot, node);\n\n    var auTargetID = makeIntoInstructionTarget(auShadowSlot);\n    var instruction = TargetInstruction.shadowSlot(parentInjectorId);\n\n    instruction.slotName = node.getAttribute('name') || ShadowDOM.defaultSlotKey;\n    instruction.slotDestination = node.getAttribute('slot');\n\n    if (node.innerHTML.trim()) {\n      var fragment = _aureliaPal.DOM.createDocumentFragment();\n      var _child4 = void 0;\n\n      while (_child4 = node.firstChild) {\n        fragment.appendChild(_child4);\n      }\n\n      instruction.slotFallbackFactory = compiler.compile(fragment, resources);\n    }\n\n    instructions[auTargetID] = instruction;\n\n    return auShadowSlot;\n  }\n\n  var ViewCompiler = exports.ViewCompiler = (_dec7 = (0, _aureliaDependencyInjection.inject)(BindingLanguage, ViewResources), _dec7(_class13 = function () {\n    function ViewCompiler(bindingLanguage, resources) {\n      \n\n      this.bindingLanguage = bindingLanguage;\n      this.resources = resources;\n    }\n\n    ViewCompiler.prototype.compile = function compile(source, resources, compileInstruction) {\n      resources = resources || this.resources;\n      compileInstruction = compileInstruction || ViewCompileInstruction.normal;\n      source = typeof source === 'string' ? _aureliaPal.DOM.createTemplateFromMarkup(source) : source;\n\n      var content = void 0;\n      var part = void 0;\n      var cacheSize = void 0;\n\n      if (source.content) {\n        part = source.getAttribute('part');\n        cacheSize = source.getAttribute('view-cache');\n        content = _aureliaPal.DOM.adoptNode(source.content);\n      } else {\n        content = source;\n      }\n\n      compileInstruction.targetShadowDOM = compileInstruction.targetShadowDOM && _aureliaPal.FEATURE.shadowDOM;\n      resources._invokeHook('beforeCompile', content, resources, compileInstruction);\n\n      var instructions = {};\n      this._compileNode(content, resources, instructions, source, 'root', !compileInstruction.targetShadowDOM);\n\n      var firstChild = content.firstChild;\n      if (firstChild && firstChild.nodeType === 1) {\n        var targetId = firstChild.getAttribute('au-target-id');\n        if (targetId) {\n          var ins = instructions[targetId];\n\n          if (ins.shadowSlot || ins.lifting || ins.elementInstruction && !ins.elementInstruction.anchorIsContainer) {\n            content.insertBefore(_aureliaPal.DOM.createComment('view'), firstChild);\n          }\n        }\n      }\n\n      var factory = new ViewFactory(content, instructions, resources);\n\n      factory.surrogateInstruction = compileInstruction.compileSurrogate ? this._compileSurrogate(source, resources) : null;\n      factory.part = part;\n\n      if (cacheSize) {\n        factory.setCacheSize(cacheSize);\n      }\n\n      resources._invokeHook('afterCompile', factory);\n\n      return factory;\n    };\n\n    ViewCompiler.prototype._compileNode = function _compileNode(node, resources, instructions, parentNode, parentInjectorId, targetLightDOM) {\n      switch (node.nodeType) {\n        case 1:\n          return this._compileElement(node, resources, instructions, parentNode, parentInjectorId, targetLightDOM);\n        case 3:\n          var expression = resources.getBindingLanguage(this.bindingLanguage).inspectTextContent(resources, node.wholeText);\n          if (expression) {\n            var marker = _aureliaPal.DOM.createElement('au-marker');\n            var auTargetID = makeIntoInstructionTarget(marker);\n            (node.parentNode || parentNode).insertBefore(marker, node);\n            node.textContent = ' ';\n            instructions[auTargetID] = TargetInstruction.contentExpression(expression);\n\n            while (node.nextSibling && node.nextSibling.nodeType === 3) {\n              (node.parentNode || parentNode).removeChild(node.nextSibling);\n            }\n          } else {\n            while (node.nextSibling && node.nextSibling.nodeType === 3) {\n              node = node.nextSibling;\n            }\n          }\n          return node.nextSibling;\n        case 11:\n          var currentChild = node.firstChild;\n          while (currentChild) {\n            currentChild = this._compileNode(currentChild, resources, instructions, node, parentInjectorId, targetLightDOM);\n          }\n          break;\n        default:\n          break;\n      }\n\n      return node.nextSibling;\n    };\n\n    ViewCompiler.prototype._compileSurrogate = function _compileSurrogate(node, resources) {\n      var tagName = node.tagName.toLowerCase();\n      var attributes = node.attributes;\n      var bindingLanguage = resources.getBindingLanguage(this.bindingLanguage);\n      var knownAttribute = void 0;\n      var property = void 0;\n      var instruction = void 0;\n      var i = void 0;\n      var ii = void 0;\n      var attr = void 0;\n      var attrName = void 0;\n      var attrValue = void 0;\n      var info = void 0;\n      var type = void 0;\n      var expressions = [];\n      var expression = void 0;\n      var behaviorInstructions = [];\n      var values = {};\n      var hasValues = false;\n      var providers = [];\n\n      for (i = 0, ii = attributes.length; i < ii; ++i) {\n        attr = attributes[i];\n        attrName = attr.name;\n        attrValue = attr.value;\n\n        info = bindingLanguage.inspectAttribute(resources, tagName, attrName, attrValue);\n        type = resources.getAttribute(info.attrName);\n\n        if (type) {\n          knownAttribute = resources.mapAttribute(info.attrName);\n          if (knownAttribute) {\n            property = type.attributes[knownAttribute];\n\n            if (property) {\n              info.defaultBindingMode = property.defaultBindingMode;\n\n              if (!info.command && !info.expression) {\n                info.command = property.hasOptions ? 'options' : null;\n              }\n\n              if (info.command && info.command !== 'options' && type.primaryProperty) {\n                var primaryProperty = type.primaryProperty;\n                attrName = info.attrName = primaryProperty.name;\n\n                info.defaultBindingMode = primaryProperty.defaultBindingMode;\n              }\n            }\n          }\n        }\n\n        instruction = bindingLanguage.createAttributeInstruction(resources, node, info, undefined, type);\n\n        if (instruction) {\n          if (instruction.alteredAttr) {\n            type = resources.getAttribute(instruction.attrName);\n          }\n\n          if (instruction.discrete) {\n            expressions.push(instruction);\n          } else {\n            if (type) {\n              instruction.type = type;\n              this._configureProperties(instruction, resources);\n\n              if (type.liftsContent) {\n                throw new Error('You cannot place a template controller on a surrogate element.');\n              } else {\n                behaviorInstructions.push(instruction);\n              }\n            } else {\n              expressions.push(instruction.attributes[instruction.attrName]);\n            }\n          }\n        } else {\n          if (type) {\n            instruction = BehaviorInstruction.attribute(attrName, type);\n            instruction.attributes[resources.mapAttribute(attrName)] = attrValue;\n\n            if (type.liftsContent) {\n              throw new Error('You cannot place a template controller on a surrogate element.');\n            } else {\n              behaviorInstructions.push(instruction);\n            }\n          } else if (attrName !== 'id' && attrName !== 'part' && attrName !== 'replace-part') {\n            hasValues = true;\n            values[attrName] = attrValue;\n          }\n        }\n      }\n\n      if (expressions.length || behaviorInstructions.length || hasValues) {\n        for (i = 0, ii = behaviorInstructions.length; i < ii; ++i) {\n          instruction = behaviorInstructions[i];\n          instruction.type.compile(this, resources, node, instruction);\n          providers.push(instruction.type.target);\n        }\n\n        for (i = 0, ii = expressions.length; i < ii; ++i) {\n          expression = expressions[i];\n          if (expression.attrToRemove !== undefined) {\n            node.removeAttribute(expression.attrToRemove);\n          }\n        }\n\n        return TargetInstruction.surrogate(providers, behaviorInstructions, expressions, values);\n      }\n\n      return null;\n    };\n\n    ViewCompiler.prototype._compileElement = function _compileElement(node, resources, instructions, parentNode, parentInjectorId, targetLightDOM) {\n      var tagName = node.tagName.toLowerCase();\n      var attributes = node.attributes;\n      var expressions = [];\n      var expression = void 0;\n      var behaviorInstructions = [];\n      var providers = [];\n      var bindingLanguage = resources.getBindingLanguage(this.bindingLanguage);\n      var liftingInstruction = void 0;\n      var viewFactory = void 0;\n      var type = void 0;\n      var elementInstruction = void 0;\n      var elementProperty = void 0;\n      var i = void 0;\n      var ii = void 0;\n      var attr = void 0;\n      var attrName = void 0;\n      var attrValue = void 0;\n      var originalAttrName = void 0;\n      var instruction = void 0;\n      var info = void 0;\n      var property = void 0;\n      var knownAttribute = void 0;\n      var auTargetID = void 0;\n      var injectorId = void 0;\n\n      if (tagName === 'slot') {\n        if (targetLightDOM) {\n          node = makeShadowSlot(this, resources, node, instructions, parentInjectorId);\n        }\n        return node.nextSibling;\n      } else if (tagName === 'template') {\n        if (!('content' in node)) {\n          throw new Error('You cannot place a template element within ' + node.namespaceURI + ' namespace');\n        }\n        viewFactory = this.compile(node, resources);\n        viewFactory.part = node.getAttribute('part');\n      } else {\n        type = resources.getElement(node.getAttribute('as-element') || tagName);\n        if (type) {\n          elementInstruction = BehaviorInstruction.element(node, type);\n          type.processAttributes(this, resources, node, attributes, elementInstruction);\n          behaviorInstructions.push(elementInstruction);\n        }\n      }\n\n      for (i = 0, ii = attributes.length; i < ii; ++i) {\n        attr = attributes[i];\n        originalAttrName = attrName = attr.name;\n        attrValue = attr.value;\n        info = bindingLanguage.inspectAttribute(resources, tagName, attrName, attrValue);\n\n        if (targetLightDOM && info.attrName === 'slot') {\n          info.attrName = attrName = 'au-slot';\n        }\n\n        type = resources.getAttribute(info.attrName);\n        elementProperty = null;\n\n        if (type) {\n          knownAttribute = resources.mapAttribute(info.attrName);\n          if (knownAttribute) {\n            property = type.attributes[knownAttribute];\n\n            if (property) {\n              info.defaultBindingMode = property.defaultBindingMode;\n\n              if (!info.command && !info.expression) {\n                info.command = property.hasOptions ? 'options' : null;\n              }\n\n              if (info.command && info.command !== 'options' && type.primaryProperty) {\n                var primaryProperty = type.primaryProperty;\n                attrName = info.attrName = primaryProperty.name;\n\n                info.defaultBindingMode = primaryProperty.defaultBindingMode;\n              }\n            }\n          }\n        } else if (elementInstruction) {\n          elementProperty = elementInstruction.type.attributes[info.attrName];\n          if (elementProperty) {\n            info.defaultBindingMode = elementProperty.defaultBindingMode;\n          }\n        }\n\n        if (elementProperty) {\n          instruction = bindingLanguage.createAttributeInstruction(resources, node, info, elementInstruction);\n        } else {\n          instruction = bindingLanguage.createAttributeInstruction(resources, node, info, undefined, type);\n        }\n\n        if (instruction) {\n          if (instruction.alteredAttr) {\n            type = resources.getAttribute(instruction.attrName);\n          }\n\n          if (instruction.discrete) {\n            expressions.push(instruction);\n          } else {\n            if (type) {\n              instruction.type = type;\n              this._configureProperties(instruction, resources);\n\n              if (type.liftsContent) {\n                instruction.originalAttrName = originalAttrName;\n                liftingInstruction = instruction;\n                break;\n              } else {\n                behaviorInstructions.push(instruction);\n              }\n            } else if (elementProperty) {\n              elementInstruction.attributes[info.attrName].targetProperty = elementProperty.name;\n            } else {\n              expressions.push(instruction.attributes[instruction.attrName]);\n            }\n          }\n        } else {\n          if (type) {\n            instruction = BehaviorInstruction.attribute(attrName, type);\n            instruction.attributes[resources.mapAttribute(attrName)] = attrValue;\n\n            if (type.liftsContent) {\n              instruction.originalAttrName = originalAttrName;\n              liftingInstruction = instruction;\n              break;\n            } else {\n              behaviorInstructions.push(instruction);\n            }\n          } else if (elementProperty) {\n            elementInstruction.attributes[attrName] = attrValue;\n          }\n        }\n      }\n\n      if (liftingInstruction) {\n        liftingInstruction.viewFactory = viewFactory;\n        node = liftingInstruction.type.compile(this, resources, node, liftingInstruction, parentNode);\n        auTargetID = makeIntoInstructionTarget(node);\n        instructions[auTargetID] = TargetInstruction.lifting(parentInjectorId, liftingInstruction);\n      } else {\n        var skipContentProcessing = false;\n\n        if (expressions.length || behaviorInstructions.length) {\n          injectorId = behaviorInstructions.length ? getNextInjectorId() : false;\n\n          for (i = 0, ii = behaviorInstructions.length; i < ii; ++i) {\n            instruction = behaviorInstructions[i];\n            instruction.type.compile(this, resources, node, instruction, parentNode);\n            providers.push(instruction.type.target);\n            skipContentProcessing = skipContentProcessing || instruction.skipContentProcessing;\n          }\n\n          for (i = 0, ii = expressions.length; i < ii; ++i) {\n            expression = expressions[i];\n            if (expression.attrToRemove !== undefined) {\n              node.removeAttribute(expression.attrToRemove);\n            }\n          }\n\n          auTargetID = makeIntoInstructionTarget(node);\n          instructions[auTargetID] = TargetInstruction.normal(injectorId, parentInjectorId, providers, behaviorInstructions, expressions, elementInstruction);\n        }\n\n        if (skipContentProcessing) {\n          return node.nextSibling;\n        }\n\n        var currentChild = node.firstChild;\n        while (currentChild) {\n          currentChild = this._compileNode(currentChild, resources, instructions, node, injectorId || parentInjectorId, targetLightDOM);\n        }\n      }\n\n      return node.nextSibling;\n    };\n\n    ViewCompiler.prototype._configureProperties = function _configureProperties(instruction, resources) {\n      var type = instruction.type;\n      var attrName = instruction.attrName;\n      var attributes = instruction.attributes;\n      var property = void 0;\n      var key = void 0;\n      var value = void 0;\n\n      var knownAttribute = resources.mapAttribute(attrName);\n      if (knownAttribute && attrName in attributes && knownAttribute !== attrName) {\n        attributes[knownAttribute] = attributes[attrName];\n        delete attributes[attrName];\n      }\n\n      for (key in attributes) {\n        value = attributes[key];\n\n        if (value !== null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n          property = type.attributes[key];\n\n          if (property !== undefined) {\n            value.targetProperty = property.name;\n          } else {\n            value.targetProperty = key;\n          }\n        }\n      }\n    };\n\n    return ViewCompiler;\n  }()) || _class13);\n\n  var ResourceModule = exports.ResourceModule = function () {\n    function ResourceModule(moduleId) {\n      \n\n      this.id = moduleId;\n      this.moduleInstance = null;\n      this.mainResource = null;\n      this.resources = null;\n      this.viewStrategy = null;\n      this.isInitialized = false;\n      this.onLoaded = null;\n      this.loadContext = null;\n    }\n\n    ResourceModule.prototype.initialize = function initialize(container) {\n      var current = this.mainResource;\n      var resources = this.resources;\n      var vs = this.viewStrategy;\n\n      if (this.isInitialized) {\n        return;\n      }\n\n      this.isInitialized = true;\n\n      if (current !== undefined) {\n        current.metadata.viewStrategy = vs;\n        current.initialize(container);\n      }\n\n      for (var i = 0, ii = resources.length; i < ii; ++i) {\n        current = resources[i];\n        current.metadata.viewStrategy = vs;\n        current.initialize(container);\n      }\n    };\n\n    ResourceModule.prototype.register = function register(registry, name) {\n      var main = this.mainResource;\n      var resources = this.resources;\n\n      if (main !== undefined) {\n        main.register(registry, name);\n        name = null;\n      }\n\n      for (var i = 0, ii = resources.length; i < ii; ++i) {\n        resources[i].register(registry, name);\n        name = null;\n      }\n    };\n\n    ResourceModule.prototype.load = function load(container, loadContext) {\n      if (this.onLoaded !== null) {\n        return this.loadContext === loadContext ? Promise.resolve() : this.onLoaded;\n      }\n\n      var main = this.mainResource;\n      var resources = this.resources;\n      var loads = void 0;\n\n      if (main !== undefined) {\n        loads = new Array(resources.length + 1);\n        loads[0] = main.load(container, loadContext);\n        for (var i = 0, ii = resources.length; i < ii; ++i) {\n          loads[i + 1] = resources[i].load(container, loadContext);\n        }\n      } else {\n        loads = new Array(resources.length);\n        for (var _i = 0, _ii = resources.length; _i < _ii; ++_i) {\n          loads[_i] = resources[_i].load(container, loadContext);\n        }\n      }\n\n      this.loadContext = loadContext;\n      this.onLoaded = Promise.all(loads);\n      return this.onLoaded;\n    };\n\n    return ResourceModule;\n  }();\n\n  var ResourceDescription = exports.ResourceDescription = function () {\n    function ResourceDescription(key, exportedValue, resourceTypeMeta) {\n      \n\n      if (!resourceTypeMeta) {\n        resourceTypeMeta = _aureliaMetadata.metadata.get(_aureliaMetadata.metadata.resource, exportedValue);\n\n        if (!resourceTypeMeta) {\n          resourceTypeMeta = new HtmlBehaviorResource();\n          resourceTypeMeta.elementName = _hyphenate(key);\n          _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, resourceTypeMeta, exportedValue);\n        }\n      }\n\n      if (resourceTypeMeta instanceof HtmlBehaviorResource) {\n        if (resourceTypeMeta.elementName === undefined) {\n          resourceTypeMeta.elementName = _hyphenate(key);\n        } else if (resourceTypeMeta.attributeName === undefined) {\n          resourceTypeMeta.attributeName = _hyphenate(key);\n        } else if (resourceTypeMeta.attributeName === null && resourceTypeMeta.elementName === null) {\n          HtmlBehaviorResource.convention(key, resourceTypeMeta);\n        }\n      } else if (!resourceTypeMeta.name) {\n        resourceTypeMeta.name = _hyphenate(key);\n      }\n\n      this.metadata = resourceTypeMeta;\n      this.value = exportedValue;\n    }\n\n    ResourceDescription.prototype.initialize = function initialize(container) {\n      this.metadata.initialize(container, this.value);\n    };\n\n    ResourceDescription.prototype.register = function register(registry, name) {\n      this.metadata.register(registry, name);\n    };\n\n    ResourceDescription.prototype.load = function load(container, loadContext) {\n      return this.metadata.load(container, this.value, loadContext);\n    };\n\n    return ResourceDescription;\n  }();\n\n  var ModuleAnalyzer = exports.ModuleAnalyzer = function () {\n    function ModuleAnalyzer() {\n      \n\n      this.cache = Object.create(null);\n    }\n\n    ModuleAnalyzer.prototype.getAnalysis = function getAnalysis(moduleId) {\n      return this.cache[moduleId];\n    };\n\n    ModuleAnalyzer.prototype.analyze = function analyze(moduleId, moduleInstance, mainResourceKey) {\n      var mainResource = void 0;\n      var fallbackValue = void 0;\n      var fallbackKey = void 0;\n      var resourceTypeMeta = void 0;\n      var key = void 0;\n      var exportedValue = void 0;\n      var resources = [];\n      var conventional = void 0;\n      var vs = void 0;\n      var resourceModule = void 0;\n\n      resourceModule = this.cache[moduleId];\n      if (resourceModule) {\n        return resourceModule;\n      }\n\n      resourceModule = new ResourceModule(moduleId);\n      this.cache[moduleId] = resourceModule;\n\n      if (typeof moduleInstance === 'function') {\n        moduleInstance = { 'default': moduleInstance };\n      }\n\n      if (mainResourceKey) {\n        mainResource = new ResourceDescription(mainResourceKey, moduleInstance[mainResourceKey]);\n      }\n\n      for (key in moduleInstance) {\n        exportedValue = moduleInstance[key];\n\n        if (key === mainResourceKey || typeof exportedValue !== 'function') {\n          continue;\n        }\n\n        resourceTypeMeta = _aureliaMetadata.metadata.get(_aureliaMetadata.metadata.resource, exportedValue);\n\n        if (resourceTypeMeta) {\n          if (resourceTypeMeta.attributeName === null && resourceTypeMeta.elementName === null) {\n            HtmlBehaviorResource.convention(key, resourceTypeMeta);\n          }\n\n          if (resourceTypeMeta.attributeName === null && resourceTypeMeta.elementName === null) {\n            resourceTypeMeta.elementName = _hyphenate(key);\n          }\n\n          if (!mainResource && resourceTypeMeta instanceof HtmlBehaviorResource && resourceTypeMeta.elementName !== null) {\n            mainResource = new ResourceDescription(key, exportedValue, resourceTypeMeta);\n          } else {\n            resources.push(new ResourceDescription(key, exportedValue, resourceTypeMeta));\n          }\n        } else if (viewStrategy.decorates(exportedValue)) {\n          vs = exportedValue;\n        } else if (exportedValue instanceof _aureliaLoader.TemplateRegistryEntry) {\n          vs = new TemplateRegistryViewStrategy(moduleId, exportedValue);\n        } else {\n          if (conventional = HtmlBehaviorResource.convention(key)) {\n            if (conventional.elementName !== null && !mainResource) {\n              mainResource = new ResourceDescription(key, exportedValue, conventional);\n            } else {\n              resources.push(new ResourceDescription(key, exportedValue, conventional));\n            }\n\n            _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, conventional, exportedValue);\n          } else if (conventional = _aureliaBinding.ValueConverterResource.convention(key) || _aureliaBinding.BindingBehaviorResource.convention(key) || ViewEngineHooksResource.convention(key)) {\n            resources.push(new ResourceDescription(key, exportedValue, conventional));\n            _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, conventional, exportedValue);\n          } else if (!fallbackValue) {\n            fallbackValue = exportedValue;\n            fallbackKey = key;\n          }\n        }\n      }\n\n      if (!mainResource && fallbackValue) {\n        mainResource = new ResourceDescription(fallbackKey, fallbackValue);\n      }\n\n      resourceModule.moduleInstance = moduleInstance;\n      resourceModule.mainResource = mainResource;\n      resourceModule.resources = resources;\n      resourceModule.viewStrategy = vs;\n\n      return resourceModule;\n    };\n\n    return ModuleAnalyzer;\n  }();\n\n  var logger = LogManager.getLogger('templating');\n\n  function ensureRegistryEntry(loader, urlOrRegistryEntry) {\n    if (urlOrRegistryEntry instanceof _aureliaLoader.TemplateRegistryEntry) {\n      return Promise.resolve(urlOrRegistryEntry);\n    }\n\n    return loader.loadTemplate(urlOrRegistryEntry);\n  }\n\n  var ProxyViewFactory = function () {\n    function ProxyViewFactory(promise) {\n      var _this9 = this;\n\n      \n\n      promise.then(function (x) {\n        return _this9.viewFactory = x;\n      });\n    }\n\n    ProxyViewFactory.prototype.create = function create(container, bindingContext, createInstruction, element) {\n      return this.viewFactory.create(container, bindingContext, createInstruction, element);\n    };\n\n    ProxyViewFactory.prototype.setCacheSize = function setCacheSize(size, doNotOverrideIfAlreadySet) {\n      this.viewFactory.setCacheSize(size, doNotOverrideIfAlreadySet);\n    };\n\n    ProxyViewFactory.prototype.getCachedView = function getCachedView() {\n      return this.viewFactory.getCachedView();\n    };\n\n    ProxyViewFactory.prototype.returnViewToCache = function returnViewToCache(view) {\n      this.viewFactory.returnViewToCache(view);\n    };\n\n    _createClass(ProxyViewFactory, [{\n      key: 'isCaching',\n      get: function get() {\n        return this.viewFactory.isCaching;\n      }\n    }]);\n\n    return ProxyViewFactory;\n  }();\n\n  var auSlotBehavior = null;\n\n  var ViewEngine = exports.ViewEngine = (_dec8 = (0, _aureliaDependencyInjection.inject)(_aureliaLoader.Loader, _aureliaDependencyInjection.Container, ViewCompiler, ModuleAnalyzer, ViewResources), _dec8(_class14 = (_temp4 = _class15 = function () {\n    function ViewEngine(loader, container, viewCompiler, moduleAnalyzer, appResources) {\n      \n\n      this.loader = loader;\n      this.container = container;\n      this.viewCompiler = viewCompiler;\n      this.moduleAnalyzer = moduleAnalyzer;\n      this.appResources = appResources;\n      this._pluginMap = {};\n\n      if (auSlotBehavior === null) {\n        auSlotBehavior = new HtmlBehaviorResource();\n        auSlotBehavior.attributeName = 'au-slot';\n        _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, auSlotBehavior, SlotCustomAttribute);\n      }\n\n      auSlotBehavior.initialize(container, SlotCustomAttribute);\n      auSlotBehavior.register(appResources);\n    }\n\n    ViewEngine.prototype.addResourcePlugin = function addResourcePlugin(extension, implementation) {\n      var name = extension.replace('.', '') + '-resource-plugin';\n      this._pluginMap[extension] = name;\n      this.loader.addPlugin(name, implementation);\n    };\n\n    ViewEngine.prototype.loadViewFactory = function loadViewFactory(urlOrRegistryEntry, compileInstruction, loadContext, target) {\n      var _this10 = this;\n\n      loadContext = loadContext || new ResourceLoadContext();\n\n      return ensureRegistryEntry(this.loader, urlOrRegistryEntry).then(function (registryEntry) {\n        var url = registryEntry.address;\n\n        if (registryEntry.onReady) {\n          if (!loadContext.hasDependency(url)) {\n            loadContext.addDependency(url);\n            return registryEntry.onReady;\n          }\n\n          if (registryEntry.template === null) {\n            return registryEntry.onReady;\n          }\n\n          return Promise.resolve(new ProxyViewFactory(registryEntry.onReady));\n        }\n\n        loadContext.addDependency(url);\n\n        registryEntry.onReady = _this10.loadTemplateResources(registryEntry, compileInstruction, loadContext, target).then(function (resources) {\n          registryEntry.resources = resources;\n\n          if (registryEntry.template === null) {\n            return registryEntry.factory = null;\n          }\n\n          var viewFactory = _this10.viewCompiler.compile(registryEntry.template, resources, compileInstruction);\n          return registryEntry.factory = viewFactory;\n        });\n\n        return registryEntry.onReady;\n      });\n    };\n\n    ViewEngine.prototype.loadTemplateResources = function loadTemplateResources(registryEntry, compileInstruction, loadContext, target) {\n      var resources = new ViewResources(this.appResources, registryEntry.address);\n      var dependencies = registryEntry.dependencies;\n      var importIds = void 0;\n      var names = void 0;\n\n      compileInstruction = compileInstruction || ViewCompileInstruction.normal;\n\n      if (dependencies.length === 0 && !compileInstruction.associatedModuleId) {\n        return Promise.resolve(resources);\n      }\n\n      importIds = dependencies.map(function (x) {\n        return x.src;\n      });\n      names = dependencies.map(function (x) {\n        return x.name;\n      });\n      logger.debug('importing resources for ' + registryEntry.address, importIds);\n\n      if (target) {\n        var viewModelRequires = _aureliaMetadata.metadata.get(ViewEngine.viewModelRequireMetadataKey, target);\n        if (viewModelRequires) {\n          var templateImportCount = importIds.length;\n          for (var i = 0, ii = viewModelRequires.length; i < ii; ++i) {\n            var req = viewModelRequires[i];\n            var importId = typeof req === 'function' ? _aureliaMetadata.Origin.get(req).moduleId : (0, _aureliaPath.relativeToFile)(req.src || req, registryEntry.address);\n\n            if (importIds.indexOf(importId) === -1) {\n              importIds.push(importId);\n              names.push(req.as);\n            }\n          }\n          logger.debug('importing ViewModel resources for ' + compileInstruction.associatedModuleId, importIds.slice(templateImportCount));\n        }\n      }\n\n      return this.importViewResources(importIds, names, resources, compileInstruction, loadContext);\n    };\n\n    ViewEngine.prototype.importViewModelResource = function importViewModelResource(moduleImport, moduleMember) {\n      var _this11 = this;\n\n      return this.loader.loadModule(moduleImport).then(function (viewModelModule) {\n        var normalizedId = _aureliaMetadata.Origin.get(viewModelModule).moduleId;\n        var resourceModule = _this11.moduleAnalyzer.analyze(normalizedId, viewModelModule, moduleMember);\n\n        if (!resourceModule.mainResource) {\n          throw new Error('No view model found in module \"' + moduleImport + '\".');\n        }\n\n        resourceModule.initialize(_this11.container);\n\n        return resourceModule.mainResource;\n      });\n    };\n\n    ViewEngine.prototype.importViewResources = function importViewResources(moduleIds, names, resources, compileInstruction, loadContext) {\n      var _this12 = this;\n\n      loadContext = loadContext || new ResourceLoadContext();\n      compileInstruction = compileInstruction || ViewCompileInstruction.normal;\n\n      moduleIds = moduleIds.map(function (x) {\n        return _this12._applyLoaderPlugin(x);\n      });\n\n      return this.loader.loadAllModules(moduleIds).then(function (imports) {\n        var i = void 0;\n        var ii = void 0;\n        var analysis = void 0;\n        var normalizedId = void 0;\n        var current = void 0;\n        var associatedModule = void 0;\n        var container = _this12.container;\n        var moduleAnalyzer = _this12.moduleAnalyzer;\n        var allAnalysis = new Array(imports.length);\n\n        for (i = 0, ii = imports.length; i < ii; ++i) {\n          current = imports[i];\n          normalizedId = _aureliaMetadata.Origin.get(current).moduleId;\n\n          analysis = moduleAnalyzer.analyze(normalizedId, current);\n          analysis.initialize(container);\n          analysis.register(resources, names[i]);\n\n          allAnalysis[i] = analysis;\n        }\n\n        if (compileInstruction.associatedModuleId) {\n          associatedModule = moduleAnalyzer.getAnalysis(compileInstruction.associatedModuleId);\n\n          if (associatedModule) {\n            associatedModule.register(resources);\n          }\n        }\n\n        for (i = 0, ii = allAnalysis.length; i < ii; ++i) {\n          allAnalysis[i] = allAnalysis[i].load(container, loadContext);\n        }\n\n        return Promise.all(allAnalysis).then(function () {\n          return resources;\n        });\n      });\n    };\n\n    ViewEngine.prototype._applyLoaderPlugin = function _applyLoaderPlugin(id) {\n      var index = id.lastIndexOf('.');\n      if (index !== -1) {\n        var ext = id.substring(index);\n        var pluginName = this._pluginMap[ext];\n\n        if (pluginName === undefined) {\n          return id;\n        }\n\n        return this.loader.applyPluginToUrl(id, pluginName);\n      }\n\n      return id;\n    };\n\n    return ViewEngine;\n  }(), _class15.viewModelRequireMetadataKey = 'aurelia:view-model-require', _temp4)) || _class14);\n\n  var Controller = exports.Controller = function () {\n    function Controller(behavior, instruction, viewModel, container) {\n      \n\n      this.behavior = behavior;\n      this.instruction = instruction;\n      this.viewModel = viewModel;\n      this.isAttached = false;\n      this.view = null;\n      this.isBound = false;\n      this.scope = null;\n      this.container = container;\n      this.elementEvents = container.elementEvents || null;\n\n      var observerLookup = behavior.observerLocator.getOrCreateObserversLookup(viewModel);\n      var handlesBind = behavior.handlesBind;\n      var attributes = instruction.attributes;\n      var boundProperties = this.boundProperties = [];\n      var properties = behavior.properties;\n      var i = void 0;\n      var ii = void 0;\n\n      behavior._ensurePropertiesDefined(viewModel, observerLookup);\n\n      for (i = 0, ii = properties.length; i < ii; ++i) {\n        properties[i]._initialize(viewModel, observerLookup, attributes, handlesBind, boundProperties);\n      }\n    }\n\n    Controller.prototype.created = function created(owningView) {\n      if (this.behavior.handlesCreated) {\n        this.viewModel.created(owningView, this.view);\n      }\n    };\n\n    Controller.prototype.automate = function automate(overrideContext, owningView) {\n      this.view.bindingContext = this.viewModel;\n      this.view.overrideContext = overrideContext || (0, _aureliaBinding.createOverrideContext)(this.viewModel);\n      this.view._isUserControlled = true;\n\n      if (this.behavior.handlesCreated) {\n        this.viewModel.created(owningView || null, this.view);\n      }\n\n      this.bind(this.view);\n    };\n\n    Controller.prototype.bind = function bind(scope) {\n      var skipSelfSubscriber = this.behavior.handlesBind;\n      var boundProperties = this.boundProperties;\n      var i = void 0;\n      var ii = void 0;\n      var x = void 0;\n      var observer = void 0;\n      var selfSubscriber = void 0;\n\n      if (this.isBound) {\n        if (this.scope === scope) {\n          return;\n        }\n\n        this.unbind();\n      }\n\n      this.isBound = true;\n      this.scope = scope;\n\n      for (i = 0, ii = boundProperties.length; i < ii; ++i) {\n        x = boundProperties[i];\n        observer = x.observer;\n        selfSubscriber = observer.selfSubscriber;\n        observer.publishing = false;\n\n        if (skipSelfSubscriber) {\n          observer.selfSubscriber = null;\n        }\n\n        x.binding.bind(scope);\n        observer.call();\n\n        observer.publishing = true;\n        observer.selfSubscriber = selfSubscriber;\n      }\n\n      var overrideContext = void 0;\n      if (this.view !== null) {\n        if (skipSelfSubscriber) {\n          this.view.viewModelScope = scope;\n        }\n\n        if (this.viewModel === scope.overrideContext.bindingContext) {\n          overrideContext = scope.overrideContext;\n        } else if (this.instruction.inheritBindingContext) {\n          overrideContext = (0, _aureliaBinding.createOverrideContext)(this.viewModel, scope.overrideContext);\n        } else {\n          overrideContext = (0, _aureliaBinding.createOverrideContext)(this.viewModel);\n          overrideContext.__parentOverrideContext = scope.overrideContext;\n        }\n\n        this.view.bind(this.viewModel, overrideContext);\n      } else if (skipSelfSubscriber) {\n        overrideContext = scope.overrideContext;\n\n        if (scope.overrideContext.__parentOverrideContext !== undefined && this.viewModel.viewFactory && this.viewModel.viewFactory.factoryCreateInstruction.partReplacements) {\n          overrideContext = Object.assign({}, scope.overrideContext);\n          overrideContext.parentOverrideContext = scope.overrideContext.__parentOverrideContext;\n        }\n        this.viewModel.bind(scope.bindingContext, overrideContext);\n      }\n    };\n\n    Controller.prototype.unbind = function unbind() {\n      if (this.isBound) {\n        var _boundProperties = this.boundProperties;\n        var _i2 = void 0;\n        var _ii2 = void 0;\n\n        this.isBound = false;\n        this.scope = null;\n\n        if (this.view !== null) {\n          this.view.unbind();\n        }\n\n        if (this.behavior.handlesUnbind) {\n          this.viewModel.unbind();\n        }\n\n        if (this.elementEvents !== null) {\n          this.elementEvents.disposeAll();\n        }\n\n        for (_i2 = 0, _ii2 = _boundProperties.length; _i2 < _ii2; ++_i2) {\n          _boundProperties[_i2].binding.unbind();\n        }\n      }\n    };\n\n    Controller.prototype.attached = function attached() {\n      if (this.isAttached) {\n        return;\n      }\n\n      this.isAttached = true;\n\n      if (this.behavior.handlesAttached) {\n        this.viewModel.attached();\n      }\n\n      if (this.view !== null) {\n        this.view.attached();\n      }\n    };\n\n    Controller.prototype.detached = function detached() {\n      if (this.isAttached) {\n        this.isAttached = false;\n\n        if (this.view !== null) {\n          this.view.detached();\n        }\n\n        if (this.behavior.handlesDetached) {\n          this.viewModel.detached();\n        }\n      }\n    };\n\n    return Controller;\n  }();\n\n  var BehaviorPropertyObserver = exports.BehaviorPropertyObserver = (_dec9 = (0, _aureliaBinding.subscriberCollection)(), _dec9(_class16 = function () {\n    function BehaviorPropertyObserver(taskQueue, obj, propertyName, selfSubscriber, initialValue) {\n      \n\n      this.taskQueue = taskQueue;\n      this.obj = obj;\n      this.propertyName = propertyName;\n      this.notqueued = true;\n      this.publishing = false;\n      this.selfSubscriber = selfSubscriber;\n      this.currentValue = this.oldValue = initialValue;\n    }\n\n    BehaviorPropertyObserver.prototype.getValue = function getValue() {\n      return this.currentValue;\n    };\n\n    BehaviorPropertyObserver.prototype.setValue = function setValue(newValue) {\n      var oldValue = this.currentValue;\n\n      if (oldValue !== newValue) {\n        this.oldValue = oldValue;\n        this.currentValue = newValue;\n\n        if (this.publishing && this.notqueued) {\n          if (this.taskQueue.flushing) {\n            this.call();\n          } else {\n            this.notqueued = false;\n            this.taskQueue.queueMicroTask(this);\n          }\n        }\n      }\n    };\n\n    BehaviorPropertyObserver.prototype.call = function call() {\n      var oldValue = this.oldValue;\n      var newValue = this.currentValue;\n\n      this.notqueued = true;\n\n      if (newValue === oldValue) {\n        return;\n      }\n\n      if (this.selfSubscriber) {\n        this.selfSubscriber(newValue, oldValue);\n      }\n\n      this.callSubscribers(newValue, oldValue);\n      this.oldValue = newValue;\n    };\n\n    BehaviorPropertyObserver.prototype.subscribe = function subscribe(context, callable) {\n      this.addSubscriber(context, callable);\n    };\n\n    BehaviorPropertyObserver.prototype.unsubscribe = function unsubscribe(context, callable) {\n      this.removeSubscriber(context, callable);\n    };\n\n    return BehaviorPropertyObserver;\n  }()) || _class16);\n\n\n  function getObserver(instance, name) {\n    var lookup = instance.__observers__;\n\n    if (lookup === undefined) {\n      var ctor = Object.getPrototypeOf(instance).constructor;\n      var _behavior = _aureliaMetadata.metadata.get(_aureliaMetadata.metadata.resource, ctor);\n      if (!_behavior.isInitialized) {\n        _behavior.initialize(_aureliaDependencyInjection.Container.instance || new _aureliaDependencyInjection.Container(), instance.constructor);\n      }\n\n      lookup = _behavior.observerLocator.getOrCreateObserversLookup(instance);\n      _behavior._ensurePropertiesDefined(instance, lookup);\n    }\n\n    return lookup[name];\n  }\n\n  var BindableProperty = exports.BindableProperty = function () {\n    function BindableProperty(nameOrConfig) {\n      \n\n      if (typeof nameOrConfig === 'string') {\n        this.name = nameOrConfig;\n      } else {\n        Object.assign(this, nameOrConfig);\n      }\n\n      this.attribute = this.attribute || _hyphenate(this.name);\n      if (this.defaultBindingMode === null || this.defaultBindingMode === undefined) {\n        this.defaultBindingMode = _aureliaBinding.bindingMode.oneWay;\n      }\n      this.changeHandler = this.changeHandler || null;\n      this.owner = null;\n      this.descriptor = null;\n    }\n\n    BindableProperty.prototype.registerWith = function registerWith(target, behavior, descriptor) {\n      behavior.properties.push(this);\n      behavior.attributes[this.attribute] = this;\n      this.owner = behavior;\n\n      if (descriptor) {\n        this.descriptor = descriptor;\n        return this._configureDescriptor(descriptor);\n      }\n\n      return undefined;\n    };\n\n    BindableProperty.prototype._configureDescriptor = function _configureDescriptor(descriptor) {\n      var name = this.name;\n\n      descriptor.configurable = true;\n      descriptor.enumerable = true;\n\n      if ('initializer' in descriptor) {\n        this.defaultValue = descriptor.initializer;\n        delete descriptor.initializer;\n        delete descriptor.writable;\n      }\n\n      if ('value' in descriptor) {\n        this.defaultValue = descriptor.value;\n        delete descriptor.value;\n        delete descriptor.writable;\n      }\n\n      descriptor.get = function () {\n        return getObserver(this, name).getValue();\n      };\n\n      descriptor.set = function (value) {\n        getObserver(this, name).setValue(value);\n      };\n\n      descriptor.get.getObserver = function (obj) {\n        return getObserver(obj, name);\n      };\n\n      return descriptor;\n    };\n\n    BindableProperty.prototype.defineOn = function defineOn(target, behavior) {\n      var name = this.name;\n      var handlerName = void 0;\n\n      if (this.changeHandler === null) {\n        handlerName = name + 'Changed';\n        if (handlerName in target.prototype) {\n          this.changeHandler = handlerName;\n        }\n      }\n\n      if (this.descriptor === null) {\n        Object.defineProperty(target.prototype, name, this._configureDescriptor(behavior, {}));\n      }\n    };\n\n    BindableProperty.prototype.createObserver = function createObserver(viewModel) {\n      var selfSubscriber = null;\n      var defaultValue = this.defaultValue;\n      var changeHandlerName = this.changeHandler;\n      var name = this.name;\n      var initialValue = void 0;\n\n      if (this.hasOptions) {\n        return undefined;\n      }\n\n      if (changeHandlerName in viewModel) {\n        if ('propertyChanged' in viewModel) {\n          selfSubscriber = function selfSubscriber(newValue, oldValue) {\n            viewModel[changeHandlerName](newValue, oldValue);\n            viewModel.propertyChanged(name, newValue, oldValue);\n          };\n        } else {\n          selfSubscriber = function selfSubscriber(newValue, oldValue) {\n            return viewModel[changeHandlerName](newValue, oldValue);\n          };\n        }\n      } else if ('propertyChanged' in viewModel) {\n        selfSubscriber = function selfSubscriber(newValue, oldValue) {\n          return viewModel.propertyChanged(name, newValue, oldValue);\n        };\n      } else if (changeHandlerName !== null) {\n        throw new Error('Change handler ' + changeHandlerName + ' was specified but not declared on the class.');\n      }\n\n      if (defaultValue !== undefined) {\n        initialValue = typeof defaultValue === 'function' ? defaultValue.call(viewModel) : defaultValue;\n      }\n\n      return new BehaviorPropertyObserver(this.owner.taskQueue, viewModel, this.name, selfSubscriber, initialValue);\n    };\n\n    BindableProperty.prototype._initialize = function _initialize(viewModel, observerLookup, attributes, behaviorHandlesBind, boundProperties) {\n      var selfSubscriber = void 0;\n      var observer = void 0;\n      var attribute = void 0;\n      var defaultValue = this.defaultValue;\n\n      if (this.isDynamic) {\n        for (var key in attributes) {\n          this._createDynamicProperty(viewModel, observerLookup, behaviorHandlesBind, key, attributes[key], boundProperties);\n        }\n      } else if (!this.hasOptions) {\n        observer = observerLookup[this.name];\n\n        if (attributes !== null) {\n          selfSubscriber = observer.selfSubscriber;\n          attribute = attributes[this.attribute];\n\n          if (behaviorHandlesBind) {\n            observer.selfSubscriber = null;\n          }\n\n          if (typeof attribute === 'string') {\n            viewModel[this.name] = attribute;\n            observer.call();\n          } else if (attribute) {\n            boundProperties.push({ observer: observer, binding: attribute.createBinding(viewModel) });\n          } else if (defaultValue !== undefined) {\n            observer.call();\n          }\n\n          observer.selfSubscriber = selfSubscriber;\n        }\n\n        observer.publishing = true;\n      }\n    };\n\n    BindableProperty.prototype._createDynamicProperty = function _createDynamicProperty(viewModel, observerLookup, behaviorHandlesBind, name, attribute, boundProperties) {\n      var changeHandlerName = name + 'Changed';\n      var selfSubscriber = null;\n      var observer = void 0;\n      var info = void 0;\n\n      if (changeHandlerName in viewModel) {\n        if ('propertyChanged' in viewModel) {\n          selfSubscriber = function selfSubscriber(newValue, oldValue) {\n            viewModel[changeHandlerName](newValue, oldValue);\n            viewModel.propertyChanged(name, newValue, oldValue);\n          };\n        } else {\n          selfSubscriber = function selfSubscriber(newValue, oldValue) {\n            return viewModel[changeHandlerName](newValue, oldValue);\n          };\n        }\n      } else if ('propertyChanged' in viewModel) {\n        selfSubscriber = function selfSubscriber(newValue, oldValue) {\n          return viewModel.propertyChanged(name, newValue, oldValue);\n        };\n      }\n\n      observer = observerLookup[name] = new BehaviorPropertyObserver(this.owner.taskQueue, viewModel, name, selfSubscriber);\n\n      Object.defineProperty(viewModel, name, {\n        configurable: true,\n        enumerable: true,\n        get: observer.getValue.bind(observer),\n        set: observer.setValue.bind(observer)\n      });\n\n      if (behaviorHandlesBind) {\n        observer.selfSubscriber = null;\n      }\n\n      if (typeof attribute === 'string') {\n        viewModel[name] = attribute;\n        observer.call();\n      } else if (attribute) {\n        info = { observer: observer, binding: attribute.createBinding(viewModel) };\n        boundProperties.push(info);\n      }\n\n      observer.publishing = true;\n      observer.selfSubscriber = selfSubscriber;\n    };\n\n    return BindableProperty;\n  }();\n\n  var lastProviderId = 0;\n\n  function nextProviderId() {\n    return ++lastProviderId;\n  }\n\n  function doProcessContent() {\n    return true;\n  }\n  function doProcessAttributes() {}\n\n  var HtmlBehaviorResource = exports.HtmlBehaviorResource = function () {\n    function HtmlBehaviorResource() {\n      \n\n      this.elementName = null;\n      this.attributeName = null;\n      this.attributeDefaultBindingMode = undefined;\n      this.liftsContent = false;\n      this.targetShadowDOM = false;\n      this.shadowDOMOptions = null;\n      this.processAttributes = doProcessAttributes;\n      this.processContent = doProcessContent;\n      this.usesShadowDOM = false;\n      this.childBindings = null;\n      this.hasDynamicOptions = false;\n      this.containerless = false;\n      this.properties = [];\n      this.attributes = {};\n      this.isInitialized = false;\n      this.primaryProperty = null;\n    }\n\n    HtmlBehaviorResource.convention = function convention(name, existing) {\n      var behavior = void 0;\n\n      if (name.endsWith('CustomAttribute')) {\n        behavior = existing || new HtmlBehaviorResource();\n        behavior.attributeName = _hyphenate(name.substring(0, name.length - 15));\n      }\n\n      if (name.endsWith('CustomElement')) {\n        behavior = existing || new HtmlBehaviorResource();\n        behavior.elementName = _hyphenate(name.substring(0, name.length - 13));\n      }\n\n      return behavior;\n    };\n\n    HtmlBehaviorResource.prototype.addChildBinding = function addChildBinding(behavior) {\n      if (this.childBindings === null) {\n        this.childBindings = [];\n      }\n\n      this.childBindings.push(behavior);\n    };\n\n    HtmlBehaviorResource.prototype.initialize = function initialize(container, target) {\n      var proto = target.prototype;\n      var properties = this.properties;\n      var attributeName = this.attributeName;\n      var attributeDefaultBindingMode = this.attributeDefaultBindingMode;\n      var i = void 0;\n      var ii = void 0;\n      var current = void 0;\n\n      if (this.isInitialized) {\n        return;\n      }\n\n      this.isInitialized = true;\n      target.__providerId__ = nextProviderId();\n\n      this.observerLocator = container.get(_aureliaBinding.ObserverLocator);\n      this.taskQueue = container.get(_aureliaTaskQueue.TaskQueue);\n\n      this.target = target;\n      this.usesShadowDOM = this.targetShadowDOM && _aureliaPal.FEATURE.shadowDOM;\n      this.handlesCreated = 'created' in proto;\n      this.handlesBind = 'bind' in proto;\n      this.handlesUnbind = 'unbind' in proto;\n      this.handlesAttached = 'attached' in proto;\n      this.handlesDetached = 'detached' in proto;\n      this.htmlName = this.elementName || this.attributeName;\n\n      if (attributeName !== null) {\n        if (properties.length === 0) {\n          new BindableProperty({\n            name: 'value',\n            changeHandler: 'valueChanged' in proto ? 'valueChanged' : null,\n            attribute: attributeName,\n            defaultBindingMode: attributeDefaultBindingMode\n          }).registerWith(target, this);\n        }\n\n        current = properties[0];\n\n        if (properties.length === 1 && current.name === 'value') {\n          current.isDynamic = current.hasOptions = this.hasDynamicOptions;\n          current.defineOn(target, this);\n        } else {\n          for (i = 0, ii = properties.length; i < ii; ++i) {\n            properties[i].defineOn(target, this);\n            if (properties[i].primaryProperty) {\n              if (this.primaryProperty) {\n                throw new Error('Only one bindable property on a custom element can be defined as the default');\n              }\n              this.primaryProperty = properties[i];\n            }\n          }\n\n          current = new BindableProperty({\n            name: 'value',\n            changeHandler: 'valueChanged' in proto ? 'valueChanged' : null,\n            attribute: attributeName,\n            defaultBindingMode: attributeDefaultBindingMode\n          });\n\n          current.hasOptions = true;\n          current.registerWith(target, this);\n        }\n      } else {\n        for (i = 0, ii = properties.length; i < ii; ++i) {\n          properties[i].defineOn(target, this);\n        }\n\n        this._copyInheritedProperties(container, target);\n      }\n    };\n\n    HtmlBehaviorResource.prototype.register = function register(registry, name) {\n      var _this13 = this;\n\n      if (this.attributeName !== null) {\n        registry.registerAttribute(name || this.attributeName, this, this.attributeName);\n\n        if (Array.isArray(this.aliases)) {\n          this.aliases.forEach(function (alias) {\n            registry.registerAttribute(alias, _this13, _this13.attributeName);\n          });\n        }\n      }\n\n      if (this.elementName !== null) {\n        registry.registerElement(name || this.elementName, this);\n      }\n    };\n\n    HtmlBehaviorResource.prototype.load = function load(container, target, loadContext, viewStrategy, transientView) {\n      var _this14 = this;\n\n      var options = void 0;\n\n      if (this.elementName !== null) {\n        viewStrategy = container.get(ViewLocator).getViewStrategy(viewStrategy || this.viewStrategy || target);\n        options = new ViewCompileInstruction(this.targetShadowDOM, true);\n\n        if (!viewStrategy.moduleId) {\n          viewStrategy.moduleId = _aureliaMetadata.Origin.get(target).moduleId;\n        }\n\n        return viewStrategy.loadViewFactory(container.get(ViewEngine), options, loadContext, target).then(function (viewFactory) {\n          if (!transientView || !_this14.viewFactory) {\n            _this14.viewFactory = viewFactory;\n          }\n\n          return viewFactory;\n        });\n      }\n\n      return Promise.resolve(this);\n    };\n\n    HtmlBehaviorResource.prototype.compile = function compile(compiler, resources, node, instruction, parentNode) {\n      if (this.liftsContent) {\n        if (!instruction.viewFactory) {\n          var template = _aureliaPal.DOM.createElement('template');\n          var fragment = _aureliaPal.DOM.createDocumentFragment();\n          var cacheSize = node.getAttribute('view-cache');\n          var part = node.getAttribute('part');\n\n          node.removeAttribute(instruction.originalAttrName);\n          _aureliaPal.DOM.replaceNode(template, node, parentNode);\n          fragment.appendChild(node);\n          instruction.viewFactory = compiler.compile(fragment, resources);\n\n          if (part) {\n            instruction.viewFactory.part = part;\n            node.removeAttribute('part');\n          }\n\n          if (cacheSize) {\n            instruction.viewFactory.setCacheSize(cacheSize);\n            node.removeAttribute('view-cache');\n          }\n\n          node = template;\n        }\n      } else if (this.elementName !== null) {\n        var _partReplacements2 = {};\n\n        if (this.processContent(compiler, resources, node, instruction) && node.hasChildNodes()) {\n          var currentChild = node.firstChild;\n          var contentElement = this.usesShadowDOM ? null : _aureliaPal.DOM.createElement('au-content');\n          var nextSibling = void 0;\n          var toReplace = void 0;\n\n          while (currentChild) {\n            nextSibling = currentChild.nextSibling;\n\n            if (currentChild.tagName === 'TEMPLATE' && (toReplace = currentChild.getAttribute('replace-part'))) {\n              _partReplacements2[toReplace] = compiler.compile(currentChild, resources);\n              _aureliaPal.DOM.removeNode(currentChild, parentNode);\n              instruction.partReplacements = _partReplacements2;\n            } else if (contentElement !== null) {\n              if (currentChild.nodeType === 3 && _isAllWhitespace(currentChild)) {\n                _aureliaPal.DOM.removeNode(currentChild, parentNode);\n              } else {\n                contentElement.appendChild(currentChild);\n              }\n            }\n\n            currentChild = nextSibling;\n          }\n\n          if (contentElement !== null && contentElement.hasChildNodes()) {\n            node.appendChild(contentElement);\n          }\n\n          instruction.skipContentProcessing = false;\n        } else {\n          instruction.skipContentProcessing = true;\n        }\n      } else if (!this.processContent(compiler, resources, node, instruction)) {\n        instruction.skipContentProcessing = true;\n      }\n\n      return node;\n    };\n\n    HtmlBehaviorResource.prototype.create = function create(container, instruction, element, bindings) {\n      var viewHost = void 0;\n      var au = null;\n\n      instruction = instruction || BehaviorInstruction.normal;\n      element = element || null;\n      bindings = bindings || null;\n\n      if (this.elementName !== null && element) {\n        if (this.usesShadowDOM) {\n          viewHost = element.attachShadow(this.shadowDOMOptions);\n          container.registerInstance(_aureliaPal.DOM.boundary, viewHost);\n        } else {\n          viewHost = element;\n          if (this.targetShadowDOM) {\n            container.registerInstance(_aureliaPal.DOM.boundary, viewHost);\n          }\n        }\n      }\n\n      if (element !== null) {\n        element.au = au = element.au || {};\n      }\n\n      var viewModel = instruction.viewModel || container.get(this.target);\n      var controller = new Controller(this, instruction, viewModel, container);\n      var childBindings = this.childBindings;\n      var viewFactory = void 0;\n\n      if (this.liftsContent) {\n        au.controller = controller;\n      } else if (this.elementName !== null) {\n        viewFactory = instruction.viewFactory || this.viewFactory;\n        container.viewModel = viewModel;\n\n        if (viewFactory) {\n          controller.view = viewFactory.create(container, instruction, element);\n        }\n\n        if (element !== null) {\n          au.controller = controller;\n\n          if (controller.view) {\n            if (!this.usesShadowDOM && (element.childNodes.length === 1 || element.contentElement)) {\n              var contentElement = element.childNodes[0] || element.contentElement;\n              controller.view.contentView = { fragment: contentElement };\n              contentElement.parentNode && _aureliaPal.DOM.removeNode(contentElement);\n            }\n\n            if (instruction.anchorIsContainer) {\n              if (childBindings !== null) {\n                for (var _i3 = 0, _ii3 = childBindings.length; _i3 < _ii3; ++_i3) {\n                  controller.view.addBinding(childBindings[_i3].create(element, viewModel, controller));\n                }\n              }\n\n              controller.view.appendNodesTo(viewHost);\n            } else {\n              controller.view.insertNodesBefore(viewHost);\n            }\n          } else if (childBindings !== null) {\n            for (var _i4 = 0, _ii4 = childBindings.length; _i4 < _ii4; ++_i4) {\n              bindings.push(childBindings[_i4].create(element, viewModel, controller));\n            }\n          }\n        } else if (controller.view) {\n          controller.view.controller = controller;\n\n          if (childBindings !== null) {\n            for (var _i5 = 0, _ii5 = childBindings.length; _i5 < _ii5; ++_i5) {\n              controller.view.addBinding(childBindings[_i5].create(instruction.host, viewModel, controller));\n            }\n          }\n        } else if (childBindings !== null) {\n          for (var _i6 = 0, _ii6 = childBindings.length; _i6 < _ii6; ++_i6) {\n            bindings.push(childBindings[_i6].create(instruction.host, viewModel, controller));\n          }\n        }\n      } else if (childBindings !== null) {\n        for (var _i7 = 0, _ii7 = childBindings.length; _i7 < _ii7; ++_i7) {\n          bindings.push(childBindings[_i7].create(element, viewModel, controller));\n        }\n      }\n\n      if (au !== null) {\n        au[this.htmlName] = controller;\n      }\n\n      if (instruction.initiatedByBehavior && viewFactory) {\n        controller.view.created();\n      }\n\n      return controller;\n    };\n\n    HtmlBehaviorResource.prototype._ensurePropertiesDefined = function _ensurePropertiesDefined(instance, lookup) {\n      var properties = void 0;\n      var i = void 0;\n      var ii = void 0;\n      var observer = void 0;\n\n      if ('__propertiesDefined__' in lookup) {\n        return;\n      }\n\n      lookup.__propertiesDefined__ = true;\n      properties = this.properties;\n\n      for (i = 0, ii = properties.length; i < ii; ++i) {\n        observer = properties[i].createObserver(instance);\n\n        if (observer !== undefined) {\n          lookup[observer.propertyName] = observer;\n        }\n      }\n    };\n\n    HtmlBehaviorResource.prototype._copyInheritedProperties = function _copyInheritedProperties(container, target) {\n      var _this15 = this;\n\n      var behavior = void 0;\n      var derived = target;\n\n      while (true) {\n        var proto = Object.getPrototypeOf(target.prototype);\n        target = proto && proto.constructor;\n        if (!target) {\n          return;\n        }\n        behavior = _aureliaMetadata.metadata.getOwn(_aureliaMetadata.metadata.resource, target);\n        if (behavior) {\n          break;\n        }\n      }\n      behavior.initialize(container, target);\n\n      var _loop = function _loop(_i8, _ii8) {\n        var prop = behavior.properties[_i8];\n\n        if (_this15.properties.some(function (p) {\n          return p.name === prop.name;\n        })) {\n          return 'continue';\n        }\n\n        new BindableProperty(prop).registerWith(derived, _this15);\n      };\n\n      for (var _i8 = 0, _ii8 = behavior.properties.length; _i8 < _ii8; ++_i8) {\n        var _ret2 = _loop(_i8, _ii8);\n\n        if (_ret2 === 'continue') continue;\n      }\n    };\n\n    return HtmlBehaviorResource;\n  }();\n\n  function createChildObserverDecorator(selectorOrConfig, all) {\n    return function (target, key, descriptor) {\n      var actualTarget = typeof key === 'string' ? target.constructor : target;\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, actualTarget);\n\n      if (typeof selectorOrConfig === 'string') {\n        selectorOrConfig = {\n          selector: selectorOrConfig,\n          name: key\n        };\n      }\n\n      if (descriptor) {\n        descriptor.writable = true;\n        descriptor.configurable = true;\n      }\n\n      selectorOrConfig.all = all;\n      r.addChildBinding(new ChildObserver(selectorOrConfig));\n    };\n  }\n\n  function children(selectorOrConfig) {\n    return createChildObserverDecorator(selectorOrConfig, true);\n  }\n\n  function child(selectorOrConfig) {\n    return createChildObserverDecorator(selectorOrConfig, false);\n  }\n\n  var ChildObserver = function () {\n    function ChildObserver(config) {\n      \n\n      this.name = config.name;\n      this.changeHandler = config.changeHandler || this.name + 'Changed';\n      this.selector = config.selector;\n      this.all = config.all;\n    }\n\n    ChildObserver.prototype.create = function create(viewHost, viewModel, controller) {\n      return new ChildObserverBinder(this.selector, viewHost, this.name, viewModel, controller, this.changeHandler, this.all);\n    };\n\n    return ChildObserver;\n  }();\n\n  var noMutations = [];\n\n  function trackMutation(groupedMutations, binder, record) {\n    var mutations = groupedMutations.get(binder);\n\n    if (!mutations) {\n      mutations = [];\n      groupedMutations.set(binder, mutations);\n    }\n\n    mutations.push(record);\n  }\n\n  function onChildChange(mutations, observer) {\n    var binders = observer.binders;\n    var bindersLength = binders.length;\n    var groupedMutations = new Map();\n\n    for (var _i9 = 0, _ii9 = mutations.length; _i9 < _ii9; ++_i9) {\n      var record = mutations[_i9];\n      var added = record.addedNodes;\n      var removed = record.removedNodes;\n\n      for (var j = 0, jj = removed.length; j < jj; ++j) {\n        var node = removed[j];\n        if (node.nodeType === 1) {\n          for (var k = 0; k < bindersLength; ++k) {\n            var binder = binders[k];\n            if (binder.onRemove(node)) {\n              trackMutation(groupedMutations, binder, record);\n            }\n          }\n        }\n      }\n\n      for (var _j = 0, _jj = added.length; _j < _jj; ++_j) {\n        var _node = added[_j];\n        if (_node.nodeType === 1) {\n          for (var _k = 0; _k < bindersLength; ++_k) {\n            var _binder = binders[_k];\n            if (_binder.onAdd(_node)) {\n              trackMutation(groupedMutations, _binder, record);\n            }\n          }\n        }\n      }\n    }\n\n    groupedMutations.forEach(function (value, key) {\n      if (key.changeHandler !== null) {\n        key.viewModel[key.changeHandler](value);\n      }\n    });\n  }\n\n  var ChildObserverBinder = function () {\n    function ChildObserverBinder(selector, viewHost, property, viewModel, controller, changeHandler, all) {\n      \n\n      this.selector = selector;\n      this.viewHost = viewHost;\n      this.property = property;\n      this.viewModel = viewModel;\n      this.controller = controller;\n      this.changeHandler = changeHandler in viewModel ? changeHandler : null;\n      this.usesShadowDOM = controller.behavior.usesShadowDOM;\n      this.all = all;\n\n      if (!this.usesShadowDOM && controller.view && controller.view.contentView) {\n        this.contentView = controller.view.contentView;\n      } else {\n        this.contentView = null;\n      }\n    }\n\n    ChildObserverBinder.prototype.matches = function matches(element) {\n      if (element.matches(this.selector)) {\n        if (this.contentView === null) {\n          return true;\n        }\n\n        var contentView = this.contentView;\n        var assignedSlot = element.auAssignedSlot;\n\n        if (assignedSlot && assignedSlot.projectFromAnchors) {\n          var anchors = assignedSlot.projectFromAnchors;\n\n          for (var _i10 = 0, _ii10 = anchors.length; _i10 < _ii10; ++_i10) {\n            if (anchors[_i10].auOwnerView === contentView) {\n              return true;\n            }\n          }\n\n          return false;\n        }\n\n        return element.auOwnerView === contentView;\n      }\n\n      return false;\n    };\n\n    ChildObserverBinder.prototype.bind = function bind(source) {\n      var viewHost = this.viewHost;\n      var viewModel = this.viewModel;\n      var observer = viewHost.__childObserver__;\n\n      if (!observer) {\n        observer = viewHost.__childObserver__ = _aureliaPal.DOM.createMutationObserver(onChildChange);\n\n        var options = {\n          childList: true,\n          subtree: !this.usesShadowDOM\n        };\n\n        observer.observe(viewHost, options);\n        observer.binders = [];\n      }\n\n      observer.binders.push(this);\n\n      if (this.usesShadowDOM) {\n        var current = viewHost.firstElementChild;\n\n        if (this.all) {\n          var items = viewModel[this.property];\n          if (!items) {\n            items = viewModel[this.property] = [];\n          } else {\n            items.length = 0;\n          }\n\n          while (current) {\n            if (this.matches(current)) {\n              items.push(current.au && current.au.controller ? current.au.controller.viewModel : current);\n            }\n\n            current = current.nextElementSibling;\n          }\n\n          if (this.changeHandler !== null) {\n            this.viewModel[this.changeHandler](noMutations);\n          }\n        } else {\n          while (current) {\n            if (this.matches(current)) {\n              var value = current.au && current.au.controller ? current.au.controller.viewModel : current;\n              this.viewModel[this.property] = value;\n\n              if (this.changeHandler !== null) {\n                this.viewModel[this.changeHandler](value);\n              }\n\n              break;\n            }\n\n            current = current.nextElementSibling;\n          }\n        }\n      }\n    };\n\n    ChildObserverBinder.prototype.onRemove = function onRemove(element) {\n      if (this.matches(element)) {\n        var value = element.au && element.au.controller ? element.au.controller.viewModel : element;\n\n        if (this.all) {\n          var items = this.viewModel[this.property] || (this.viewModel[this.property] = []);\n          var index = items.indexOf(value);\n\n          if (index !== -1) {\n            items.splice(index, 1);\n          }\n\n          return true;\n        }\n\n        return false;\n      }\n\n      return false;\n    };\n\n    ChildObserverBinder.prototype.onAdd = function onAdd(element) {\n      if (this.matches(element)) {\n        var value = element.au && element.au.controller ? element.au.controller.viewModel : element;\n\n        if (this.all) {\n          var items = this.viewModel[this.property] || (this.viewModel[this.property] = []);\n          var index = 0;\n          var prev = element.previousElementSibling;\n\n          while (prev) {\n            if (this.matches(prev)) {\n              index++;\n            }\n\n            prev = prev.previousElementSibling;\n          }\n\n          items.splice(index, 0, value);\n          return true;\n        }\n\n        this.viewModel[this.property] = value;\n\n        if (this.changeHandler !== null) {\n          this.viewModel[this.changeHandler](value);\n        }\n      }\n\n      return false;\n    };\n\n    ChildObserverBinder.prototype.unbind = function unbind() {\n      if (this.viewHost.__childObserver__) {\n        this.viewHost.__childObserver__.disconnect();\n        this.viewHost.__childObserver__ = null;\n      }\n    };\n\n    return ChildObserverBinder;\n  }();\n\n  function remove(viewSlot, previous) {\n    return Array.isArray(previous) ? viewSlot.removeMany(previous, true) : viewSlot.remove(previous, true);\n  }\n\n  var SwapStrategies = exports.SwapStrategies = {\n    before: function before(viewSlot, previous, callback) {\n      return previous === undefined ? callback() : callback().then(function () {\n        return remove(viewSlot, previous);\n      });\n    },\n    with: function _with(viewSlot, previous, callback) {\n      return previous === undefined ? callback() : Promise.all([remove(viewSlot, previous), callback()]);\n    },\n    after: function after(viewSlot, previous, callback) {\n      return Promise.resolve(viewSlot.removeAll(true)).then(callback);\n    }\n  };\n\n  function tryActivateViewModel(context) {\n    if (context.skipActivation || typeof context.viewModel.activate !== 'function') {\n      return Promise.resolve();\n    }\n\n    return context.viewModel.activate(context.model) || Promise.resolve();\n  }\n\n  var CompositionEngine = exports.CompositionEngine = (_dec10 = (0, _aureliaDependencyInjection.inject)(ViewEngine, ViewLocator), _dec10(_class17 = function () {\n    function CompositionEngine(viewEngine, viewLocator) {\n      \n\n      this.viewEngine = viewEngine;\n      this.viewLocator = viewLocator;\n    }\n\n    CompositionEngine.prototype._swap = function _swap(context, view) {\n      var swapStrategy = SwapStrategies[context.swapOrder] || SwapStrategies.after;\n      var previousViews = context.viewSlot.children.slice();\n\n      return swapStrategy(context.viewSlot, previousViews, function () {\n        return Promise.resolve(context.viewSlot.add(view)).then(function () {\n          if (context.currentController) {\n            context.currentController.unbind();\n          }\n        });\n      }).then(function () {\n        if (context.compositionTransactionNotifier) {\n          context.compositionTransactionNotifier.done();\n        }\n      });\n    };\n\n    CompositionEngine.prototype._createControllerAndSwap = function _createControllerAndSwap(context) {\n      var _this16 = this;\n\n      return this.createController(context).then(function (controller) {\n        controller.automate(context.overrideContext, context.owningView);\n\n        if (context.compositionTransactionOwnershipToken) {\n          return context.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function () {\n            return _this16._swap(context, controller.view);\n          }).then(function () {\n            return controller;\n          });\n        }\n\n        return _this16._swap(context, controller.view).then(function () {\n          return controller;\n        });\n      });\n    };\n\n    CompositionEngine.prototype.createController = function createController(context) {\n      var _this17 = this;\n\n      var childContainer = void 0;\n      var viewModel = void 0;\n      var viewModelResource = void 0;\n      var m = void 0;\n\n      return this.ensureViewModel(context).then(tryActivateViewModel).then(function () {\n        childContainer = context.childContainer;\n        viewModel = context.viewModel;\n        viewModelResource = context.viewModelResource;\n        m = viewModelResource.metadata;\n\n        var viewStrategy = _this17.viewLocator.getViewStrategy(context.view || viewModel);\n\n        if (context.viewResources) {\n          viewStrategy.makeRelativeTo(context.viewResources.viewUrl);\n        }\n\n        return m.load(childContainer, viewModelResource.value, null, viewStrategy, true);\n      }).then(function (viewFactory) {\n        return m.create(childContainer, BehaviorInstruction.dynamic(context.host, viewModel, viewFactory));\n      });\n    };\n\n    CompositionEngine.prototype.ensureViewModel = function ensureViewModel(context) {\n      var childContainer = context.childContainer = context.childContainer || context.container.createChild();\n\n      if (typeof context.viewModel === 'string') {\n        context.viewModel = context.viewResources ? context.viewResources.relativeToView(context.viewModel) : context.viewModel;\n\n        return this.viewEngine.importViewModelResource(context.viewModel).then(function (viewModelResource) {\n          childContainer.autoRegister(viewModelResource.value);\n\n          if (context.host) {\n            childContainer.registerInstance(_aureliaPal.DOM.Element, context.host);\n          }\n\n          context.viewModel = childContainer.viewModel = childContainer.get(viewModelResource.value);\n          context.viewModelResource = viewModelResource;\n          return context;\n        });\n      }\n\n      var m = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, context.viewModel.constructor);\n      m.elementName = m.elementName || 'dynamic-element';\n      m.initialize(context.container || childContainer, context.viewModel.constructor);\n      context.viewModelResource = { metadata: m, value: context.viewModel.constructor };\n      childContainer.viewModel = context.viewModel;\n      return Promise.resolve(context);\n    };\n\n    CompositionEngine.prototype.compose = function compose(context) {\n      var _this18 = this;\n\n      context.childContainer = context.childContainer || context.container.createChild();\n      context.view = this.viewLocator.getViewStrategy(context.view);\n\n      var transaction = context.childContainer.get(CompositionTransaction);\n      var compositionTransactionOwnershipToken = transaction.tryCapture();\n\n      if (compositionTransactionOwnershipToken) {\n        context.compositionTransactionOwnershipToken = compositionTransactionOwnershipToken;\n      } else {\n        context.compositionTransactionNotifier = transaction.enlist();\n      }\n\n      if (context.viewModel) {\n        return this._createControllerAndSwap(context);\n      } else if (context.view) {\n        if (context.viewResources) {\n          context.view.makeRelativeTo(context.viewResources.viewUrl);\n        }\n\n        return context.view.loadViewFactory(this.viewEngine, new ViewCompileInstruction()).then(function (viewFactory) {\n          var result = viewFactory.create(context.childContainer);\n          result.bind(context.bindingContext, context.overrideContext);\n\n          if (context.compositionTransactionOwnershipToken) {\n            return context.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function () {\n              return _this18._swap(context, result);\n            }).then(function () {\n              return result;\n            });\n          }\n\n          return _this18._swap(context, result).then(function () {\n            return result;\n          });\n        });\n      } else if (context.viewSlot) {\n        context.viewSlot.removeAll();\n\n        if (context.compositionTransactionNotifier) {\n          context.compositionTransactionNotifier.done();\n        }\n\n        return Promise.resolve(null);\n      }\n\n      return Promise.resolve(null);\n    };\n\n    return CompositionEngine;\n  }()) || _class17);\n\n  var ElementConfigResource = exports.ElementConfigResource = function () {\n    function ElementConfigResource() {\n      \n    }\n\n    ElementConfigResource.prototype.initialize = function initialize(container, target) {};\n\n    ElementConfigResource.prototype.register = function register(registry, name) {};\n\n    ElementConfigResource.prototype.load = function load(container, target) {\n      var config = new target();\n      var eventManager = container.get(_aureliaBinding.EventManager);\n      eventManager.registerElementConfig(config);\n    };\n\n    return ElementConfigResource;\n  }();\n\n  function validateBehaviorName(name, type) {\n    if (/[A-Z]/.test(name)) {\n      var newName = _hyphenate(name);\n      LogManager.getLogger('templating').warn('\\'' + name + '\\' is not a valid ' + type + ' name and has been converted to \\'' + newName + '\\'. Upper-case letters are not allowed because the DOM is not case-sensitive.');\n      return newName;\n    }\n    return name;\n  }\n\n  function resource(instance) {\n    return function (target) {\n      _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, instance, target);\n    };\n  }\n\n  function behavior(override) {\n    return function (target) {\n      if (override instanceof HtmlBehaviorResource) {\n        _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, override, target);\n      } else {\n        var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, target);\n        Object.assign(r, override);\n      }\n    };\n  }\n\n  function customElement(name) {\n    return function (target) {\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, target);\n      r.elementName = validateBehaviorName(name, 'custom element');\n    };\n  }\n\n  function customAttribute(name, defaultBindingMode, aliases) {\n    return function (target) {\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, target);\n      r.attributeName = validateBehaviorName(name, 'custom attribute');\n      r.attributeDefaultBindingMode = defaultBindingMode;\n      r.aliases = aliases;\n    };\n  }\n\n  function templateController(target) {\n    var deco = function deco(t) {\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, t);\n      r.liftsContent = true;\n    };\n\n    return target ? deco(target) : deco;\n  }\n\n  function bindable(nameOrConfigOrTarget, key, descriptor) {\n    var deco = function deco(target, key2, descriptor2) {\n      var actualTarget = key2 ? target.constructor : target;\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, actualTarget);\n      var prop = void 0;\n\n      if (key2) {\n        nameOrConfigOrTarget = nameOrConfigOrTarget || {};\n        nameOrConfigOrTarget.name = key2;\n      }\n\n      prop = new BindableProperty(nameOrConfigOrTarget);\n      return prop.registerWith(actualTarget, r, descriptor2);\n    };\n\n    if (!nameOrConfigOrTarget) {\n      return deco;\n    }\n\n    if (key) {\n      var _target = nameOrConfigOrTarget;\n      nameOrConfigOrTarget = null;\n      return deco(_target, key, descriptor);\n    }\n\n    return deco;\n  }\n\n  function dynamicOptions(target) {\n    var deco = function deco(t) {\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, t);\n      r.hasDynamicOptions = true;\n    };\n\n    return target ? deco(target) : deco;\n  }\n\n  var defaultShadowDOMOptions = { mode: 'open' };\n  function useShadowDOM(targetOrOptions) {\n    var options = typeof targetOrOptions === 'function' || !targetOrOptions ? defaultShadowDOMOptions : targetOrOptions;\n\n    var deco = function deco(t) {\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, t);\n      r.targetShadowDOM = true;\n      r.shadowDOMOptions = options;\n    };\n\n    return typeof targetOrOptions === 'function' ? deco(targetOrOptions) : deco;\n  }\n\n  function processAttributes(processor) {\n    return function (t) {\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, t);\n      r.processAttributes = function (compiler, resources, node, attributes, elementInstruction) {\n        try {\n          processor(compiler, resources, node, attributes, elementInstruction);\n        } catch (error) {\n          LogManager.getLogger('templating').error(error);\n        }\n      };\n    };\n  }\n\n  function doNotProcessContent() {\n    return false;\n  }\n\n  function processContent(processor) {\n    return function (t) {\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, t);\n      r.processContent = processor ? function (compiler, resources, node, instruction) {\n        try {\n          return processor(compiler, resources, node, instruction);\n        } catch (error) {\n          LogManager.getLogger('templating').error(error);\n          return false;\n        }\n      } : doNotProcessContent;\n    };\n  }\n\n  function containerless(target) {\n    var deco = function deco(t) {\n      var r = _aureliaMetadata.metadata.getOrCreateOwn(_aureliaMetadata.metadata.resource, HtmlBehaviorResource, t);\n      r.containerless = true;\n    };\n\n    return target ? deco(target) : deco;\n  }\n\n  function useViewStrategy(strategy) {\n    return function (target) {\n      _aureliaMetadata.metadata.define(ViewLocator.viewStrategyMetadataKey, strategy, target);\n    };\n  }\n\n  function useView(path) {\n    return useViewStrategy(new RelativeViewStrategy(path));\n  }\n\n  function inlineView(markup, dependencies, dependencyBaseUrl) {\n    return useViewStrategy(new InlineViewStrategy(markup, dependencies, dependencyBaseUrl));\n  }\n\n  function noView(targetOrDependencies, dependencyBaseUrl) {\n    var target = void 0;\n    var dependencies = void 0;\n    if (typeof targetOrDependencies === 'function') {\n      target = targetOrDependencies;\n    } else {\n      dependencies = targetOrDependencies;\n      target = undefined;\n    }\n\n    var deco = function deco(t) {\n      _aureliaMetadata.metadata.define(ViewLocator.viewStrategyMetadataKey, new NoViewStrategy(dependencies, dependencyBaseUrl), t);\n    };\n\n    return target ? deco(target) : deco;\n  }\n\n  function elementConfig(target) {\n    var deco = function deco(t) {\n      _aureliaMetadata.metadata.define(_aureliaMetadata.metadata.resource, new ElementConfigResource(), t);\n    };\n\n    return target ? deco(target) : deco;\n  }\n\n  function viewResources() {\n    for (var _len = arguments.length, resources = Array(_len), _key = 0; _key < _len; _key++) {\n      resources[_key] = arguments[_key];\n    }\n\n    return function (target) {\n      _aureliaMetadata.metadata.define(ViewEngine.viewModelRequireMetadataKey, resources, target);\n    };\n  }\n\n  var TemplatingEngine = exports.TemplatingEngine = (_dec11 = (0, _aureliaDependencyInjection.inject)(_aureliaDependencyInjection.Container, ModuleAnalyzer, ViewCompiler, CompositionEngine), _dec11(_class18 = function () {\n    function TemplatingEngine(container, moduleAnalyzer, viewCompiler, compositionEngine) {\n      \n\n      this._container = container;\n      this._moduleAnalyzer = moduleAnalyzer;\n      this._viewCompiler = viewCompiler;\n      this._compositionEngine = compositionEngine;\n      container.registerInstance(Animator, Animator.instance = new Animator());\n    }\n\n    TemplatingEngine.prototype.configureAnimator = function configureAnimator(animator) {\n      this._container.unregister(Animator);\n      this._container.registerInstance(Animator, Animator.instance = animator);\n    };\n\n    TemplatingEngine.prototype.compose = function compose(context) {\n      return this._compositionEngine.compose(context);\n    };\n\n    TemplatingEngine.prototype.enhance = function enhance(instruction) {\n      if (instruction instanceof _aureliaPal.DOM.Element) {\n        instruction = { element: instruction };\n      }\n\n      var compilerInstructions = {};\n      var resources = instruction.resources || this._container.get(ViewResources);\n\n      this._viewCompiler._compileNode(instruction.element, resources, compilerInstructions, instruction.element.parentNode, 'root', true);\n\n      var factory = new ViewFactory(instruction.element, compilerInstructions, resources);\n      var container = instruction.container || this._container.createChild();\n      var view = factory.create(container, BehaviorInstruction.enhance());\n\n      view.bind(instruction.bindingContext || {}, instruction.overrideContext);\n\n      view.firstChild = view.lastChild = view.fragment;\n      view.fragment = _aureliaPal.DOM.createDocumentFragment();\n      view.attached();\n\n      return view;\n    };\n\n    return TemplatingEngine;\n  }()) || _class18);\n});\r\ndefine('aurelia-templating-resources/compose',['exports', 'aurelia-dependency-injection', 'aurelia-logging', 'aurelia-task-queue', 'aurelia-templating', 'aurelia-pal'], function (exports, _aureliaDependencyInjection, _aureliaLogging, _aureliaTaskQueue, _aureliaTemplating, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Compose = undefined;\n\n  var LogManager = _interopRequireWildcard(_aureliaLogging);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _initDefineProp(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n    });\n  }\n\n  \n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n  }\n\n  var _dec, _dec2, _class, _desc, _value, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n\n  var logger = LogManager.getLogger('templating-resources');\n\n  var Compose = exports.Compose = (_dec = (0, _aureliaTemplating.customElement)('compose'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaPal.DOM.Element, _aureliaDependencyInjection.Container, _aureliaTemplating.CompositionEngine, _aureliaTemplating.ViewSlot, _aureliaTemplating.ViewResources, _aureliaTaskQueue.TaskQueue), _dec(_class = (0, _aureliaTemplating.noView)(_class = _dec2(_class = (_class2 = function () {\n    function Compose(element, container, compositionEngine, viewSlot, viewResources, taskQueue) {\n      \n\n      _initDefineProp(this, 'model', _descriptor, this);\n\n      _initDefineProp(this, 'view', _descriptor2, this);\n\n      _initDefineProp(this, 'viewModel', _descriptor3, this);\n\n      _initDefineProp(this, 'swapOrder', _descriptor4, this);\n\n      this.element = element;\n      this.container = container;\n      this.compositionEngine = compositionEngine;\n      this.viewSlot = viewSlot;\n      this.viewResources = viewResources;\n      this.taskQueue = taskQueue;\n      this.currentController = null;\n      this.currentViewModel = null;\n      this.changes = Object.create(null);\n    }\n\n    Compose.prototype.created = function created(owningView) {\n      this.owningView = owningView;\n    };\n\n    Compose.prototype.bind = function bind(bindingContext, overrideContext) {\n      this.bindingContext = bindingContext;\n      this.overrideContext = overrideContext;\n      this.changes.view = this.view;\n      this.changes.viewModel = this.viewModel;\n      this.changes.model = this.model;\n      processChanges(this);\n    };\n\n    Compose.prototype.unbind = function unbind() {\n      this.changes = Object.create(null);\n      this.pendingTask = null;\n      this.bindingContext = null;\n      this.overrideContext = null;\n      var returnToCache = true;\n      var skipAnimation = true;\n      this.viewSlot.removeAll(returnToCache, skipAnimation);\n    };\n\n    Compose.prototype.modelChanged = function modelChanged(newValue, oldValue) {\n      this.changes.model = newValue;\n      requestUpdate(this);\n    };\n\n    Compose.prototype.viewChanged = function viewChanged(newValue, oldValue) {\n      this.changes.view = newValue;\n      requestUpdate(this);\n    };\n\n    Compose.prototype.viewModelChanged = function viewModelChanged(newValue, oldValue) {\n      this.changes.viewModel = newValue;\n      requestUpdate(this);\n    };\n\n    return Compose;\n  }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, 'model', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, 'view', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, 'viewModel', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, 'swapOrder', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  })), _class2)) || _class) || _class) || _class);\n\n\n  function isEmpty(obj) {\n    for (var key in obj) {\n      return false;\n    }\n    return true;\n  }\n\n  function tryActivateViewModel(vm, model) {\n    if (vm && typeof vm.activate === 'function') {\n      return Promise.resolve(vm.activate(model));\n    }\n  }\n\n  function createInstruction(composer, instruction) {\n    return Object.assign(instruction, {\n      bindingContext: composer.bindingContext,\n      overrideContext: composer.overrideContext,\n      owningView: composer.owningView,\n      container: composer.container,\n      viewSlot: composer.viewSlot,\n      viewResources: composer.viewResources,\n      currentController: composer.currentController,\n      host: composer.element,\n      swapOrder: composer.swapOrder\n    });\n  }\n\n  function processChanges(composer) {\n    var changes = composer.changes;\n    composer.changes = Object.create(null);\n\n    if (!('view' in changes) && !('viewModel' in changes) && 'model' in changes) {\n      composer.pendingTask = tryActivateViewModel(composer.currentViewModel, changes.model);\n      if (!composer.pendingTask) {\n        return;\n      }\n    } else {\n      var instruction = {\n        view: composer.view,\n        viewModel: composer.currentViewModel || composer.viewModel,\n        model: composer.model\n      };\n\n      instruction = Object.assign(instruction, changes);\n\n      instruction = createInstruction(composer, instruction);\n      composer.pendingTask = composer.compositionEngine.compose(instruction).then(function (controller) {\n        composer.currentController = controller;\n        composer.currentViewModel = controller ? controller.viewModel : null;\n      });\n    }\n\n    composer.pendingTask = composer.pendingTask.catch(function (e) {\n      logger.error(e);\n    }).then(function () {\n      if (!composer.pendingTask) {\n        return;\n      }\n\n      composer.pendingTask = null;\n      if (!isEmpty(composer.changes)) {\n        processChanges(composer);\n      }\n    });\n  }\n\n  function requestUpdate(composer) {\n    if (composer.pendingTask || composer.updateRequested) {\n      return;\n    }\n    composer.updateRequested = true;\n    composer.taskQueue.queueMicroTask(function () {\n      composer.updateRequested = false;\n      processChanges(composer);\n    });\n  }\n});\r\ndefine('aurelia-templating-resources/if',['exports', 'aurelia-templating', 'aurelia-dependency-injection', './if-core'], function (exports, _aureliaTemplating, _aureliaDependencyInjection, _ifCore) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.If = undefined;\n\n  function _initDefineProp(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n    });\n  }\n\n  \n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n  }\n\n  var _dec, _dec2, _dec3, _class, _desc, _value, _class2, _descriptor, _descriptor2;\n\n  var If = exports.If = (_dec = (0, _aureliaTemplating.customAttribute)('if'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaTemplating.BoundViewFactory, _aureliaTemplating.ViewSlot), _dec3 = (0, _aureliaTemplating.bindable)({ primaryProperty: true }), _dec(_class = (0, _aureliaTemplating.templateController)(_class = _dec2(_class = (_class2 = function (_IfCore) {\n    _inherits(If, _IfCore);\n\n    function If() {\n      var _temp, _this, _ret;\n\n      \n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _IfCore.call.apply(_IfCore, [this].concat(args))), _this), _initDefineProp(_this, 'condition', _descriptor, _this), _initDefineProp(_this, 'swapOrder', _descriptor2, _this), _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    If.prototype.bind = function bind(bindingContext, overrideContext) {\n      _IfCore.prototype.bind.call(this, bindingContext, overrideContext);\n      if (this.condition) {\n        this._show();\n      } else {\n        this._hide();\n      }\n    };\n\n    If.prototype.conditionChanged = function conditionChanged(newValue) {\n      this._update(newValue);\n    };\n\n    If.prototype._update = function _update(show) {\n      var _this2 = this;\n\n      if (this.animating) {\n        return;\n      }\n\n      var promise = void 0;\n      if (this.elseVm) {\n        promise = show ? this._swap(this.elseVm, this) : this._swap(this, this.elseVm);\n      } else {\n        promise = show ? this._show() : this._hide();\n      }\n\n      if (promise) {\n        this.animating = true;\n        promise.then(function () {\n          _this2.animating = false;\n          if (_this2.condition !== _this2.showing) {\n            _this2._update(_this2.condition);\n          }\n        });\n      }\n    };\n\n    If.prototype._swap = function _swap(remove, add) {\n      switch (this.swapOrder) {\n        case 'before':\n          return Promise.resolve(add._show()).then(function () {\n            return remove._hide();\n          });\n        case 'with':\n          return Promise.all([remove._hide(), add._show()]);\n        default:\n          var promise = remove._hide();\n          return promise ? promise.then(function () {\n            return add._show();\n          }) : add._show();\n      }\n    };\n\n    return If;\n  }(_ifCore.IfCore), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, 'condition', [_dec3], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, 'swapOrder', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  })), _class2)) || _class) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/if-core',[\"exports\"], function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  \n\n  var IfCore = exports.IfCore = function () {\n    function IfCore(viewFactory, viewSlot) {\n      \n\n      this.viewFactory = viewFactory;\n      this.viewSlot = viewSlot;\n      this.view = null;\n      this.bindingContext = null;\n      this.overrideContext = null;\n\n      this.showing = false;\n    }\n\n    IfCore.prototype.bind = function bind(bindingContext, overrideContext) {\n      this.bindingContext = bindingContext;\n      this.overrideContext = overrideContext;\n    };\n\n    IfCore.prototype.unbind = function unbind() {\n      if (this.view === null) {\n        return;\n      }\n\n      this.view.unbind();\n\n      if (!this.viewFactory.isCaching) {\n        return;\n      }\n\n      if (this.showing) {\n        this.showing = false;\n        this.viewSlot.remove(this.view, true, true);\n      } else {\n        this.view.returnToCache();\n      }\n\n      this.view = null;\n    };\n\n    IfCore.prototype._show = function _show() {\n      if (this.showing) {\n        if (!this.view.isBound) {\n          this.view.bind(this.bindingContext, this.overrideContext);\n        }\n        return;\n      }\n\n      if (this.view === null) {\n        this.view = this.viewFactory.create();\n      }\n\n      if (!this.view.isBound) {\n        this.view.bind(this.bindingContext, this.overrideContext);\n      }\n\n      this.showing = true;\n      return this.viewSlot.add(this.view);\n    };\n\n    IfCore.prototype._hide = function _hide() {\n      var _this = this;\n\n      if (!this.showing) {\n        return;\n      }\n\n      this.showing = false;\n      var removed = this.viewSlot.remove(this.view);\n\n      if (removed instanceof Promise) {\n        return removed.then(function () {\n          return _this.view.unbind();\n        });\n      }\n\n      this.view.unbind();\n    };\n\n    return IfCore;\n  }();\n});\r\ndefine('aurelia-templating-resources/else',['exports', 'aurelia-templating', 'aurelia-dependency-injection', './if-core'], function (exports, _aureliaTemplating, _aureliaDependencyInjection, _ifCore) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Else = undefined;\n\n  \n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var _dec, _dec2, _class;\n\n  var Else = exports.Else = (_dec = (0, _aureliaTemplating.customAttribute)('else'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaTemplating.BoundViewFactory, _aureliaTemplating.ViewSlot), _dec(_class = (0, _aureliaTemplating.templateController)(_class = _dec2(_class = function (_IfCore) {\n    _inherits(Else, _IfCore);\n\n    function Else(viewFactory, viewSlot) {\n      \n\n      var _this = _possibleConstructorReturn(this, _IfCore.call(this, viewFactory, viewSlot));\n\n      _this._registerInIf();\n      return _this;\n    }\n\n    Else.prototype.bind = function bind(bindingContext, overrideContext) {\n      _IfCore.prototype.bind.call(this, bindingContext, overrideContext);\n\n      if (this.ifVm.condition) {\n        this._hide();\n      } else {\n        this._show();\n      }\n    };\n\n    Else.prototype._registerInIf = function _registerInIf() {\n      var previous = this.viewSlot.anchor.previousSibling;\n      while (previous && !previous.au) {\n        previous = previous.previousSibling;\n      }\n      if (!previous || !previous.au.if) {\n        throw new Error(\"Can't find matching If for Else custom attribute.\");\n      }\n      this.ifVm = previous.au.if.viewModel;\n      this.ifVm.elseVm = this;\n    };\n\n    return Else;\n  }(_ifCore.IfCore)) || _class) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/with',['exports', 'aurelia-dependency-injection', 'aurelia-templating', 'aurelia-binding'], function (exports, _aureliaDependencyInjection, _aureliaTemplating, _aureliaBinding) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.With = undefined;\n\n  \n\n  var _dec, _dec2, _class;\n\n  var With = exports.With = (_dec = (0, _aureliaTemplating.customAttribute)('with'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaTemplating.BoundViewFactory, _aureliaTemplating.ViewSlot), _dec(_class = (0, _aureliaTemplating.templateController)(_class = _dec2(_class = function () {\n    function With(viewFactory, viewSlot) {\n      \n\n      this.viewFactory = viewFactory;\n      this.viewSlot = viewSlot;\n      this.parentOverrideContext = null;\n      this.view = null;\n    }\n\n    With.prototype.bind = function bind(bindingContext, overrideContext) {\n      this.parentOverrideContext = overrideContext;\n      this.valueChanged(this.value);\n    };\n\n    With.prototype.valueChanged = function valueChanged(newValue) {\n      var overrideContext = (0, _aureliaBinding.createOverrideContext)(newValue, this.parentOverrideContext);\n      if (!this.view) {\n        this.view = this.viewFactory.create();\n        this.view.bind(newValue, overrideContext);\n        this.viewSlot.add(this.view);\n      } else {\n        this.view.bind(newValue, overrideContext);\n      }\n    };\n\n    With.prototype.unbind = function unbind() {\n      this.parentOverrideContext = null;\n\n      if (this.view) {\n        this.view.unbind();\n      }\n    };\n\n    return With;\n  }()) || _class) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/repeat',['exports', 'aurelia-dependency-injection', 'aurelia-binding', 'aurelia-templating', './repeat-strategy-locator', './repeat-utilities', './analyze-view-factory', './abstract-repeater'], function (exports, _aureliaDependencyInjection, _aureliaBinding, _aureliaTemplating, _repeatStrategyLocator, _repeatUtilities, _analyzeViewFactory, _abstractRepeater) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Repeat = undefined;\n\n  function _initDefineProp(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n    });\n  }\n\n  \n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n  }\n\n  var _dec, _dec2, _class, _desc, _value, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n\n  var Repeat = exports.Repeat = (_dec = (0, _aureliaTemplating.customAttribute)('repeat'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaTemplating.BoundViewFactory, _aureliaTemplating.TargetInstruction, _aureliaTemplating.ViewSlot, _aureliaTemplating.ViewResources, _aureliaBinding.ObserverLocator, _repeatStrategyLocator.RepeatStrategyLocator), _dec(_class = (0, _aureliaTemplating.templateController)(_class = _dec2(_class = (_class2 = function (_AbstractRepeater) {\n    _inherits(Repeat, _AbstractRepeater);\n\n    function Repeat(viewFactory, instruction, viewSlot, viewResources, observerLocator, strategyLocator) {\n      \n\n      var _this = _possibleConstructorReturn(this, _AbstractRepeater.call(this, {\n        local: 'item',\n        viewsRequireLifecycle: (0, _analyzeViewFactory.viewsRequireLifecycle)(viewFactory)\n      }));\n\n      _initDefineProp(_this, 'items', _descriptor, _this);\n\n      _initDefineProp(_this, 'local', _descriptor2, _this);\n\n      _initDefineProp(_this, 'key', _descriptor3, _this);\n\n      _initDefineProp(_this, 'value', _descriptor4, _this);\n\n      _this.viewFactory = viewFactory;\n      _this.instruction = instruction;\n      _this.viewSlot = viewSlot;\n      _this.lookupFunctions = viewResources.lookupFunctions;\n      _this.observerLocator = observerLocator;\n      _this.key = 'key';\n      _this.value = 'value';\n      _this.strategyLocator = strategyLocator;\n      _this.ignoreMutation = false;\n      _this.sourceExpression = (0, _repeatUtilities.getItemsSourceExpression)(_this.instruction, 'repeat.for');\n      _this.isOneTime = (0, _repeatUtilities.isOneTime)(_this.sourceExpression);\n      _this.viewsRequireLifecycle = (0, _analyzeViewFactory.viewsRequireLifecycle)(viewFactory);\n      return _this;\n    }\n\n    Repeat.prototype.call = function call(context, changes) {\n      this[context](this.items, changes);\n    };\n\n    Repeat.prototype.bind = function bind(bindingContext, overrideContext) {\n      this.scope = { bindingContext: bindingContext, overrideContext: overrideContext };\n      this.matcherBinding = this._captureAndRemoveMatcherBinding();\n      this.itemsChanged();\n    };\n\n    Repeat.prototype.unbind = function unbind() {\n      this.scope = null;\n      this.items = null;\n      this.matcherBinding = null;\n      this.viewSlot.removeAll(true, true);\n      this._unsubscribeCollection();\n    };\n\n    Repeat.prototype._unsubscribeCollection = function _unsubscribeCollection() {\n      if (this.collectionObserver) {\n        this.collectionObserver.unsubscribe(this.callContext, this);\n        this.collectionObserver = null;\n        this.callContext = null;\n      }\n    };\n\n    Repeat.prototype.itemsChanged = function itemsChanged() {\n      this._unsubscribeCollection();\n\n      if (!this.scope) {\n        return;\n      }\n\n      var items = this.items;\n      this.strategy = this.strategyLocator.getStrategy(items);\n      if (!this.strategy) {\n        throw new Error('Value for \\'' + this.sourceExpression + '\\' is non-repeatable');\n      }\n\n      if (!this.isOneTime && !this._observeInnerCollection()) {\n        this._observeCollection();\n      }\n      this.strategy.instanceChanged(this, items);\n    };\n\n    Repeat.prototype._getInnerCollection = function _getInnerCollection() {\n      var expression = (0, _repeatUtilities.unwrapExpression)(this.sourceExpression);\n      if (!expression) {\n        return null;\n      }\n      return expression.evaluate(this.scope, null);\n    };\n\n    Repeat.prototype.handleCollectionMutated = function handleCollectionMutated(collection, changes) {\n      if (!this.collectionObserver) {\n        return;\n      }\n      this.strategy.instanceMutated(this, collection, changes);\n    };\n\n    Repeat.prototype.handleInnerCollectionMutated = function handleInnerCollectionMutated(collection, changes) {\n      var _this2 = this;\n\n      if (!this.collectionObserver) {\n        return;\n      }\n\n      if (this.ignoreMutation) {\n        return;\n      }\n      this.ignoreMutation = true;\n      var newItems = this.sourceExpression.evaluate(this.scope, this.lookupFunctions);\n      this.observerLocator.taskQueue.queueMicroTask(function () {\n        return _this2.ignoreMutation = false;\n      });\n\n      if (newItems === this.items) {\n        this.itemsChanged();\n      } else {\n        this.items = newItems;\n      }\n    };\n\n    Repeat.prototype._observeInnerCollection = function _observeInnerCollection() {\n      var items = this._getInnerCollection();\n      var strategy = this.strategyLocator.getStrategy(items);\n      if (!strategy) {\n        return false;\n      }\n      this.collectionObserver = strategy.getCollectionObserver(this.observerLocator, items);\n      if (!this.collectionObserver) {\n        return false;\n      }\n      this.callContext = 'handleInnerCollectionMutated';\n      this.collectionObserver.subscribe(this.callContext, this);\n      return true;\n    };\n\n    Repeat.prototype._observeCollection = function _observeCollection() {\n      var items = this.items;\n      this.collectionObserver = this.strategy.getCollectionObserver(this.observerLocator, items);\n      if (this.collectionObserver) {\n        this.callContext = 'handleCollectionMutated';\n        this.collectionObserver.subscribe(this.callContext, this);\n      }\n    };\n\n    Repeat.prototype._captureAndRemoveMatcherBinding = function _captureAndRemoveMatcherBinding() {\n      if (this.viewFactory.viewFactory) {\n        var instructions = this.viewFactory.viewFactory.instructions;\n        var instructionIds = Object.keys(instructions);\n        for (var i = 0; i < instructionIds.length; i++) {\n          var expressions = instructions[instructionIds[i]].expressions;\n          if (expressions) {\n            for (var ii = 0; i < expressions.length; i++) {\n              if (expressions[ii].targetProperty === 'matcher') {\n                var matcherBinding = expressions[ii];\n                expressions.splice(ii, 1);\n                return matcherBinding;\n              }\n            }\n          }\n        }\n      }\n\n      return undefined;\n    };\n\n    Repeat.prototype.viewCount = function viewCount() {\n      return this.viewSlot.children.length;\n    };\n\n    Repeat.prototype.views = function views() {\n      return this.viewSlot.children;\n    };\n\n    Repeat.prototype.view = function view(index) {\n      return this.viewSlot.children[index];\n    };\n\n    Repeat.prototype.matcher = function matcher() {\n      return this.matcherBinding ? this.matcherBinding.sourceExpression.evaluate(this.scope, this.matcherBinding.lookupFunctions) : null;\n    };\n\n    Repeat.prototype.addView = function addView(bindingContext, overrideContext) {\n      var view = this.viewFactory.create();\n      view.bind(bindingContext, overrideContext);\n      this.viewSlot.add(view);\n    };\n\n    Repeat.prototype.insertView = function insertView(index, bindingContext, overrideContext) {\n      var view = this.viewFactory.create();\n      view.bind(bindingContext, overrideContext);\n      this.viewSlot.insert(index, view);\n    };\n\n    Repeat.prototype.moveView = function moveView(sourceIndex, targetIndex) {\n      this.viewSlot.move(sourceIndex, targetIndex);\n    };\n\n    Repeat.prototype.removeAllViews = function removeAllViews(returnToCache, skipAnimation) {\n      return this.viewSlot.removeAll(returnToCache, skipAnimation);\n    };\n\n    Repeat.prototype.removeViews = function removeViews(viewsToRemove, returnToCache, skipAnimation) {\n      return this.viewSlot.removeMany(viewsToRemove, returnToCache, skipAnimation);\n    };\n\n    Repeat.prototype.removeView = function removeView(index, returnToCache, skipAnimation) {\n      return this.viewSlot.removeAt(index, returnToCache, skipAnimation);\n    };\n\n    Repeat.prototype.updateBindings = function updateBindings(view) {\n      var j = view.bindings.length;\n      while (j--) {\n        (0, _repeatUtilities.updateOneTimeBinding)(view.bindings[j]);\n      }\n      j = view.controllers.length;\n      while (j--) {\n        var k = view.controllers[j].boundProperties.length;\n        while (k--) {\n          var binding = view.controllers[j].boundProperties[k].binding;\n          (0, _repeatUtilities.updateOneTimeBinding)(binding);\n        }\n      }\n    };\n\n    return Repeat;\n  }(_abstractRepeater.AbstractRepeater), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, 'items', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, 'local', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, 'key', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, 'value', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  })), _class2)) || _class) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/repeat-strategy-locator',['exports', './null-repeat-strategy', './array-repeat-strategy', './map-repeat-strategy', './set-repeat-strategy', './number-repeat-strategy'], function (exports, _nullRepeatStrategy, _arrayRepeatStrategy, _mapRepeatStrategy, _setRepeatStrategy, _numberRepeatStrategy) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RepeatStrategyLocator = undefined;\n\n  \n\n  var RepeatStrategyLocator = exports.RepeatStrategyLocator = function () {\n    function RepeatStrategyLocator() {\n      \n\n      this.matchers = [];\n      this.strategies = [];\n\n      this.addStrategy(function (items) {\n        return items === null || items === undefined;\n      }, new _nullRepeatStrategy.NullRepeatStrategy());\n      this.addStrategy(function (items) {\n        return items instanceof Array;\n      }, new _arrayRepeatStrategy.ArrayRepeatStrategy());\n      this.addStrategy(function (items) {\n        return items instanceof Map;\n      }, new _mapRepeatStrategy.MapRepeatStrategy());\n      this.addStrategy(function (items) {\n        return items instanceof Set;\n      }, new _setRepeatStrategy.SetRepeatStrategy());\n      this.addStrategy(function (items) {\n        return typeof items === 'number';\n      }, new _numberRepeatStrategy.NumberRepeatStrategy());\n    }\n\n    RepeatStrategyLocator.prototype.addStrategy = function addStrategy(matcher, strategy) {\n      this.matchers.push(matcher);\n      this.strategies.push(strategy);\n    };\n\n    RepeatStrategyLocator.prototype.getStrategy = function getStrategy(items) {\n      var matchers = this.matchers;\n\n      for (var i = 0, ii = matchers.length; i < ii; ++i) {\n        if (matchers[i](items)) {\n          return this.strategies[i];\n        }\n      }\n\n      return null;\n    };\n\n    return RepeatStrategyLocator;\n  }();\n});\r\ndefine('aurelia-templating-resources/null-repeat-strategy',[\"exports\"], function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  \n\n  var NullRepeatStrategy = exports.NullRepeatStrategy = function () {\n    function NullRepeatStrategy() {\n      \n    }\n\n    NullRepeatStrategy.prototype.instanceChanged = function instanceChanged(repeat, items) {\n      repeat.removeAllViews(true);\n    };\n\n    NullRepeatStrategy.prototype.getCollectionObserver = function getCollectionObserver(observerLocator, items) {};\n\n    return NullRepeatStrategy;\n  }();\n});\r\ndefine('aurelia-templating-resources/array-repeat-strategy',['exports', './repeat-utilities', 'aurelia-binding'], function (exports, _repeatUtilities, _aureliaBinding) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ArrayRepeatStrategy = undefined;\n\n  \n\n  var ArrayRepeatStrategy = exports.ArrayRepeatStrategy = function () {\n    function ArrayRepeatStrategy() {\n      \n    }\n\n    ArrayRepeatStrategy.prototype.getCollectionObserver = function getCollectionObserver(observerLocator, items) {\n      return observerLocator.getArrayObserver(items);\n    };\n\n    ArrayRepeatStrategy.prototype.instanceChanged = function instanceChanged(repeat, items) {\n      var _this = this;\n\n      var itemsLength = items.length;\n\n      if (!items || itemsLength === 0) {\n        repeat.removeAllViews(true, !repeat.viewsRequireLifecycle);\n        return;\n      }\n\n      var children = repeat.views();\n      var viewsLength = children.length;\n\n      if (viewsLength === 0) {\n        this._standardProcessInstanceChanged(repeat, items);\n        return;\n      }\n\n      if (repeat.viewsRequireLifecycle) {\n        var childrenSnapshot = children.slice(0);\n        var itemNameInBindingContext = repeat.local;\n        var matcher = repeat.matcher();\n\n        var itemsPreviouslyInViews = [];\n        var viewsToRemove = [];\n\n        for (var index = 0; index < viewsLength; index++) {\n          var view = childrenSnapshot[index];\n          var oldItem = view.bindingContext[itemNameInBindingContext];\n\n          if ((0, _repeatUtilities.indexOf)(items, oldItem, matcher) === -1) {\n            viewsToRemove.push(view);\n          } else {\n            itemsPreviouslyInViews.push(oldItem);\n          }\n        }\n\n        var updateViews = void 0;\n        var removePromise = void 0;\n\n        if (itemsPreviouslyInViews.length > 0) {\n          removePromise = repeat.removeViews(viewsToRemove, true, !repeat.viewsRequireLifecycle);\n          updateViews = function updateViews() {\n            for (var _index = 0; _index < itemsLength; _index++) {\n              var item = items[_index];\n              var indexOfView = (0, _repeatUtilities.indexOf)(itemsPreviouslyInViews, item, matcher, _index);\n              var _view = void 0;\n\n              if (indexOfView === -1) {\n                var overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, items[_index], _index, itemsLength);\n                repeat.insertView(_index, overrideContext.bindingContext, overrideContext);\n\n                itemsPreviouslyInViews.splice(_index, 0, undefined);\n              } else if (indexOfView === _index) {\n                _view = children[indexOfView];\n                itemsPreviouslyInViews[indexOfView] = undefined;\n              } else {\n                _view = children[indexOfView];\n                repeat.moveView(indexOfView, _index);\n                itemsPreviouslyInViews.splice(indexOfView, 1);\n                itemsPreviouslyInViews.splice(_index, 0, undefined);\n              }\n\n              if (_view) {\n                (0, _repeatUtilities.updateOverrideContext)(_view.overrideContext, _index, itemsLength);\n              }\n            }\n\n            _this._inPlaceProcessItems(repeat, items);\n          };\n        } else {\n          removePromise = repeat.removeAllViews(true, !repeat.viewsRequireLifecycle);\n          updateViews = function updateViews() {\n            return _this._standardProcessInstanceChanged(repeat, items);\n          };\n        }\n\n        if (removePromise instanceof Promise) {\n          removePromise.then(updateViews);\n        } else {\n          updateViews();\n        }\n      } else {\n        this._inPlaceProcessItems(repeat, items);\n      }\n    };\n\n    ArrayRepeatStrategy.prototype._standardProcessInstanceChanged = function _standardProcessInstanceChanged(repeat, items) {\n      for (var i = 0, ii = items.length; i < ii; i++) {\n        var overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, items[i], i, ii);\n        repeat.addView(overrideContext.bindingContext, overrideContext);\n      }\n    };\n\n    ArrayRepeatStrategy.prototype._inPlaceProcessItems = function _inPlaceProcessItems(repeat, items) {\n      var itemsLength = items.length;\n      var viewsLength = repeat.viewCount();\n\n      while (viewsLength > itemsLength) {\n        viewsLength--;\n        repeat.removeView(viewsLength, true, !repeat.viewsRequireLifecycle);\n      }\n\n      var local = repeat.local;\n\n      for (var i = 0; i < viewsLength; i++) {\n        var view = repeat.view(i);\n        var last = i === itemsLength - 1;\n        var middle = i !== 0 && !last;\n\n        if (view.bindingContext[local] === items[i] && view.overrideContext.$middle === middle && view.overrideContext.$last === last) {\n          continue;\n        }\n\n        view.bindingContext[local] = items[i];\n        view.overrideContext.$middle = middle;\n        view.overrideContext.$last = last;\n        repeat.updateBindings(view);\n      }\n\n      for (var _i = viewsLength; _i < itemsLength; _i++) {\n        var overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, items[_i], _i, itemsLength);\n        repeat.addView(overrideContext.bindingContext, overrideContext);\n      }\n    };\n\n    ArrayRepeatStrategy.prototype.instanceMutated = function instanceMutated(repeat, array, splices) {\n      var _this2 = this;\n\n      if (repeat.__queuedSplices) {\n        for (var i = 0, ii = splices.length; i < ii; ++i) {\n          var _splices$i = splices[i],\n              index = _splices$i.index,\n              removed = _splices$i.removed,\n              addedCount = _splices$i.addedCount;\n\n          (0, _aureliaBinding.mergeSplice)(repeat.__queuedSplices, index, removed, addedCount);\n        }\n\n        repeat.__array = array.slice(0);\n        return;\n      }\n\n      var maybePromise = this._runSplices(repeat, array.slice(0), splices);\n      if (maybePromise instanceof Promise) {\n        var queuedSplices = repeat.__queuedSplices = [];\n\n        var runQueuedSplices = function runQueuedSplices() {\n          if (!queuedSplices.length) {\n            repeat.__queuedSplices = undefined;\n            repeat.__array = undefined;\n            return;\n          }\n\n          var nextPromise = _this2._runSplices(repeat, repeat.__array, queuedSplices) || Promise.resolve();\n          queuedSplices = repeat.__queuedSplices = [];\n          nextPromise.then(runQueuedSplices);\n        };\n\n        maybePromise.then(runQueuedSplices);\n      }\n    };\n\n    ArrayRepeatStrategy.prototype._runSplices = function _runSplices(repeat, array, splices) {\n      var _this3 = this;\n\n      var removeDelta = 0;\n      var rmPromises = [];\n\n      for (var i = 0, ii = splices.length; i < ii; ++i) {\n        var splice = splices[i];\n        var removed = splice.removed;\n\n        for (var j = 0, jj = removed.length; j < jj; ++j) {\n          var viewOrPromise = repeat.removeView(splice.index + removeDelta + rmPromises.length, true);\n          if (viewOrPromise instanceof Promise) {\n            rmPromises.push(viewOrPromise);\n          }\n        }\n        removeDelta -= splice.addedCount;\n      }\n\n      if (rmPromises.length > 0) {\n        return Promise.all(rmPromises).then(function () {\n          var spliceIndexLow = _this3._handleAddedSplices(repeat, array, splices);\n          (0, _repeatUtilities.updateOverrideContexts)(repeat.views(), spliceIndexLow);\n        });\n      }\n\n      var spliceIndexLow = this._handleAddedSplices(repeat, array, splices);\n      (0, _repeatUtilities.updateOverrideContexts)(repeat.views(), spliceIndexLow);\n\n      return undefined;\n    };\n\n    ArrayRepeatStrategy.prototype._handleAddedSplices = function _handleAddedSplices(repeat, array, splices) {\n      var spliceIndex = void 0;\n      var spliceIndexLow = void 0;\n      var arrayLength = array.length;\n      for (var i = 0, ii = splices.length; i < ii; ++i) {\n        var splice = splices[i];\n        var addIndex = spliceIndex = splice.index;\n        var end = splice.index + splice.addedCount;\n\n        if (typeof spliceIndexLow === 'undefined' || spliceIndexLow === null || spliceIndexLow > splice.index) {\n          spliceIndexLow = spliceIndex;\n        }\n\n        for (; addIndex < end; ++addIndex) {\n          var overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, array[addIndex], addIndex, arrayLength);\n          repeat.insertView(addIndex, overrideContext.bindingContext, overrideContext);\n        }\n      }\n\n      return spliceIndexLow;\n    };\n\n    return ArrayRepeatStrategy;\n  }();\n});\r\ndefine('aurelia-templating-resources/repeat-utilities',['exports', 'aurelia-binding'], function (exports, _aureliaBinding) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.updateOverrideContexts = updateOverrideContexts;\n  exports.createFullOverrideContext = createFullOverrideContext;\n  exports.updateOverrideContext = updateOverrideContext;\n  exports.getItemsSourceExpression = getItemsSourceExpression;\n  exports.unwrapExpression = unwrapExpression;\n  exports.isOneTime = isOneTime;\n  exports.updateOneTimeBinding = updateOneTimeBinding;\n  exports.indexOf = indexOf;\n\n\n  var oneTime = _aureliaBinding.bindingMode.oneTime;\n\n  function updateOverrideContexts(views, startIndex) {\n    var length = views.length;\n\n    if (startIndex > 0) {\n      startIndex = startIndex - 1;\n    }\n\n    for (; startIndex < length; ++startIndex) {\n      updateOverrideContext(views[startIndex].overrideContext, startIndex, length);\n    }\n  }\n\n  function createFullOverrideContext(repeat, data, index, length, key) {\n    var bindingContext = {};\n    var overrideContext = (0, _aureliaBinding.createOverrideContext)(bindingContext, repeat.scope.overrideContext);\n\n    if (typeof key !== 'undefined') {\n      bindingContext[repeat.key] = key;\n      bindingContext[repeat.value] = data;\n    } else {\n      bindingContext[repeat.local] = data;\n    }\n    updateOverrideContext(overrideContext, index, length);\n    return overrideContext;\n  }\n\n  function updateOverrideContext(overrideContext, index, length) {\n    var first = index === 0;\n    var last = index === length - 1;\n    var even = index % 2 === 0;\n\n    overrideContext.$index = index;\n    overrideContext.$first = first;\n    overrideContext.$last = last;\n    overrideContext.$middle = !(first || last);\n    overrideContext.$odd = !even;\n    overrideContext.$even = even;\n  }\n\n  function getItemsSourceExpression(instruction, attrName) {\n    return instruction.behaviorInstructions.filter(function (bi) {\n      return bi.originalAttrName === attrName;\n    })[0].attributes.items.sourceExpression;\n  }\n\n  function unwrapExpression(expression) {\n    var unwrapped = false;\n    while (expression instanceof _aureliaBinding.BindingBehavior) {\n      expression = expression.expression;\n    }\n    while (expression instanceof _aureliaBinding.ValueConverter) {\n      expression = expression.expression;\n      unwrapped = true;\n    }\n    return unwrapped ? expression : null;\n  }\n\n  function isOneTime(expression) {\n    while (expression instanceof _aureliaBinding.BindingBehavior) {\n      if (expression.name === 'oneTime') {\n        return true;\n      }\n      expression = expression.expression;\n    }\n    return false;\n  }\n\n  function updateOneTimeBinding(binding) {\n    if (binding.call && binding.mode === oneTime) {\n      binding.call(_aureliaBinding.sourceContext);\n    } else if (binding.updateOneTimeBindings) {\n      binding.updateOneTimeBindings();\n    }\n  }\n\n  function indexOf(array, item, matcher, startIndex) {\n    if (!matcher) {\n      return array.indexOf(item);\n    }\n    var length = array.length;\n    for (var index = startIndex || 0; index < length; index++) {\n      if (matcher(array[index], item)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n});\r\ndefine('aurelia-templating-resources/map-repeat-strategy',['exports', './repeat-utilities'], function (exports, _repeatUtilities) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.MapRepeatStrategy = undefined;\n\n  \n\n  var MapRepeatStrategy = exports.MapRepeatStrategy = function () {\n    function MapRepeatStrategy() {\n      \n    }\n\n    MapRepeatStrategy.prototype.getCollectionObserver = function getCollectionObserver(observerLocator, items) {\n      return observerLocator.getMapObserver(items);\n    };\n\n    MapRepeatStrategy.prototype.instanceChanged = function instanceChanged(repeat, items) {\n      var _this = this;\n\n      var removePromise = repeat.removeAllViews(true, !repeat.viewsRequireLifecycle);\n      if (removePromise instanceof Promise) {\n        removePromise.then(function () {\n          return _this._standardProcessItems(repeat, items);\n        });\n        return;\n      }\n      this._standardProcessItems(repeat, items);\n    };\n\n    MapRepeatStrategy.prototype._standardProcessItems = function _standardProcessItems(repeat, items) {\n      var index = 0;\n      var overrideContext = void 0;\n\n      items.forEach(function (value, key) {\n        overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, value, index, items.size, key);\n        repeat.addView(overrideContext.bindingContext, overrideContext);\n        ++index;\n      });\n    };\n\n    MapRepeatStrategy.prototype.instanceMutated = function instanceMutated(repeat, map, records) {\n      var key = void 0;\n      var i = void 0;\n      var ii = void 0;\n      var overrideContext = void 0;\n      var removeIndex = void 0;\n      var addIndex = void 0;\n      var record = void 0;\n      var rmPromises = [];\n      var viewOrPromise = void 0;\n\n      for (i = 0, ii = records.length; i < ii; ++i) {\n        record = records[i];\n        key = record.key;\n        switch (record.type) {\n          case 'update':\n            removeIndex = this._getViewIndexByKey(repeat, key);\n            viewOrPromise = repeat.removeView(removeIndex, true, !repeat.viewsRequireLifecycle);\n            if (viewOrPromise instanceof Promise) {\n              rmPromises.push(viewOrPromise);\n            }\n            overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, map.get(key), removeIndex, map.size, key);\n            repeat.insertView(removeIndex, overrideContext.bindingContext, overrideContext);\n            break;\n          case 'add':\n            addIndex = repeat.viewCount() <= map.size - 1 ? repeat.viewCount() : map.size - 1;\n            overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, map.get(key), addIndex, map.size, key);\n            repeat.insertView(map.size - 1, overrideContext.bindingContext, overrideContext);\n            break;\n          case 'delete':\n            if (record.oldValue === undefined) {\n              return;\n            }\n            removeIndex = this._getViewIndexByKey(repeat, key);\n            viewOrPromise = repeat.removeView(removeIndex, true, !repeat.viewsRequireLifecycle);\n            if (viewOrPromise instanceof Promise) {\n              rmPromises.push(viewOrPromise);\n            }\n            break;\n          case 'clear':\n            repeat.removeAllViews(true, !repeat.viewsRequireLifecycle);\n            break;\n          default:\n            continue;\n        }\n      }\n\n      if (rmPromises.length > 0) {\n        Promise.all(rmPromises).then(function () {\n          (0, _repeatUtilities.updateOverrideContexts)(repeat.views(), 0);\n        });\n      } else {\n        (0, _repeatUtilities.updateOverrideContexts)(repeat.views(), 0);\n      }\n    };\n\n    MapRepeatStrategy.prototype._getViewIndexByKey = function _getViewIndexByKey(repeat, key) {\n      var i = void 0;\n      var ii = void 0;\n      var child = void 0;\n\n      for (i = 0, ii = repeat.viewCount(); i < ii; ++i) {\n        child = repeat.view(i);\n        if (child.bindingContext[repeat.key] === key) {\n          return i;\n        }\n      }\n\n      return undefined;\n    };\n\n    return MapRepeatStrategy;\n  }();\n});\r\ndefine('aurelia-templating-resources/set-repeat-strategy',['exports', './repeat-utilities'], function (exports, _repeatUtilities) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SetRepeatStrategy = undefined;\n\n  \n\n  var SetRepeatStrategy = exports.SetRepeatStrategy = function () {\n    function SetRepeatStrategy() {\n      \n    }\n\n    SetRepeatStrategy.prototype.getCollectionObserver = function getCollectionObserver(observerLocator, items) {\n      return observerLocator.getSetObserver(items);\n    };\n\n    SetRepeatStrategy.prototype.instanceChanged = function instanceChanged(repeat, items) {\n      var _this = this;\n\n      var removePromise = repeat.removeAllViews(true, !repeat.viewsRequireLifecycle);\n      if (removePromise instanceof Promise) {\n        removePromise.then(function () {\n          return _this._standardProcessItems(repeat, items);\n        });\n        return;\n      }\n      this._standardProcessItems(repeat, items);\n    };\n\n    SetRepeatStrategy.prototype._standardProcessItems = function _standardProcessItems(repeat, items) {\n      var index = 0;\n      var overrideContext = void 0;\n\n      items.forEach(function (value) {\n        overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, value, index, items.size);\n        repeat.addView(overrideContext.bindingContext, overrideContext);\n        ++index;\n      });\n    };\n\n    SetRepeatStrategy.prototype.instanceMutated = function instanceMutated(repeat, set, records) {\n      var value = void 0;\n      var i = void 0;\n      var ii = void 0;\n      var overrideContext = void 0;\n      var removeIndex = void 0;\n      var record = void 0;\n      var rmPromises = [];\n      var viewOrPromise = void 0;\n\n      for (i = 0, ii = records.length; i < ii; ++i) {\n        record = records[i];\n        value = record.value;\n        switch (record.type) {\n          case 'add':\n            var size = Math.max(set.size - 1, 0);\n            overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, value, size, set.size);\n            repeat.insertView(size, overrideContext.bindingContext, overrideContext);\n            break;\n          case 'delete':\n            removeIndex = this._getViewIndexByValue(repeat, value);\n            viewOrPromise = repeat.removeView(removeIndex, true, !repeat.viewsRequireLifecycle);\n            if (viewOrPromise instanceof Promise) {\n              rmPromises.push(viewOrPromise);\n            }\n            break;\n          case 'clear':\n            repeat.removeAllViews(true, !repeat.viewsRequireLifecycle);\n            break;\n          default:\n            continue;\n        }\n      }\n\n      if (rmPromises.length > 0) {\n        Promise.all(rmPromises).then(function () {\n          (0, _repeatUtilities.updateOverrideContexts)(repeat.views(), 0);\n        });\n      } else {\n        (0, _repeatUtilities.updateOverrideContexts)(repeat.views(), 0);\n      }\n    };\n\n    SetRepeatStrategy.prototype._getViewIndexByValue = function _getViewIndexByValue(repeat, value) {\n      var i = void 0;\n      var ii = void 0;\n      var child = void 0;\n\n      for (i = 0, ii = repeat.viewCount(); i < ii; ++i) {\n        child = repeat.view(i);\n        if (child.bindingContext[repeat.local] === value) {\n          return i;\n        }\n      }\n\n      return undefined;\n    };\n\n    return SetRepeatStrategy;\n  }();\n});\r\ndefine('aurelia-templating-resources/number-repeat-strategy',['exports', './repeat-utilities'], function (exports, _repeatUtilities) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.NumberRepeatStrategy = undefined;\n\n  \n\n  var NumberRepeatStrategy = exports.NumberRepeatStrategy = function () {\n    function NumberRepeatStrategy() {\n      \n    }\n\n    NumberRepeatStrategy.prototype.getCollectionObserver = function getCollectionObserver() {\n      return null;\n    };\n\n    NumberRepeatStrategy.prototype.instanceChanged = function instanceChanged(repeat, value) {\n      var _this = this;\n\n      var removePromise = repeat.removeAllViews(true, !repeat.viewsRequireLifecycle);\n      if (removePromise instanceof Promise) {\n        removePromise.then(function () {\n          return _this._standardProcessItems(repeat, value);\n        });\n        return;\n      }\n      this._standardProcessItems(repeat, value);\n    };\n\n    NumberRepeatStrategy.prototype._standardProcessItems = function _standardProcessItems(repeat, value) {\n      var childrenLength = repeat.viewCount();\n      var i = void 0;\n      var ii = void 0;\n      var overrideContext = void 0;\n      var viewsToRemove = void 0;\n\n      value = Math.floor(value);\n      viewsToRemove = childrenLength - value;\n\n      if (viewsToRemove > 0) {\n        if (viewsToRemove > childrenLength) {\n          viewsToRemove = childrenLength;\n        }\n\n        for (i = 0, ii = viewsToRemove; i < ii; ++i) {\n          repeat.removeView(childrenLength - (i + 1), true, !repeat.viewsRequireLifecycle);\n        }\n\n        return;\n      }\n\n      for (i = childrenLength, ii = value; i < ii; ++i) {\n        overrideContext = (0, _repeatUtilities.createFullOverrideContext)(repeat, i, i, ii);\n        repeat.addView(overrideContext.bindingContext, overrideContext);\n      }\n\n      (0, _repeatUtilities.updateOverrideContexts)(repeat.views(), 0);\n    };\n\n    return NumberRepeatStrategy;\n  }();\n});\r\ndefine('aurelia-templating-resources/analyze-view-factory',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.viewsRequireLifecycle = viewsRequireLifecycle;\n  var lifecycleOptionalBehaviors = exports.lifecycleOptionalBehaviors = ['focus', 'if', 'repeat', 'show', 'with'];\n\n  function behaviorRequiresLifecycle(instruction) {\n    var t = instruction.type;\n    var name = t.elementName !== null ? t.elementName : t.attributeName;\n    return lifecycleOptionalBehaviors.indexOf(name) === -1 && (t.handlesAttached || t.handlesBind || t.handlesCreated || t.handlesDetached || t.handlesUnbind) || t.viewFactory && viewsRequireLifecycle(t.viewFactory) || instruction.viewFactory && viewsRequireLifecycle(instruction.viewFactory);\n  }\n\n  function targetRequiresLifecycle(instruction) {\n    var behaviors = instruction.behaviorInstructions;\n    if (behaviors) {\n      var i = behaviors.length;\n      while (i--) {\n        if (behaviorRequiresLifecycle(behaviors[i])) {\n          return true;\n        }\n      }\n    }\n\n    return instruction.viewFactory && viewsRequireLifecycle(instruction.viewFactory);\n  }\n\n  function viewsRequireLifecycle(viewFactory) {\n    if ('_viewsRequireLifecycle' in viewFactory) {\n      return viewFactory._viewsRequireLifecycle;\n    }\n\n    viewFactory._viewsRequireLifecycle = false;\n\n    if (viewFactory.viewFactory) {\n      viewFactory._viewsRequireLifecycle = viewsRequireLifecycle(viewFactory.viewFactory);\n      return viewFactory._viewsRequireLifecycle;\n    }\n\n    if (viewFactory.template.querySelector('.au-animate')) {\n      viewFactory._viewsRequireLifecycle = true;\n      return true;\n    }\n\n    for (var id in viewFactory.instructions) {\n      if (targetRequiresLifecycle(viewFactory.instructions[id])) {\n        viewFactory._viewsRequireLifecycle = true;\n        return true;\n      }\n    }\n\n    viewFactory._viewsRequireLifecycle = false;\n    return false;\n  }\n});\r\ndefine('aurelia-templating-resources/abstract-repeater',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  \n\n  var AbstractRepeater = exports.AbstractRepeater = function () {\n    function AbstractRepeater(options) {\n      \n\n      Object.assign(this, {\n        local: 'items',\n        viewsRequireLifecycle: true\n      }, options);\n    }\n\n    AbstractRepeater.prototype.viewCount = function viewCount() {\n      throw new Error('subclass must implement `viewCount`');\n    };\n\n    AbstractRepeater.prototype.views = function views() {\n      throw new Error('subclass must implement `views`');\n    };\n\n    AbstractRepeater.prototype.view = function view(index) {\n      throw new Error('subclass must implement `view`');\n    };\n\n    AbstractRepeater.prototype.matcher = function matcher() {\n      throw new Error('subclass must implement `matcher`');\n    };\n\n    AbstractRepeater.prototype.addView = function addView(bindingContext, overrideContext) {\n      throw new Error('subclass must implement `addView`');\n    };\n\n    AbstractRepeater.prototype.insertView = function insertView(index, bindingContext, overrideContext) {\n      throw new Error('subclass must implement `insertView`');\n    };\n\n    AbstractRepeater.prototype.moveView = function moveView(sourceIndex, targetIndex) {\n      throw new Error('subclass must implement `moveView`');\n    };\n\n    AbstractRepeater.prototype.removeAllViews = function removeAllViews(returnToCache, skipAnimation) {\n      throw new Error('subclass must implement `removeAllViews`');\n    };\n\n    AbstractRepeater.prototype.removeViews = function removeViews(viewsToRemove, returnToCache, skipAnimation) {\n      throw new Error('subclass must implement `removeView`');\n    };\n\n    AbstractRepeater.prototype.removeView = function removeView(index, returnToCache, skipAnimation) {\n      throw new Error('subclass must implement `removeView`');\n    };\n\n    AbstractRepeater.prototype.updateBindings = function updateBindings(view) {\n      throw new Error('subclass must implement `updateBindings`');\n    };\n\n    return AbstractRepeater;\n  }();\n});\r\ndefine('aurelia-templating-resources/show',['exports', 'aurelia-dependency-injection', 'aurelia-templating', 'aurelia-pal', './aurelia-hide-style'], function (exports, _aureliaDependencyInjection, _aureliaTemplating, _aureliaPal, _aureliaHideStyle) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Show = undefined;\n\n  \n\n  var _dec, _dec2, _class;\n\n  var Show = exports.Show = (_dec = (0, _aureliaTemplating.customAttribute)('show'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaPal.DOM.Element, _aureliaTemplating.Animator, _aureliaDependencyInjection.Optional.of(_aureliaPal.DOM.boundary, true)), _dec(_class = _dec2(_class = function () {\n    function Show(element, animator, domBoundary) {\n      \n\n      this.element = element;\n      this.animator = animator;\n      this.domBoundary = domBoundary;\n    }\n\n    Show.prototype.created = function created() {\n      (0, _aureliaHideStyle.injectAureliaHideStyleAtBoundary)(this.domBoundary);\n    };\n\n    Show.prototype.valueChanged = function valueChanged(newValue) {\n      if (newValue) {\n        this.animator.removeClass(this.element, _aureliaHideStyle.aureliaHideClassName);\n      } else {\n        this.animator.addClass(this.element, _aureliaHideStyle.aureliaHideClassName);\n      }\n    };\n\n    Show.prototype.bind = function bind(bindingContext) {\n      this.valueChanged(this.value);\n    };\n\n    return Show;\n  }()) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/aurelia-hide-style',['exports', 'aurelia-pal'], function (exports, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.aureliaHideClassName = undefined;\n  exports.injectAureliaHideStyleAtHead = injectAureliaHideStyleAtHead;\n  exports.injectAureliaHideStyleAtBoundary = injectAureliaHideStyleAtBoundary;\n  var aureliaHideClassName = exports.aureliaHideClassName = 'aurelia-hide';\n\n  var aureliaHideClass = '.' + aureliaHideClassName + ' { display:none !important; }';\n\n  function injectAureliaHideStyleAtHead() {\n    _aureliaPal.DOM.injectStyles(aureliaHideClass);\n  }\n\n  function injectAureliaHideStyleAtBoundary(domBoundary) {\n    if (_aureliaPal.FEATURE.shadowDOM && domBoundary && !domBoundary.hasAureliaHideStyle) {\n      domBoundary.hasAureliaHideStyle = true;\n      _aureliaPal.DOM.injectStyles(aureliaHideClass, domBoundary);\n    }\n  }\n});\r\ndefine('aurelia-templating-resources/hide',['exports', 'aurelia-dependency-injection', 'aurelia-templating', 'aurelia-pal', './aurelia-hide-style'], function (exports, _aureliaDependencyInjection, _aureliaTemplating, _aureliaPal, _aureliaHideStyle) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Hide = undefined;\n\n  \n\n  var _dec, _dec2, _class;\n\n  var Hide = exports.Hide = (_dec = (0, _aureliaTemplating.customAttribute)('hide'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaPal.DOM.Element, _aureliaTemplating.Animator, _aureliaDependencyInjection.Optional.of(_aureliaPal.DOM.boundary, true)), _dec(_class = _dec2(_class = function () {\n    function Hide(element, animator, domBoundary) {\n      \n\n      this.element = element;\n      this.animator = animator;\n      this.domBoundary = domBoundary;\n    }\n\n    Hide.prototype.created = function created() {\n      (0, _aureliaHideStyle.injectAureliaHideStyleAtBoundary)(this.domBoundary);\n    };\n\n    Hide.prototype.valueChanged = function valueChanged(newValue) {\n      if (newValue) {\n        this.animator.addClass(this.element, _aureliaHideStyle.aureliaHideClassName);\n      } else {\n        this.animator.removeClass(this.element, _aureliaHideStyle.aureliaHideClassName);\n      }\n    };\n\n    Hide.prototype.bind = function bind(bindingContext) {\n      this.valueChanged(this.value);\n    };\n\n    return Hide;\n  }()) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/sanitize-html',['exports', 'aurelia-binding', 'aurelia-dependency-injection', './html-sanitizer'], function (exports, _aureliaBinding, _aureliaDependencyInjection, _htmlSanitizer) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SanitizeHTMLValueConverter = undefined;\n\n  \n\n  var _dec, _dec2, _class;\n\n  var SanitizeHTMLValueConverter = exports.SanitizeHTMLValueConverter = (_dec = (0, _aureliaBinding.valueConverter)('sanitizeHTML'), _dec2 = (0, _aureliaDependencyInjection.inject)(_htmlSanitizer.HTMLSanitizer), _dec(_class = _dec2(_class = function () {\n    function SanitizeHTMLValueConverter(sanitizer) {\n      \n\n      this.sanitizer = sanitizer;\n    }\n\n    SanitizeHTMLValueConverter.prototype.toView = function toView(untrustedMarkup) {\n      if (untrustedMarkup === null || untrustedMarkup === undefined) {\n        return null;\n      }\n\n      return this.sanitizer.sanitize(untrustedMarkup);\n    };\n\n    return SanitizeHTMLValueConverter;\n  }()) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/html-sanitizer',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  \n\n  var SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n\n  var HTMLSanitizer = exports.HTMLSanitizer = function () {\n    function HTMLSanitizer() {\n      \n    }\n\n    HTMLSanitizer.prototype.sanitize = function sanitize(input) {\n      return input.replace(SCRIPT_REGEX, '');\n    };\n\n    return HTMLSanitizer;\n  }();\n});\r\ndefine('aurelia-templating-resources/replaceable',['exports', 'aurelia-dependency-injection', 'aurelia-templating'], function (exports, _aureliaDependencyInjection, _aureliaTemplating) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Replaceable = undefined;\n\n  \n\n  var _dec, _dec2, _class;\n\n  var Replaceable = exports.Replaceable = (_dec = (0, _aureliaTemplating.customAttribute)('replaceable'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaTemplating.BoundViewFactory, _aureliaTemplating.ViewSlot), _dec(_class = (0, _aureliaTemplating.templateController)(_class = _dec2(_class = function () {\n    function Replaceable(viewFactory, viewSlot) {\n      \n\n      this.viewFactory = viewFactory;\n      this.viewSlot = viewSlot;\n      this.view = null;\n    }\n\n    Replaceable.prototype.bind = function bind(bindingContext, overrideContext) {\n      if (this.view === null) {\n        this.view = this.viewFactory.create();\n        this.viewSlot.add(this.view);\n      }\n\n      this.view.bind(bindingContext, overrideContext);\n    };\n\n    Replaceable.prototype.unbind = function unbind() {\n      this.view.unbind();\n    };\n\n    return Replaceable;\n  }()) || _class) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/focus',['exports', 'aurelia-templating', 'aurelia-binding', 'aurelia-dependency-injection', 'aurelia-task-queue', 'aurelia-pal'], function (exports, _aureliaTemplating, _aureliaBinding, _aureliaDependencyInjection, _aureliaTaskQueue, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Focus = undefined;\n\n  \n\n  var _dec, _dec2, _class;\n\n  var Focus = exports.Focus = (_dec = (0, _aureliaTemplating.customAttribute)('focus', _aureliaBinding.bindingMode.twoWay), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaPal.DOM.Element, _aureliaTaskQueue.TaskQueue), _dec(_class = _dec2(_class = function () {\n    function Focus(element, taskQueue) {\n      \n\n      this.element = element;\n      this.taskQueue = taskQueue;\n      this.isAttached = false;\n      this.needsApply = false;\n    }\n\n    Focus.prototype.valueChanged = function valueChanged(newValue) {\n      if (this.isAttached) {\n        this._apply();\n      } else {\n        this.needsApply = true;\n      }\n    };\n\n    Focus.prototype._apply = function _apply() {\n      var _this = this;\n\n      if (this.value) {\n        this.taskQueue.queueMicroTask(function () {\n          if (_this.value) {\n            _this.element.focus();\n          }\n        });\n      } else {\n        this.element.blur();\n      }\n    };\n\n    Focus.prototype.attached = function attached() {\n      this.isAttached = true;\n      if (this.needsApply) {\n        this.needsApply = false;\n        this._apply();\n      }\n      this.element.addEventListener('focus', this);\n      this.element.addEventListener('blur', this);\n    };\n\n    Focus.prototype.detached = function detached() {\n      this.isAttached = false;\n      this.element.removeEventListener('focus', this);\n      this.element.removeEventListener('blur', this);\n    };\n\n    Focus.prototype.handleEvent = function handleEvent(e) {\n      if (e.type === 'focus') {\n        this.value = true;\n      } else if (_aureliaPal.DOM.activeElement !== this.element) {\n        this.value = false;\n      }\n    };\n\n    return Focus;\n  }()) || _class) || _class);\n});\r\ndefine('aurelia-templating-resources/css-resource',['exports', 'aurelia-templating', 'aurelia-loader', 'aurelia-dependency-injection', 'aurelia-path', 'aurelia-pal'], function (exports, _aureliaTemplating, _aureliaLoader, _aureliaDependencyInjection, _aureliaPath, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports._createCSSResource = _createCSSResource;\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  \n\n  var cssUrlMatcher = /url\\((?!['\"]data)([^)]+)\\)/gi;\n\n  function fixupCSSUrls(address, css) {\n    if (typeof css !== 'string') {\n      throw new Error('Failed loading required CSS file: ' + address);\n    }\n    return css.replace(cssUrlMatcher, function (match, p1) {\n      var quote = p1.charAt(0);\n      if (quote === '\\'' || quote === '\"') {\n        p1 = p1.substr(1, p1.length - 2);\n      }\n      return 'url(\\'' + (0, _aureliaPath.relativeToFile)(p1, address) + '\\')';\n    });\n  }\n\n  var CSSResource = function () {\n    function CSSResource(address) {\n      \n\n      this.address = address;\n      this._scoped = null;\n      this._global = false;\n      this._alreadyGloballyInjected = false;\n    }\n\n    CSSResource.prototype.initialize = function initialize(container, target) {\n      this._scoped = new target(this);\n    };\n\n    CSSResource.prototype.register = function register(registry, name) {\n      if (name === 'scoped') {\n        registry.registerViewEngineHooks(this._scoped);\n      } else {\n        this._global = true;\n      }\n    };\n\n    CSSResource.prototype.load = function load(container) {\n      var _this = this;\n\n      return container.get(_aureliaLoader.Loader).loadText(this.address).catch(function (err) {\n        return null;\n      }).then(function (text) {\n        text = fixupCSSUrls(_this.address, text);\n        _this._scoped.css = text;\n        if (_this._global) {\n          _this._alreadyGloballyInjected = true;\n          _aureliaPal.DOM.injectStyles(text);\n        }\n      });\n    };\n\n    return CSSResource;\n  }();\n\n  var CSSViewEngineHooks = function () {\n    function CSSViewEngineHooks(owner) {\n      \n\n      this.owner = owner;\n      this.css = null;\n    }\n\n    CSSViewEngineHooks.prototype.beforeCompile = function beforeCompile(content, resources, instruction) {\n      if (instruction.targetShadowDOM) {\n        _aureliaPal.DOM.injectStyles(this.css, content, true);\n      } else if (_aureliaPal.FEATURE.scopedCSS) {\n        var styleNode = _aureliaPal.DOM.injectStyles(this.css, content, true);\n        styleNode.setAttribute('scoped', 'scoped');\n      } else if (this._global && !this.owner._alreadyGloballyInjected) {\n        _aureliaPal.DOM.injectStyles(this.css);\n        this.owner._alreadyGloballyInjected = true;\n      }\n    };\n\n    return CSSViewEngineHooks;\n  }();\n\n  function _createCSSResource(address) {\n    var _dec, _class;\n\n    var ViewCSS = (_dec = (0, _aureliaTemplating.resource)(new CSSResource(address)), _dec(_class = function (_CSSViewEngineHooks) {\n      _inherits(ViewCSS, _CSSViewEngineHooks);\n\n      function ViewCSS() {\n        \n\n        return _possibleConstructorReturn(this, _CSSViewEngineHooks.apply(this, arguments));\n      }\n\n      return ViewCSS;\n    }(CSSViewEngineHooks)) || _class);\n\n    return ViewCSS;\n  }\n});\r\ndefine('aurelia-templating-resources/attr-binding-behavior',['exports', 'aurelia-binding'], function (exports, _aureliaBinding) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AttrBindingBehavior = undefined;\n\n  \n\n  var AttrBindingBehavior = exports.AttrBindingBehavior = function () {\n    function AttrBindingBehavior() {\n      \n    }\n\n    AttrBindingBehavior.prototype.bind = function bind(binding, source) {\n      binding.targetObserver = new _aureliaBinding.DataAttributeObserver(binding.target, binding.targetProperty);\n    };\n\n    AttrBindingBehavior.prototype.unbind = function unbind(binding, source) {};\n\n    return AttrBindingBehavior;\n  }();\n});\r\ndefine('aurelia-templating-resources/binding-mode-behaviors',['exports', 'aurelia-binding', 'aurelia-metadata'], function (exports, _aureliaBinding, _aureliaMetadata) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TwoWayBindingBehavior = exports.OneWayBindingBehavior = exports.OneTimeBindingBehavior = undefined;\n\n  \n\n  var _dec, _class, _dec2, _class2, _dec3, _class3;\n\n  var modeBindingBehavior = {\n    bind: function bind(binding, source, lookupFunctions) {\n      binding.originalMode = binding.mode;\n      binding.mode = this.mode;\n    },\n    unbind: function unbind(binding, source) {\n      binding.mode = binding.originalMode;\n      binding.originalMode = null;\n    }\n  };\n\n  var OneTimeBindingBehavior = exports.OneTimeBindingBehavior = (_dec = (0, _aureliaMetadata.mixin)(modeBindingBehavior), _dec(_class = function OneTimeBindingBehavior() {\n    \n\n    this.mode = _aureliaBinding.bindingMode.oneTime;\n  }) || _class);\n  var OneWayBindingBehavior = exports.OneWayBindingBehavior = (_dec2 = (0, _aureliaMetadata.mixin)(modeBindingBehavior), _dec2(_class2 = function OneWayBindingBehavior() {\n    \n\n    this.mode = _aureliaBinding.bindingMode.oneWay;\n  }) || _class2);\n  var TwoWayBindingBehavior = exports.TwoWayBindingBehavior = (_dec3 = (0, _aureliaMetadata.mixin)(modeBindingBehavior), _dec3(_class3 = function TwoWayBindingBehavior() {\n    \n\n    this.mode = _aureliaBinding.bindingMode.twoWay;\n  }) || _class3);\n});\r\ndefine('aurelia-templating-resources/throttle-binding-behavior',['exports', 'aurelia-binding'], function (exports, _aureliaBinding) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ThrottleBindingBehavior = undefined;\n\n  \n\n  function throttle(newValue) {\n    var _this = this;\n\n    var state = this.throttleState;\n    var elapsed = +new Date() - state.last;\n    if (elapsed >= state.delay) {\n      clearTimeout(state.timeoutId);\n      state.timeoutId = null;\n      state.last = +new Date();\n      this.throttledMethod(newValue);\n      return;\n    }\n    state.newValue = newValue;\n    if (state.timeoutId === null) {\n      state.timeoutId = setTimeout(function () {\n        state.timeoutId = null;\n        state.last = +new Date();\n        _this.throttledMethod(state.newValue);\n      }, state.delay - elapsed);\n    }\n  }\n\n  var ThrottleBindingBehavior = exports.ThrottleBindingBehavior = function () {\n    function ThrottleBindingBehavior() {\n      \n    }\n\n    ThrottleBindingBehavior.prototype.bind = function bind(binding, source) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;\n\n      var methodToThrottle = 'updateTarget';\n      if (binding.callSource) {\n        methodToThrottle = 'callSource';\n      } else if (binding.updateSource && binding.mode === _aureliaBinding.bindingMode.twoWay) {\n        methodToThrottle = 'updateSource';\n      }\n\n      binding.throttledMethod = binding[methodToThrottle];\n      binding.throttledMethod.originalName = methodToThrottle;\n\n      binding[methodToThrottle] = throttle;\n\n      binding.throttleState = {\n        delay: delay,\n        last: 0,\n        timeoutId: null\n      };\n    };\n\n    ThrottleBindingBehavior.prototype.unbind = function unbind(binding, source) {\n      var methodToRestore = binding.throttledMethod.originalName;\n      binding[methodToRestore] = binding.throttledMethod;\n      binding.throttledMethod = null;\n      clearTimeout(binding.throttleState.timeoutId);\n      binding.throttleState = null;\n    };\n\n    return ThrottleBindingBehavior;\n  }();\n});\r\ndefine('aurelia-templating-resources/debounce-binding-behavior',['exports', 'aurelia-binding'], function (exports, _aureliaBinding) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DebounceBindingBehavior = undefined;\n\n  \n\n  function debounce(newValue) {\n    var _this = this;\n\n    var state = this.debounceState;\n    if (state.immediate) {\n      state.immediate = false;\n      this.debouncedMethod(newValue);\n      return;\n    }\n    clearTimeout(state.timeoutId);\n    state.timeoutId = setTimeout(function () {\n      return _this.debouncedMethod(newValue);\n    }, state.delay);\n  }\n\n  var DebounceBindingBehavior = exports.DebounceBindingBehavior = function () {\n    function DebounceBindingBehavior() {\n      \n    }\n\n    DebounceBindingBehavior.prototype.bind = function bind(binding, source) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;\n\n      var methodToDebounce = 'updateTarget';\n      if (binding.callSource) {\n        methodToDebounce = 'callSource';\n      } else if (binding.updateSource && binding.mode === _aureliaBinding.bindingMode.twoWay) {\n        methodToDebounce = 'updateSource';\n      }\n\n      binding.debouncedMethod = binding[methodToDebounce];\n      binding.debouncedMethod.originalName = methodToDebounce;\n\n      binding[methodToDebounce] = debounce;\n\n      binding.debounceState = {\n        delay: delay,\n        timeoutId: null,\n        immediate: methodToDebounce === 'updateTarget' };\n    };\n\n    DebounceBindingBehavior.prototype.unbind = function unbind(binding, source) {\n      var methodToRestore = binding.debouncedMethod.originalName;\n      binding[methodToRestore] = binding.debouncedMethod;\n      binding.debouncedMethod = null;\n      clearTimeout(binding.debounceState.timeoutId);\n      binding.debounceState = null;\n    };\n\n    return DebounceBindingBehavior;\n  }();\n});\r\ndefine('aurelia-templating-resources/self-binding-behavior',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  \n\n  function findOriginalEventTarget(event) {\n    return event.path && event.path[0] || event.deepPath && event.deepPath[0] || event.target;\n  }\n\n  function handleSelfEvent(event) {\n    var target = findOriginalEventTarget(event);\n    if (this.target !== target) return;\n    this.selfEventCallSource(event);\n  }\n\n  var SelfBindingBehavior = exports.SelfBindingBehavior = function () {\n    function SelfBindingBehavior() {\n      \n    }\n\n    SelfBindingBehavior.prototype.bind = function bind(binding, source) {\n      if (!binding.callSource || !binding.targetEvent) throw new Error('Self binding behavior only supports event.');\n      binding.selfEventCallSource = binding.callSource;\n      binding.callSource = handleSelfEvent;\n    };\n\n    SelfBindingBehavior.prototype.unbind = function unbind(binding, source) {\n      binding.callSource = binding.selfEventCallSource;\n      binding.selfEventCallSource = null;\n    };\n\n    return SelfBindingBehavior;\n  }();\n});\r\ndefine('aurelia-templating-resources/signal-binding-behavior',['exports', './binding-signaler'], function (exports, _bindingSignaler) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SignalBindingBehavior = undefined;\n\n  \n\n  var SignalBindingBehavior = exports.SignalBindingBehavior = function () {\n    SignalBindingBehavior.inject = function inject() {\n      return [_bindingSignaler.BindingSignaler];\n    };\n\n    function SignalBindingBehavior(bindingSignaler) {\n      \n\n      this.signals = bindingSignaler.signals;\n    }\n\n    SignalBindingBehavior.prototype.bind = function bind(binding, source) {\n      if (!binding.updateTarget) {\n        throw new Error('Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.');\n      }\n      if (arguments.length === 3) {\n        var name = arguments[2];\n        var bindings = this.signals[name] || (this.signals[name] = []);\n        bindings.push(binding);\n        binding.signalName = name;\n      } else if (arguments.length > 3) {\n        var names = Array.prototype.slice.call(arguments, 2);\n        var i = names.length;\n        while (i--) {\n          var _name = names[i];\n          var _bindings = this.signals[_name] || (this.signals[_name] = []);\n          _bindings.push(binding);\n        }\n        binding.signalName = names;\n      } else {\n        throw new Error('Signal name is required.');\n      }\n    };\n\n    SignalBindingBehavior.prototype.unbind = function unbind(binding, source) {\n      var name = binding.signalName;\n      binding.signalName = null;\n      if (Array.isArray(name)) {\n        var names = name;\n        var i = names.length;\n        while (i--) {\n          var n = names[i];\n          var bindings = this.signals[n];\n          bindings.splice(bindings.indexOf(binding), 1);\n        }\n      } else {\n        var _bindings2 = this.signals[name];\n        _bindings2.splice(_bindings2.indexOf(binding), 1);\n      }\n    };\n\n    return SignalBindingBehavior;\n  }();\n});\r\ndefine('aurelia-templating-resources/binding-signaler',['exports', 'aurelia-binding'], function (exports, _aureliaBinding) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.BindingSignaler = undefined;\n\n  \n\n  var BindingSignaler = exports.BindingSignaler = function () {\n    function BindingSignaler() {\n      \n\n      this.signals = {};\n    }\n\n    BindingSignaler.prototype.signal = function signal(name) {\n      var bindings = this.signals[name];\n      if (!bindings) {\n        return;\n      }\n      var i = bindings.length;\n      while (i--) {\n        bindings[i].call(_aureliaBinding.sourceContext);\n      }\n    };\n\n    return BindingSignaler;\n  }();\n});\r\ndefine('aurelia-templating-resources/update-trigger-binding-behavior',['exports', 'aurelia-binding'], function (exports, _aureliaBinding) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.UpdateTriggerBindingBehavior = undefined;\n\n  \n\n  var _class, _temp;\n\n  var eventNamesRequired = 'The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:\\'blur\\'\">';\n  var notApplicableMessage = 'The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.';\n\n  var UpdateTriggerBindingBehavior = exports.UpdateTriggerBindingBehavior = (_temp = _class = function () {\n    function UpdateTriggerBindingBehavior(eventManager) {\n      \n\n      this.eventManager = eventManager;\n    }\n\n    UpdateTriggerBindingBehavior.prototype.bind = function bind(binding, source) {\n      for (var _len = arguments.length, events = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        events[_key - 2] = arguments[_key];\n      }\n\n      if (events.length === 0) {\n        throw new Error(eventNamesRequired);\n      }\n      if (binding.mode !== _aureliaBinding.bindingMode.twoWay) {\n        throw new Error(notApplicableMessage);\n      }\n\n      var targetObserver = binding.observerLocator.getObserver(binding.target, binding.targetProperty);\n      if (!targetObserver.handler) {\n        throw new Error(notApplicableMessage);\n      }\n      binding.targetObserver = targetObserver;\n\n      targetObserver.originalHandler = binding.targetObserver.handler;\n\n      var handler = this.eventManager.createElementHandler(events);\n      targetObserver.handler = handler;\n    };\n\n    UpdateTriggerBindingBehavior.prototype.unbind = function unbind(binding, source) {\n      binding.targetObserver.handler = binding.targetObserver.originalHandler;\n      binding.targetObserver.originalHandler = null;\n    };\n\n    return UpdateTriggerBindingBehavior;\n  }(), _class.inject = [_aureliaBinding.EventManager], _temp);\n});\r\ndefine('aurelia-templating-resources/html-resource-plugin',['exports', 'aurelia-templating', './dynamic-element'], function (exports, _aureliaTemplating, _dynamicElement) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getElementName = getElementName;\n  exports.configure = configure;\n  function getElementName(address) {\n    return (/([^\\/^\\?]+)\\.html/i.exec(address)[1].toLowerCase()\n    );\n  }\n\n  function configure(config) {\n    var viewEngine = config.container.get(_aureliaTemplating.ViewEngine);\n    var loader = config.aurelia.loader;\n\n    viewEngine.addResourcePlugin('.html', {\n      'fetch': function fetch(address) {\n        return loader.loadTemplate(address).then(function (registryEntry) {\n          var _ref;\n\n          var bindable = registryEntry.template.getAttribute('bindable');\n          var elementName = getElementName(address);\n\n          if (bindable) {\n            bindable = bindable.split(',').map(function (x) {\n              return x.trim();\n            });\n            registryEntry.template.removeAttribute('bindable');\n          } else {\n            bindable = [];\n          }\n\n          return _ref = {}, _ref[elementName] = (0, _dynamicElement._createDynamicElement)(elementName, address, bindable), _ref;\n        });\n      }\n    });\n  }\n});\r\ndefine('aurelia-templating-resources/dynamic-element',['exports', 'aurelia-templating'], function (exports, _aureliaTemplating) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports._createDynamicElement = _createDynamicElement;\n\n  \n\n  function _createDynamicElement(name, viewUrl, bindableNames) {\n    var _dec, _dec2, _class;\n\n    var DynamicElement = (_dec = (0, _aureliaTemplating.customElement)(name), _dec2 = (0, _aureliaTemplating.useView)(viewUrl), _dec(_class = _dec2(_class = function () {\n      function DynamicElement() {\n        \n      }\n\n      DynamicElement.prototype.bind = function bind(bindingContext) {\n        this.$parent = bindingContext;\n      };\n\n      return DynamicElement;\n    }()) || _class) || _class);\n\n    for (var i = 0, ii = bindableNames.length; i < ii; ++i) {\n      (0, _aureliaTemplating.bindable)(bindableNames[i])(DynamicElement);\n    }\n    return DynamicElement;\n  }\n});\r\ndefine('aurelia-templating-router/route-loader',['exports', 'aurelia-dependency-injection', 'aurelia-templating', 'aurelia-router', 'aurelia-path', 'aurelia-metadata', './router-view'], function (exports, _aureliaDependencyInjection, _aureliaTemplating, _aureliaRouter, _aureliaPath, _aureliaMetadata, _routerView) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TemplatingRouteLoader = undefined;\n\n  \n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var _dec, _class;\n\n  var TemplatingRouteLoader = exports.TemplatingRouteLoader = (_dec = (0, _aureliaDependencyInjection.inject)(_aureliaTemplating.CompositionEngine), _dec(_class = function (_RouteLoader) {\n    _inherits(TemplatingRouteLoader, _RouteLoader);\n\n    function TemplatingRouteLoader(compositionEngine) {\n      \n\n      var _this = _possibleConstructorReturn(this, _RouteLoader.call(this));\n\n      _this.compositionEngine = compositionEngine;\n      return _this;\n    }\n\n    TemplatingRouteLoader.prototype.loadRoute = function loadRoute(router, config) {\n      var childContainer = router.container.createChild();\n\n      var viewModel = /\\.html/.test(config.moduleId) ? createDynamicClass(config.moduleId) : (0, _aureliaPath.relativeToFile)(config.moduleId, _aureliaMetadata.Origin.get(router.container.viewModel.constructor).moduleId);\n\n      var instruction = {\n        viewModel: viewModel,\n        childContainer: childContainer,\n        view: config.view || config.viewStrategy,\n        router: router\n      };\n\n      childContainer.registerSingleton(_routerView.RouterViewLocator);\n\n      childContainer.getChildRouter = function () {\n        var childRouter = void 0;\n\n        childContainer.registerHandler(_aureliaRouter.Router, function (c) {\n          return childRouter || (childRouter = router.createChild(childContainer));\n        });\n\n        return childContainer.get(_aureliaRouter.Router);\n      };\n\n      return this.compositionEngine.ensureViewModel(instruction);\n    };\n\n    return TemplatingRouteLoader;\n  }(_aureliaRouter.RouteLoader)) || _class);\n\n\n  function createDynamicClass(moduleId) {\n    var _dec2, _dec3, _class2;\n\n    var name = /([^\\/^\\?]+)\\.html/i.exec(moduleId)[1];\n\n    var DynamicClass = (_dec2 = (0, _aureliaTemplating.customElement)(name), _dec3 = (0, _aureliaTemplating.useView)(moduleId), _dec2(_class2 = _dec3(_class2 = function () {\n      function DynamicClass() {\n        \n      }\n\n      DynamicClass.prototype.bind = function bind(bindingContext) {\n        this.$parent = bindingContext;\n      };\n\n      return DynamicClass;\n    }()) || _class2) || _class2);\n\n\n    return DynamicClass;\n  }\n});\r\ndefine('aurelia-templating-router/router-view',['exports', 'aurelia-dependency-injection', 'aurelia-binding', 'aurelia-templating', 'aurelia-router', 'aurelia-metadata', 'aurelia-pal'], function (exports, _aureliaDependencyInjection, _aureliaBinding, _aureliaTemplating, _aureliaRouter, _aureliaMetadata, _aureliaPal) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RouterViewLocator = exports.RouterView = undefined;\n\n  function _initDefineProp(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n    });\n  }\n\n  \n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n  }\n\n  var _dec, _dec2, _class, _desc, _value, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n\n  var RouterView = exports.RouterView = (_dec = (0, _aureliaTemplating.customElement)('router-view'), _dec2 = (0, _aureliaDependencyInjection.inject)(_aureliaPal.DOM.Element, _aureliaDependencyInjection.Container, _aureliaTemplating.ViewSlot, _aureliaRouter.Router, _aureliaTemplating.ViewLocator, _aureliaTemplating.CompositionTransaction, _aureliaTemplating.CompositionEngine), _dec(_class = (0, _aureliaTemplating.noView)(_class = _dec2(_class = (_class2 = function () {\n    function RouterView(element, container, viewSlot, router, viewLocator, compositionTransaction, compositionEngine) {\n      \n\n      _initDefineProp(this, 'swapOrder', _descriptor, this);\n\n      _initDefineProp(this, 'layoutView', _descriptor2, this);\n\n      _initDefineProp(this, 'layoutViewModel', _descriptor3, this);\n\n      _initDefineProp(this, 'layoutModel', _descriptor4, this);\n\n      this.element = element;\n      this.container = container;\n      this.viewSlot = viewSlot;\n      this.router = router;\n      this.viewLocator = viewLocator;\n      this.compositionTransaction = compositionTransaction;\n      this.compositionEngine = compositionEngine;\n      this.router.registerViewPort(this, this.element.getAttribute('name'));\n\n      if (!('initialComposition' in compositionTransaction)) {\n        compositionTransaction.initialComposition = true;\n        this.compositionTransactionNotifier = compositionTransaction.enlist();\n      }\n    }\n\n    RouterView.prototype.created = function created(owningView) {\n      this.owningView = owningView;\n    };\n\n    RouterView.prototype.bind = function bind(bindingContext, overrideContext) {\n      this.container.viewModel = bindingContext;\n      this.overrideContext = overrideContext;\n    };\n\n    RouterView.prototype.process = function process(viewPortInstruction, waitToSwap) {\n      var _this = this;\n\n      var component = viewPortInstruction.component;\n      var childContainer = component.childContainer;\n      var viewModel = component.viewModel;\n      var viewModelResource = component.viewModelResource;\n      var metadata = viewModelResource.metadata;\n      var config = component.router.currentInstruction.config;\n      var viewPort = config.viewPorts ? config.viewPorts[viewPortInstruction.name] : {};\n\n      childContainer.get(RouterViewLocator)._notify(this);\n\n      var layoutInstruction = {\n        viewModel: viewPort.layoutViewModel || config.layoutViewModel || this.layoutViewModel,\n        view: viewPort.layoutView || config.layoutView || this.layoutView,\n        model: viewPort.layoutModel || config.layoutModel || this.layoutModel,\n        router: viewPortInstruction.component.router,\n        childContainer: childContainer,\n        viewSlot: this.viewSlot\n      };\n\n      var viewStrategy = this.viewLocator.getViewStrategy(component.view || viewModel);\n      if (viewStrategy && component.view) {\n        viewStrategy.makeRelativeTo(_aureliaMetadata.Origin.get(component.router.container.viewModel.constructor).moduleId);\n      }\n\n      return metadata.load(childContainer, viewModelResource.value, null, viewStrategy, true).then(function (viewFactory) {\n        if (!_this.compositionTransactionNotifier) {\n          _this.compositionTransactionOwnershipToken = _this.compositionTransaction.tryCapture();\n        }\n\n        if (layoutInstruction.viewModel || layoutInstruction.view) {\n          viewPortInstruction.layoutInstruction = layoutInstruction;\n        }\n\n        viewPortInstruction.controller = metadata.create(childContainer, _aureliaTemplating.BehaviorInstruction.dynamic(_this.element, viewModel, viewFactory));\n\n        if (waitToSwap) {\n          return null;\n        }\n\n        _this.swap(viewPortInstruction);\n      });\n    };\n\n    RouterView.prototype.swap = function swap(viewPortInstruction) {\n      var _this2 = this;\n\n      var layoutInstruction = viewPortInstruction.layoutInstruction;\n      var previousView = this.view;\n\n      var work = function work() {\n        var swapStrategy = _aureliaTemplating.SwapStrategies[_this2.swapOrder] || _aureliaTemplating.SwapStrategies.after;\n        var viewSlot = _this2.viewSlot;\n\n        swapStrategy(viewSlot, previousView, function () {\n          return Promise.resolve(viewSlot.add(_this2.view));\n        }).then(function () {\n          _this2._notify();\n        });\n      };\n\n      var ready = function ready(owningView) {\n        viewPortInstruction.controller.automate(_this2.overrideContext, owningView);\n        if (_this2.compositionTransactionOwnershipToken) {\n          return _this2.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function () {\n            _this2.compositionTransactionOwnershipToken = null;\n            return work();\n          });\n        }\n\n        return work();\n      };\n\n      if (layoutInstruction) {\n        if (!layoutInstruction.viewModel) {\n          layoutInstruction.viewModel = {};\n        }\n\n        return this.compositionEngine.createController(layoutInstruction).then(function (controller) {\n          _aureliaTemplating.ShadowDOM.distributeView(viewPortInstruction.controller.view, controller.slots || controller.view.slots);\n          controller.automate((0, _aureliaBinding.createOverrideContext)(layoutInstruction.viewModel), _this2.owningView);\n          controller.view.children.push(viewPortInstruction.controller.view);\n          return controller.view || controller;\n        }).then(function (newView) {\n          _this2.view = newView;\n          return ready(newView);\n        });\n      }\n\n      this.view = viewPortInstruction.controller.view;\n\n      return ready(this.owningView);\n    };\n\n    RouterView.prototype._notify = function _notify() {\n      if (this.compositionTransactionNotifier) {\n        this.compositionTransactionNotifier.done();\n        this.compositionTransactionNotifier = null;\n      }\n    };\n\n    return RouterView;\n  }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, 'swapOrder', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, 'layoutView', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, 'layoutViewModel', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, 'layoutModel', [_aureliaTemplating.bindable], {\n    enumerable: true,\n    initializer: null\n  })), _class2)) || _class) || _class) || _class);\n\n  var RouterViewLocator = exports.RouterViewLocator = function () {\n    function RouterViewLocator() {\n      var _this3 = this;\n\n      \n\n      this.promise = new Promise(function (resolve) {\n        return _this3.resolve = resolve;\n      });\n    }\n\n    RouterViewLocator.prototype.findNearest = function findNearest() {\n      return this.promise;\n    };\n\n    RouterViewLocator.prototype._notify = function _notify(routerView) {\n      this.resolve(routerView);\n    };\n\n    return RouterViewLocator;\n  }();\n});\r\ndefine('aurelia-templating-router/route-href',['exports', 'aurelia-templating', 'aurelia-dependency-injection', 'aurelia-router', 'aurelia-pal', 'aurelia-logging'], function (exports, _aureliaTemplating, _aureliaDependencyInjection, _aureliaRouter, _aureliaPal, _aureliaLogging) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RouteHref = undefined;\n\n  var LogManager = _interopRequireWildcard(_aureliaLogging);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  \n\n  var _dec, _dec2, _dec3, _dec4, _dec5, _class;\n\n  var logger = LogManager.getLogger('route-href');\n\n  var RouteHref = exports.RouteHref = (_dec = (0, _aureliaTemplating.customAttribute)('route-href'), _dec2 = (0, _aureliaTemplating.bindable)({ name: 'route', changeHandler: 'processChange', primaryProperty: true }), _dec3 = (0, _aureliaTemplating.bindable)({ name: 'params', changeHandler: 'processChange' }), _dec4 = (0, _aureliaTemplating.bindable)({ name: 'attribute', defaultValue: 'href' }), _dec5 = (0, _aureliaDependencyInjection.inject)(_aureliaRouter.Router, _aureliaPal.DOM.Element), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = _dec5(_class = function () {\n    function RouteHref(router, element) {\n      \n\n      this.router = router;\n      this.element = element;\n    }\n\n    RouteHref.prototype.attached = function attached() {\n      this.isActive = true;\n      this.processChange();\n    };\n\n    RouteHref.prototype.unbind = function unbind() {\n      this.isActive = false;\n    };\n\n    RouteHref.prototype.attributeChanged = function attributeChanged(value, previous) {\n      if (previous) {\n        this.element.removeAttribute(previous);\n      }\n\n      this.processChange();\n    };\n\n    RouteHref.prototype.processChange = function processChange() {\n      var _this = this;\n\n      return this.router.ensureConfigured().then(function () {\n        if (!_this.isActive) {\n          return null;\n        }\n\n        var href = _this.router.generate(_this.route, _this.params);\n\n        if (_this.element.au.controller) {\n          _this.element.au.controller.viewModel[_this.attribute] = href;\n        } else {\n          _this.element.setAttribute(_this.attribute, href);\n        }\n\n        return null;\n      }).catch(function (reason) {\n        logger.error(reason);\n      });\n    };\n\n    return RouteHref;\n  }()) || _class) || _class) || _class) || _class) || _class);\n});\r\ndefine('aurelia-templating-binding',['exports', 'aurelia-logging', 'aurelia-binding', 'aurelia-templating'], function (exports, _aureliaLogging, _aureliaBinding, _aureliaTemplating) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TemplatingBindingLanguage = exports.SyntaxInterpreter = exports.ChildInterpolationBinding = exports.InterpolationBinding = exports.InterpolationBindingExpression = exports.AttributeMap = undefined;\n  exports.configure = configure;\n\n  var LogManager = _interopRequireWildcard(_aureliaLogging);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  \n\n  var _class, _temp, _dec, _class2, _class3, _temp2, _class4, _temp3;\n\n  var AttributeMap = exports.AttributeMap = (_temp = _class = function () {\n    function AttributeMap(svg) {\n      \n\n      this.elements = Object.create(null);\n      this.allElements = Object.create(null);\n\n      this.svg = svg;\n\n      this.registerUniversal('accesskey', 'accessKey');\n      this.registerUniversal('contenteditable', 'contentEditable');\n      this.registerUniversal('tabindex', 'tabIndex');\n      this.registerUniversal('textcontent', 'textContent');\n      this.registerUniversal('innerhtml', 'innerHTML');\n      this.registerUniversal('scrolltop', 'scrollTop');\n      this.registerUniversal('scrollleft', 'scrollLeft');\n      this.registerUniversal('readonly', 'readOnly');\n\n      this.register('label', 'for', 'htmlFor');\n\n      this.register('img', 'usemap', 'useMap');\n\n      this.register('input', 'maxlength', 'maxLength');\n      this.register('input', 'minlength', 'minLength');\n      this.register('input', 'formaction', 'formAction');\n      this.register('input', 'formenctype', 'formEncType');\n      this.register('input', 'formmethod', 'formMethod');\n      this.register('input', 'formnovalidate', 'formNoValidate');\n      this.register('input', 'formtarget', 'formTarget');\n\n      this.register('textarea', 'maxlength', 'maxLength');\n\n      this.register('td', 'rowspan', 'rowSpan');\n      this.register('td', 'colspan', 'colSpan');\n      this.register('th', 'rowspan', 'rowSpan');\n      this.register('th', 'colspan', 'colSpan');\n    }\n\n    AttributeMap.prototype.register = function register(elementName, attributeName, propertyName) {\n      elementName = elementName.toLowerCase();\n      attributeName = attributeName.toLowerCase();\n      var element = this.elements[elementName] = this.elements[elementName] || Object.create(null);\n      element[attributeName] = propertyName;\n    };\n\n    AttributeMap.prototype.registerUniversal = function registerUniversal(attributeName, propertyName) {\n      attributeName = attributeName.toLowerCase();\n      this.allElements[attributeName] = propertyName;\n    };\n\n    AttributeMap.prototype.map = function map(elementName, attributeName) {\n      if (this.svg.isStandardSvgAttribute(elementName, attributeName)) {\n        return attributeName;\n      }\n      elementName = elementName.toLowerCase();\n      attributeName = attributeName.toLowerCase();\n      var element = this.elements[elementName];\n      if (element !== undefined && attributeName in element) {\n        return element[attributeName];\n      }\n      if (attributeName in this.allElements) {\n        return this.allElements[attributeName];\n      }\n\n      if (/(?:^data-)|(?:^aria-)|:/.test(attributeName)) {\n        return attributeName;\n      }\n      return (0, _aureliaBinding.camelCase)(attributeName);\n    };\n\n    return AttributeMap;\n  }(), _class.inject = [_aureliaBinding.SVGAnalyzer], _temp);\n\n  var InterpolationBindingExpression = exports.InterpolationBindingExpression = function () {\n    function InterpolationBindingExpression(observerLocator, targetProperty, parts, mode, lookupFunctions, attribute) {\n      \n\n      this.observerLocator = observerLocator;\n      this.targetProperty = targetProperty;\n      this.parts = parts;\n      this.mode = mode;\n      this.lookupFunctions = lookupFunctions;\n      this.attribute = this.attrToRemove = attribute;\n      this.discrete = false;\n    }\n\n    InterpolationBindingExpression.prototype.createBinding = function createBinding(target) {\n      if (this.parts.length === 3) {\n        return new ChildInterpolationBinding(target, this.observerLocator, this.parts[1], this.mode, this.lookupFunctions, this.targetProperty, this.parts[0], this.parts[2]);\n      }\n      return new InterpolationBinding(this.observerLocator, this.parts, target, this.targetProperty, this.mode, this.lookupFunctions);\n    };\n\n    return InterpolationBindingExpression;\n  }();\n\n  function validateTarget(target, propertyName) {\n    if (propertyName === 'style') {\n      LogManager.getLogger('templating-binding').info('Internet Explorer does not support interpolation in \"style\" attributes.  Use the style attribute\\'s alias, \"css\" instead.');\n    } else if (target.parentElement && target.parentElement.nodeName === 'TEXTAREA' && propertyName === 'textContent') {\n      throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind=\"expression\"></textarea> instead.');\n    }\n  }\n\n  var InterpolationBinding = exports.InterpolationBinding = function () {\n    function InterpolationBinding(observerLocator, parts, target, targetProperty, mode, lookupFunctions) {\n      \n\n      validateTarget(target, targetProperty);\n      this.observerLocator = observerLocator;\n      this.parts = parts;\n      this.target = target;\n      this.targetProperty = targetProperty;\n      this.targetAccessor = observerLocator.getAccessor(target, targetProperty);\n      this.mode = mode;\n      this.lookupFunctions = lookupFunctions;\n    }\n\n    InterpolationBinding.prototype.interpolate = function interpolate() {\n      if (this.isBound) {\n        var value = '';\n        var parts = this.parts;\n        for (var i = 0, ii = parts.length; i < ii; i++) {\n          value += i % 2 === 0 ? parts[i] : this['childBinding' + i].value;\n        }\n        this.targetAccessor.setValue(value, this.target, this.targetProperty);\n      }\n    };\n\n    InterpolationBinding.prototype.updateOneTimeBindings = function updateOneTimeBindings() {\n      for (var i = 1, ii = this.parts.length; i < ii; i += 2) {\n        var child = this['childBinding' + i];\n        if (child.mode === _aureliaBinding.bindingMode.oneTime) {\n          child.call();\n        }\n      }\n    };\n\n    InterpolationBinding.prototype.bind = function bind(source) {\n      if (this.isBound) {\n        if (this.source === source) {\n          return;\n        }\n        this.unbind();\n      }\n      this.source = source;\n\n      var parts = this.parts;\n      for (var i = 1, ii = parts.length; i < ii; i += 2) {\n        var binding = new ChildInterpolationBinding(this, this.observerLocator, parts[i], this.mode, this.lookupFunctions);\n        binding.bind(source);\n        this['childBinding' + i] = binding;\n      }\n\n      this.isBound = true;\n      this.interpolate();\n    };\n\n    InterpolationBinding.prototype.unbind = function unbind() {\n      if (!this.isBound) {\n        return;\n      }\n      this.isBound = false;\n      this.source = null;\n      var parts = this.parts;\n      for (var i = 1, ii = parts.length; i < ii; i += 2) {\n        var name = 'childBinding' + i;\n        this[name].unbind();\n      }\n    };\n\n    return InterpolationBinding;\n  }();\n\n  var ChildInterpolationBinding = exports.ChildInterpolationBinding = (_dec = (0, _aureliaBinding.connectable)(), _dec(_class2 = function () {\n    function ChildInterpolationBinding(target, observerLocator, sourceExpression, mode, lookupFunctions, targetProperty, left, right) {\n      \n\n      if (target instanceof InterpolationBinding) {\n        this.parent = target;\n      } else {\n        validateTarget(target, targetProperty);\n        this.target = target;\n        this.targetProperty = targetProperty;\n        this.targetAccessor = observerLocator.getAccessor(target, targetProperty);\n      }\n      this.observerLocator = observerLocator;\n      this.sourceExpression = sourceExpression;\n      this.mode = mode;\n      this.lookupFunctions = lookupFunctions;\n      this.left = left;\n      this.right = right;\n    }\n\n    ChildInterpolationBinding.prototype.updateTarget = function updateTarget(value) {\n      value = value === null || value === undefined ? '' : value.toString();\n      if (value !== this.value) {\n        this.value = value;\n        if (this.parent) {\n          this.parent.interpolate();\n        } else {\n          this.targetAccessor.setValue(this.left + value + this.right, this.target, this.targetProperty);\n        }\n      }\n    };\n\n    ChildInterpolationBinding.prototype.call = function call() {\n      if (!this.isBound) {\n        return;\n      }\n\n      this.rawValue = this.sourceExpression.evaluate(this.source, this.lookupFunctions);\n      this.updateTarget(this.rawValue);\n\n      if (this.mode !== _aureliaBinding.bindingMode.oneTime) {\n        this._version++;\n        this.sourceExpression.connect(this, this.source);\n        if (this.rawValue instanceof Array) {\n          this.observeArray(this.rawValue);\n        }\n        this.unobserve(false);\n      }\n    };\n\n    ChildInterpolationBinding.prototype.bind = function bind(source) {\n      if (this.isBound) {\n        if (this.source === source) {\n          return;\n        }\n        this.unbind();\n      }\n      this.isBound = true;\n      this.source = source;\n\n      var sourceExpression = this.sourceExpression;\n      if (sourceExpression.bind) {\n        sourceExpression.bind(this, source, this.lookupFunctions);\n      }\n\n      this.rawValue = sourceExpression.evaluate(source, this.lookupFunctions);\n      this.updateTarget(this.rawValue);\n\n      if (this.mode === _aureliaBinding.bindingMode.oneWay) {\n        (0, _aureliaBinding.enqueueBindingConnect)(this);\n      }\n    };\n\n    ChildInterpolationBinding.prototype.unbind = function unbind() {\n      if (!this.isBound) {\n        return;\n      }\n      this.isBound = false;\n      var sourceExpression = this.sourceExpression;\n      if (sourceExpression.unbind) {\n        sourceExpression.unbind(this, this.source);\n      }\n      this.source = null;\n      this.value = null;\n      this.rawValue = null;\n      this.unobserve(true);\n    };\n\n    ChildInterpolationBinding.prototype.connect = function connect(evaluate) {\n      if (!this.isBound) {\n        return;\n      }\n      if (evaluate) {\n        this.rawValue = this.sourceExpression.evaluate(this.source, this.lookupFunctions);\n        this.updateTarget(this.rawValue);\n      }\n      this.sourceExpression.connect(this, this.source);\n      if (this.rawValue instanceof Array) {\n        this.observeArray(this.rawValue);\n      }\n    };\n\n    return ChildInterpolationBinding;\n  }()) || _class2);\n  var SyntaxInterpreter = exports.SyntaxInterpreter = (_temp2 = _class3 = function () {\n    function SyntaxInterpreter(parser, observerLocator, eventManager, attributeMap) {\n      \n\n      this.parser = parser;\n      this.observerLocator = observerLocator;\n      this.eventManager = eventManager;\n      this.attributeMap = attributeMap;\n    }\n\n    SyntaxInterpreter.prototype.interpret = function interpret(resources, element, info, existingInstruction, context) {\n      if (info.command in this) {\n        return this[info.command](resources, element, info, existingInstruction, context);\n      }\n\n      return this.handleUnknownCommand(resources, element, info, existingInstruction, context);\n    };\n\n    SyntaxInterpreter.prototype.handleUnknownCommand = function handleUnknownCommand(resources, element, info, existingInstruction, context) {\n      LogManager.getLogger('templating-binding').warn('Unknown binding command.', info);\n      return existingInstruction;\n    };\n\n    SyntaxInterpreter.prototype.determineDefaultBindingMode = function determineDefaultBindingMode(element, attrName, context) {\n      var tagName = element.tagName.toLowerCase();\n\n      if (tagName === 'input' && (attrName === 'value' || attrName === 'files') && element.type !== 'checkbox' && element.type !== 'radio' || tagName === 'input' && attrName === 'checked' && (element.type === 'checkbox' || element.type === 'radio') || (tagName === 'textarea' || tagName === 'select') && attrName === 'value' || (attrName === 'textcontent' || attrName === 'innerhtml') && element.contentEditable === 'true' || attrName === 'scrolltop' || attrName === 'scrollleft') {\n        return _aureliaBinding.bindingMode.twoWay;\n      }\n\n      if (context && attrName in context.attributes && context.attributes[attrName] && context.attributes[attrName].defaultBindingMode >= _aureliaBinding.bindingMode.oneTime) {\n        return context.attributes[attrName].defaultBindingMode;\n      }\n\n      return _aureliaBinding.bindingMode.oneWay;\n    };\n\n    SyntaxInterpreter.prototype.bind = function bind(resources, element, info, existingInstruction, context) {\n      var instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(info.attrName);\n\n      instruction.attributes[info.attrName] = new _aureliaBinding.BindingExpression(this.observerLocator, this.attributeMap.map(element.tagName, info.attrName), this.parser.parse(info.attrValue), info.defaultBindingMode === undefined || info.defaultBindingMode === null ? this.determineDefaultBindingMode(element, info.attrName, context) : info.defaultBindingMode, resources.lookupFunctions);\n\n      return instruction;\n    };\n\n    SyntaxInterpreter.prototype.trigger = function trigger(resources, element, info) {\n      return new _aureliaBinding.ListenerExpression(this.eventManager, info.attrName, this.parser.parse(info.attrValue), _aureliaBinding.delegationStrategy.none, true, resources.lookupFunctions);\n    };\n\n    SyntaxInterpreter.prototype.capture = function capture(resources, element, info) {\n      return new _aureliaBinding.ListenerExpression(this.eventManager, info.attrName, this.parser.parse(info.attrValue), _aureliaBinding.delegationStrategy.capturing, true, resources.lookupFunctions);\n    };\n\n    SyntaxInterpreter.prototype.delegate = function delegate(resources, element, info) {\n      return new _aureliaBinding.ListenerExpression(this.eventManager, info.attrName, this.parser.parse(info.attrValue), _aureliaBinding.delegationStrategy.bubbling, true, resources.lookupFunctions);\n    };\n\n    SyntaxInterpreter.prototype.call = function call(resources, element, info, existingInstruction) {\n      var instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(info.attrName);\n\n      instruction.attributes[info.attrName] = new _aureliaBinding.CallExpression(this.observerLocator, info.attrName, this.parser.parse(info.attrValue), resources.lookupFunctions);\n\n      return instruction;\n    };\n\n    SyntaxInterpreter.prototype.options = function options(resources, element, info, existingInstruction, context) {\n      var instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(info.attrName);\n      var attrValue = info.attrValue;\n      var language = this.language;\n      var name = null;\n      var target = '';\n      var current = void 0;\n      var i = void 0;\n      var ii = void 0;\n      var inString = false;\n      var inEscape = false;\n      var foundName = false;\n\n      for (i = 0, ii = attrValue.length; i < ii; ++i) {\n        current = attrValue[i];\n\n        if (current === ';' && !inString) {\n          if (!foundName) {\n            name = this._getPrimaryPropertyName(resources, context);\n          }\n          info = language.inspectAttribute(resources, '?', name, target.trim());\n          language.createAttributeInstruction(resources, element, info, instruction, context);\n\n          if (!instruction.attributes[info.attrName]) {\n            instruction.attributes[info.attrName] = info.attrValue;\n          }\n\n          target = '';\n          name = null;\n        } else if (current === ':' && name === null) {\n          foundName = true;\n          name = target.trim();\n          target = '';\n        } else if (current === '\\\\') {\n          target += current;\n          inEscape = true;\n          continue;\n        } else {\n          target += current;\n\n          if (name !== null && inEscape === false && current === '\\'') {\n            inString = !inString;\n          }\n        }\n\n        inEscape = false;\n      }\n\n      if (!foundName) {\n        name = this._getPrimaryPropertyName(resources, context);\n      }\n\n      if (name !== null) {\n        info = language.inspectAttribute(resources, '?', name, target.trim());\n        language.createAttributeInstruction(resources, element, info, instruction, context);\n\n        if (!instruction.attributes[info.attrName]) {\n          instruction.attributes[info.attrName] = info.attrValue;\n        }\n      }\n\n      return instruction;\n    };\n\n    SyntaxInterpreter.prototype._getPrimaryPropertyName = function _getPrimaryPropertyName(resources, context) {\n      var type = resources.getAttribute(context.attributeName);\n      if (type && type.primaryProperty) {\n        return type.primaryProperty.name;\n      }\n      return null;\n    };\n\n    SyntaxInterpreter.prototype['for'] = function _for(resources, element, info, existingInstruction) {\n      var parts = void 0;\n      var keyValue = void 0;\n      var instruction = void 0;\n      var attrValue = void 0;\n      var isDestructuring = void 0;\n\n      attrValue = info.attrValue;\n      isDestructuring = attrValue.match(/^ *[[].+[\\]]/);\n      parts = isDestructuring ? attrValue.split('of ') : attrValue.split(' of ');\n\n      if (parts.length !== 2) {\n        throw new Error('Incorrect syntax for \"for\". The form is: \"$local of $items\" or \"[$key, $value] of $items\".');\n      }\n\n      instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(info.attrName);\n\n      if (isDestructuring) {\n        keyValue = parts[0].replace(/[[\\]]/g, '').replace(/,/g, ' ').replace(/\\s+/g, ' ').trim().split(' ');\n        instruction.attributes.key = keyValue[0];\n        instruction.attributes.value = keyValue[1];\n      } else {\n        instruction.attributes.local = parts[0];\n      }\n\n      instruction.attributes.items = new _aureliaBinding.BindingExpression(this.observerLocator, 'items', this.parser.parse(parts[1]), _aureliaBinding.bindingMode.oneWay, resources.lookupFunctions);\n\n      return instruction;\n    };\n\n    SyntaxInterpreter.prototype['two-way'] = function twoWay(resources, element, info, existingInstruction) {\n      var instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(info.attrName);\n\n      instruction.attributes[info.attrName] = new _aureliaBinding.BindingExpression(this.observerLocator, this.attributeMap.map(element.tagName, info.attrName), this.parser.parse(info.attrValue), _aureliaBinding.bindingMode.twoWay, resources.lookupFunctions);\n\n      return instruction;\n    };\n\n    SyntaxInterpreter.prototype['to-view'] = function toView(resources, element, info, existingInstruction) {\n      var instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(info.attrName);\n\n      instruction.attributes[info.attrName] = new _aureliaBinding.BindingExpression(this.observerLocator, this.attributeMap.map(element.tagName, info.attrName), this.parser.parse(info.attrValue), _aureliaBinding.bindingMode.toView, resources.lookupFunctions);\n\n      return instruction;\n    };\n\n    SyntaxInterpreter.prototype['from-view'] = function fromView(resources, element, info, existingInstruction) {\n      var instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(info.attrName);\n\n      instruction.attributes[info.attrName] = new _aureliaBinding.BindingExpression(this.observerLocator, this.attributeMap.map(element.tagName, info.attrName), this.parser.parse(info.attrValue), _aureliaBinding.bindingMode.fromView, resources.lookupFunctions);\n\n      return instruction;\n    };\n\n    SyntaxInterpreter.prototype['one-time'] = function oneTime(resources, element, info, existingInstruction) {\n      var instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(info.attrName);\n\n      instruction.attributes[info.attrName] = new _aureliaBinding.BindingExpression(this.observerLocator, this.attributeMap.map(element.tagName, info.attrName), this.parser.parse(info.attrValue), _aureliaBinding.bindingMode.oneTime, resources.lookupFunctions);\n\n      return instruction;\n    };\n\n    return SyntaxInterpreter;\n  }(), _class3.inject = [_aureliaBinding.Parser, _aureliaBinding.ObserverLocator, _aureliaBinding.EventManager, AttributeMap], _temp2);\n\n\n  SyntaxInterpreter.prototype['one-way'] = SyntaxInterpreter.prototype['to-view'];\n\n  var info = {};\n\n  var TemplatingBindingLanguage = exports.TemplatingBindingLanguage = (_temp3 = _class4 = function (_BindingLanguage) {\n    _inherits(TemplatingBindingLanguage, _BindingLanguage);\n\n    function TemplatingBindingLanguage(parser, observerLocator, syntaxInterpreter, attributeMap) {\n      \n\n      var _this = _possibleConstructorReturn(this, _BindingLanguage.call(this));\n\n      _this.parser = parser;\n      _this.observerLocator = observerLocator;\n      _this.syntaxInterpreter = syntaxInterpreter;\n      _this.emptyStringExpression = _this.parser.parse('\\'\\'');\n      syntaxInterpreter.language = _this;\n      _this.attributeMap = attributeMap;\n      return _this;\n    }\n\n    TemplatingBindingLanguage.prototype.inspectAttribute = function inspectAttribute(resources, elementName, attrName, attrValue) {\n      var parts = attrName.split('.');\n\n      info.defaultBindingMode = null;\n\n      if (parts.length === 2) {\n        info.attrName = parts[0].trim();\n        info.attrValue = attrValue;\n        info.command = parts[1].trim();\n\n        if (info.command === 'ref') {\n          info.expression = new _aureliaBinding.NameExpression(this.parser.parse(attrValue), info.attrName, resources.lookupFunctions);\n          info.command = null;\n          info.attrName = 'ref';\n        } else {\n          info.expression = null;\n        }\n      } else if (attrName === 'ref') {\n        info.attrName = attrName;\n        info.attrValue = attrValue;\n        info.command = null;\n        info.expression = new _aureliaBinding.NameExpression(this.parser.parse(attrValue), 'element', resources.lookupFunctions);\n      } else {\n        info.attrName = attrName;\n        info.attrValue = attrValue;\n        info.command = null;\n        var interpolationParts = this.parseInterpolation(resources, attrValue);\n        if (interpolationParts === null) {\n          info.expression = null;\n        } else {\n          info.expression = new InterpolationBindingExpression(this.observerLocator, this.attributeMap.map(elementName, attrName), interpolationParts, _aureliaBinding.bindingMode.oneWay, resources.lookupFunctions, attrName);\n        }\n      }\n\n      return info;\n    };\n\n    TemplatingBindingLanguage.prototype.createAttributeInstruction = function createAttributeInstruction(resources, element, theInfo, existingInstruction, context) {\n      var instruction = void 0;\n\n      if (theInfo.expression) {\n        if (theInfo.attrName === 'ref') {\n          return theInfo.expression;\n        }\n\n        instruction = existingInstruction || _aureliaTemplating.BehaviorInstruction.attribute(theInfo.attrName);\n        instruction.attributes[theInfo.attrName] = theInfo.expression;\n      } else if (theInfo.command) {\n        instruction = this.syntaxInterpreter.interpret(resources, element, theInfo, existingInstruction, context);\n      }\n\n      return instruction;\n    };\n\n    TemplatingBindingLanguage.prototype.inspectTextContent = function inspectTextContent(resources, value) {\n      var parts = this.parseInterpolation(resources, value);\n      if (parts === null) {\n        return null;\n      }\n      return new InterpolationBindingExpression(this.observerLocator, 'textContent', parts, _aureliaBinding.bindingMode.oneWay, resources.lookupFunctions, 'textContent');\n    };\n\n    TemplatingBindingLanguage.prototype.parseInterpolation = function parseInterpolation(resources, value) {\n      var i = value.indexOf('${', 0);\n      var ii = value.length;\n      var char = void 0;\n      var pos = 0;\n      var open = 0;\n      var quote = null;\n      var interpolationStart = void 0;\n      var parts = void 0;\n      var partIndex = 0;\n\n      while (i >= 0 && i < ii - 2) {\n        open = 1;\n        interpolationStart = i;\n        i += 2;\n\n        do {\n          char = value[i];\n          i++;\n\n          if (char === \"'\" || char === '\"') {\n            if (quote === null) {\n              quote = char;\n            } else if (quote === char) {\n              quote = null;\n            }\n            continue;\n          }\n\n          if (char === '\\\\') {\n            i++;\n            continue;\n          }\n\n          if (quote !== null) {\n            continue;\n          }\n\n          if (char === '{') {\n            open++;\n          } else if (char === '}') {\n            open--;\n          }\n        } while (open > 0 && i < ii);\n\n        if (open === 0) {\n          parts = parts || [];\n          if (value[interpolationStart - 1] === '\\\\' && value[interpolationStart - 2] !== '\\\\') {\n            parts[partIndex] = value.substring(pos, interpolationStart - 1) + value.substring(interpolationStart, i);\n            partIndex++;\n            parts[partIndex] = this.emptyStringExpression;\n            partIndex++;\n          } else {\n            parts[partIndex] = value.substring(pos, interpolationStart);\n            partIndex++;\n            parts[partIndex] = this.parser.parse(value.substring(interpolationStart + 2, i - 1));\n            partIndex++;\n          }\n          pos = i;\n          i = value.indexOf('${', i);\n        } else {\n          break;\n        }\n      }\n\n      if (partIndex === 0) {\n        return null;\n      }\n\n      parts[partIndex] = value.substr(pos);\n      return parts;\n    };\n\n    return TemplatingBindingLanguage;\n  }(_aureliaTemplating.BindingLanguage), _class4.inject = [_aureliaBinding.Parser, _aureliaBinding.ObserverLocator, SyntaxInterpreter, AttributeMap], _temp3);\n  function configure(config) {\n    config.container.registerSingleton(_aureliaTemplating.BindingLanguage, TemplatingBindingLanguage);\n    config.container.registerAlias(_aureliaTemplating.BindingLanguage, TemplatingBindingLanguage);\n  }\n});\r\ndefine('aurelia-templating-resources/aurelia-templating-resources',['exports', 'aurelia-pal', './compose', './if', './else', './with', './repeat', './show', './hide', './sanitize-html', './replaceable', './focus', 'aurelia-templating', './css-resource', './html-sanitizer', './attr-binding-behavior', './binding-mode-behaviors', './throttle-binding-behavior', './debounce-binding-behavior', './self-binding-behavior', './signal-binding-behavior', './binding-signaler', './update-trigger-binding-behavior', './abstract-repeater', './repeat-strategy-locator', './html-resource-plugin', './null-repeat-strategy', './array-repeat-strategy', './map-repeat-strategy', './set-repeat-strategy', './number-repeat-strategy', './repeat-utilities', './analyze-view-factory', './aurelia-hide-style'], function (exports, _aureliaPal, _compose, _if, _else, _with, _repeat, _show, _hide, _sanitizeHtml, _replaceable, _focus, _aureliaTemplating, _cssResource, _htmlSanitizer, _attrBindingBehavior, _bindingModeBehaviors, _throttleBindingBehavior, _debounceBindingBehavior, _selfBindingBehavior, _signalBindingBehavior, _bindingSignaler, _updateTriggerBindingBehavior, _abstractRepeater, _repeatStrategyLocator, _htmlResourcePlugin, _nullRepeatStrategy, _arrayRepeatStrategy, _mapRepeatStrategy, _setRepeatStrategy, _numberRepeatStrategy, _repeatUtilities, _analyzeViewFactory, _aureliaHideStyle) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.viewsRequireLifecycle = exports.unwrapExpression = exports.updateOneTimeBinding = exports.isOneTime = exports.getItemsSourceExpression = exports.updateOverrideContext = exports.createFullOverrideContext = exports.NumberRepeatStrategy = exports.SetRepeatStrategy = exports.MapRepeatStrategy = exports.ArrayRepeatStrategy = exports.NullRepeatStrategy = exports.RepeatStrategyLocator = exports.AbstractRepeater = exports.UpdateTriggerBindingBehavior = exports.BindingSignaler = exports.SignalBindingBehavior = exports.SelfBindingBehavior = exports.DebounceBindingBehavior = exports.ThrottleBindingBehavior = exports.TwoWayBindingBehavior = exports.OneWayBindingBehavior = exports.OneTimeBindingBehavior = exports.AttrBindingBehavior = exports.configure = exports.Focus = exports.Replaceable = exports.SanitizeHTMLValueConverter = exports.HTMLSanitizer = exports.Hide = exports.Show = exports.Repeat = exports.With = exports.Else = exports.If = exports.Compose = undefined;\n\n\n  function configure(config) {\n    (0, _aureliaHideStyle.injectAureliaHideStyleAtHead)();\n\n    config.globalResources(_aureliaPal.PLATFORM.moduleName('./compose'), _aureliaPal.PLATFORM.moduleName('./if'), _aureliaPal.PLATFORM.moduleName('./else'), _aureliaPal.PLATFORM.moduleName('./with'), _aureliaPal.PLATFORM.moduleName('./repeat'), _aureliaPal.PLATFORM.moduleName('./show'), _aureliaPal.PLATFORM.moduleName('./hide'), _aureliaPal.PLATFORM.moduleName('./replaceable'), _aureliaPal.PLATFORM.moduleName('./sanitize-html'), _aureliaPal.PLATFORM.moduleName('./focus'), _aureliaPal.PLATFORM.moduleName('./binding-mode-behaviors'), _aureliaPal.PLATFORM.moduleName('./self-binding-behavior'), _aureliaPal.PLATFORM.moduleName('./throttle-binding-behavior'), _aureliaPal.PLATFORM.moduleName('./debounce-binding-behavior'), _aureliaPal.PLATFORM.moduleName('./signal-binding-behavior'), _aureliaPal.PLATFORM.moduleName('./update-trigger-binding-behavior'), _aureliaPal.PLATFORM.moduleName('./attr-binding-behavior'));\n\n    (0, _htmlResourcePlugin.configure)(config);\n\n    var viewEngine = config.container.get(_aureliaTemplating.ViewEngine);\n    var styleResourcePlugin = {\n      fetch: function fetch(address) {\n        var _ref;\n\n        return _ref = {}, _ref[address] = (0, _cssResource._createCSSResource)(address), _ref;\n      }\n    };\n    ['.css', '.less', '.sass', '.scss', '.styl'].forEach(function (ext) {\n      return viewEngine.addResourcePlugin(ext, styleResourcePlugin);\n    });\n  }\n\n  exports.Compose = _compose.Compose;\n  exports.If = _if.If;\n  exports.Else = _else.Else;\n  exports.With = _with.With;\n  exports.Repeat = _repeat.Repeat;\n  exports.Show = _show.Show;\n  exports.Hide = _hide.Hide;\n  exports.HTMLSanitizer = _htmlSanitizer.HTMLSanitizer;\n  exports.SanitizeHTMLValueConverter = _sanitizeHtml.SanitizeHTMLValueConverter;\n  exports.Replaceable = _replaceable.Replaceable;\n  exports.Focus = _focus.Focus;\n  exports.configure = configure;\n  exports.AttrBindingBehavior = _attrBindingBehavior.AttrBindingBehavior;\n  exports.OneTimeBindingBehavior = _bindingModeBehaviors.OneTimeBindingBehavior;\n  exports.OneWayBindingBehavior = _bindingModeBehaviors.OneWayBindingBehavior;\n  exports.TwoWayBindingBehavior = _bindingModeBehaviors.TwoWayBindingBehavior;\n  exports.ThrottleBindingBehavior = _throttleBindingBehavior.ThrottleBindingBehavior;\n  exports.DebounceBindingBehavior = _debounceBindingBehavior.DebounceBindingBehavior;\n  exports.SelfBindingBehavior = _selfBindingBehavior.SelfBindingBehavior;\n  exports.SignalBindingBehavior = _signalBindingBehavior.SignalBindingBehavior;\n  exports.BindingSignaler = _bindingSignaler.BindingSignaler;\n  exports.UpdateTriggerBindingBehavior = _updateTriggerBindingBehavior.UpdateTriggerBindingBehavior;\n  exports.AbstractRepeater = _abstractRepeater.AbstractRepeater;\n  exports.RepeatStrategyLocator = _repeatStrategyLocator.RepeatStrategyLocator;\n  exports.NullRepeatStrategy = _nullRepeatStrategy.NullRepeatStrategy;\n  exports.ArrayRepeatStrategy = _arrayRepeatStrategy.ArrayRepeatStrategy;\n  exports.MapRepeatStrategy = _mapRepeatStrategy.MapRepeatStrategy;\n  exports.SetRepeatStrategy = _setRepeatStrategy.SetRepeatStrategy;\n  exports.NumberRepeatStrategy = _numberRepeatStrategy.NumberRepeatStrategy;\n  exports.createFullOverrideContext = _repeatUtilities.createFullOverrideContext;\n  exports.updateOverrideContext = _repeatUtilities.updateOverrideContext;\n  exports.getItemsSourceExpression = _repeatUtilities.getItemsSourceExpression;\n  exports.isOneTime = _repeatUtilities.isOneTime;\n  exports.updateOneTimeBinding = _repeatUtilities.updateOneTimeBinding;\n  exports.unwrapExpression = _repeatUtilities.unwrapExpression;\n  exports.viewsRequireLifecycle = _analyzeViewFactory.viewsRequireLifecycle;\n});\n;define('aurelia-templating-resources', ['aurelia-templating-resources/aurelia-templating-resources'], function (main) { return main; });\n\r\ndefine('aurelia-templating-router/aurelia-templating-router',['exports', 'aurelia-pal', 'aurelia-router', './route-loader', './router-view', './route-href'], function (exports, _aureliaPal, _aureliaRouter, _routeLoader, _routerView, _routeHref) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.configure = exports.RouteHref = exports.RouterView = exports.TemplatingRouteLoader = undefined;\n\n\n  function configure(config) {\n    config.singleton(_aureliaRouter.RouteLoader, _routeLoader.TemplatingRouteLoader).singleton(_aureliaRouter.Router, _aureliaRouter.AppRouter).globalResources(_aureliaPal.PLATFORM.moduleName('./router-view'), _aureliaPal.PLATFORM.moduleName('./route-href'));\n\n    config.container.registerAlias(_aureliaRouter.Router, _aureliaRouter.AppRouter);\n  }\n\n  exports.TemplatingRouteLoader = _routeLoader.TemplatingRouteLoader;\n  exports.RouterView = _routerView.RouterView;\n  exports.RouteHref = _routeHref.RouteHref;\n  exports.configure = configure;\n});\n;define('aurelia-templating-router', ['aurelia-templating-router/aurelia-templating-router'], function (main) { return main; });\n\r\ndefine('aurelia-testing/aurelia-testing',[\"require\", \"exports\", \"./compile-spy\", \"./view-spy\", \"./component-tester\", \"./wait\"], function (require, exports, compile_spy_1, view_spy_1, component_tester_1, wait_1) {\n    \"use strict\";\n    function __export(m) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __export(compile_spy_1);\n    __export(view_spy_1);\n    __export(component_tester_1);\n    __export(wait_1);\n    function configure(config) {\n        config.globalResources([\n            './compile-spy',\n            './view-spy'\n        ]);\n    }\n    exports.configure = configure;\n});\n\n;define('aurelia-testing', ['aurelia-testing/aurelia-testing'], function (main) { return main; });\n\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\ndefine('aurelia-testing/compile-spy',[\"require\", \"exports\", \"aurelia-templating\", \"aurelia-dependency-injection\", \"aurelia-logging\", \"aurelia-pal\"], function (require, exports, aurelia_templating_1, aurelia_dependency_injection_1, aurelia_logging_1, aurelia_pal_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    /**\n     * Attribute to be placed on any element to have it emit the View Compiler's\n     * TargetInstruction into the debug console, giving you insight into all the\n     * parsed bindings, behaviors and event handers for the targeted element.\n     */\n    var CompileSpy = /** @class */ (function () {\n        /**\n         * Creates and instanse of CompileSpy.\n         * @param element target element on where attribute is placed on.\n         * @param instruction instructions for how the target element should be enhanced.\n         */\n        function CompileSpy(element, instruction) {\n            aurelia_logging_1.getLogger('compile-spy').info(element.toString(), instruction);\n        }\n        CompileSpy = __decorate([\n            aurelia_templating_1.customAttribute('compile-spy'),\n            aurelia_dependency_injection_1.inject(aurelia_pal_1.DOM.Element, aurelia_templating_1.TargetInstruction)\n        ], CompileSpy);\n        return CompileSpy;\n    }());\n    exports.CompileSpy = CompileSpy;\n});\n\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\ndefine('aurelia-testing/view-spy',[\"require\", \"exports\", \"aurelia-templating\", \"aurelia-logging\"], function (require, exports, aurelia_templating_1, aurelia_logging_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    /**\n     * Attribute to be placed on any HTML element in a view to emit the View instance\n     * to the debug console, giving you insight into the live View instance, including\n     * all child views, live bindings, behaviors and more.\n     */\n    var ViewSpy = /** @class */ (function () {\n        /**\n         * Creates a new instance of ViewSpy.\n         */\n        function ViewSpy() {\n            this.logger = aurelia_logging_1.getLogger('view-spy');\n        }\n        ViewSpy.prototype._log = function (lifecycleName, context) {\n            if (!this.value && lifecycleName === 'created') {\n                this.logger.info(lifecycleName, this.view);\n            }\n            else if (this.value && this.value.indexOf(lifecycleName) !== -1) {\n                this.logger.info(lifecycleName, this.view, context);\n            }\n        };\n        /**\n         * Invoked when the target view is created.\n         * @param view The target view.\n         */\n        ViewSpy.prototype.created = function (view) {\n            this.view = view;\n            this._log('created');\n        };\n        /**\n         * Invoked when the target view is bound.\n         * @param bindingContext The target view's binding context.\n         */\n        ViewSpy.prototype.bind = function (bindingContext) {\n            this._log('bind', bindingContext);\n        };\n        /**\n         * Invoked when the target element is attached to the DOM.\n         */\n        ViewSpy.prototype.attached = function () {\n            this._log('attached');\n        };\n        /**\n         * Invoked when the target element is detached from the DOM.\n         */\n        ViewSpy.prototype.detached = function () {\n            this._log('detached');\n        };\n        /**\n         * Invoked when the target element is unbound.\n         */\n        ViewSpy.prototype.unbind = function () {\n            this._log('unbind');\n        };\n        ViewSpy = __decorate([\n            aurelia_templating_1.customAttribute('view-spy')\n        ], ViewSpy);\n        return ViewSpy;\n    }());\n    exports.ViewSpy = ViewSpy;\n});\n\r\ndefine('aurelia-testing/component-tester',[\"require\", \"exports\", \"aurelia-templating\", \"./wait\"], function (require, exports, aurelia_templating_1, wait_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var StageComponent = /** @class */ (function () {\n        function StageComponent() {\n        }\n        StageComponent.withResources = function (resources) {\n            if (resources === void 0) { resources = []; }\n            return new ComponentTester().withResources(resources);\n        };\n        return StageComponent;\n    }());\n    exports.StageComponent = StageComponent;\n    var ComponentTester = /** @class */ (function () {\n        function ComponentTester() {\n            this.resources = [];\n        }\n        ComponentTester.prototype.configure = function (aurelia) {\n            return aurelia.use.standardConfiguration();\n        };\n        ComponentTester.prototype.bootstrap = function (configure) {\n            this.configure = configure;\n        };\n        ComponentTester.prototype.withResources = function (resources) {\n            this.resources = resources;\n            return this;\n        };\n        ComponentTester.prototype.inView = function (html) {\n            this.html = html;\n            return this;\n        };\n        ComponentTester.prototype.boundTo = function (bindingContext) {\n            this.bindingContext = bindingContext;\n            return this;\n        };\n        ComponentTester.prototype.manuallyHandleLifecycle = function () {\n            this._prepareLifecycle();\n            return this;\n        };\n        ComponentTester.prototype.create = function (bootstrap) {\n            var _this = this;\n            return bootstrap(function (aurelia) {\n                return Promise.resolve(_this.configure(aurelia)).then(function () {\n                    if (_this.resources) {\n                        aurelia.use.globalResources(_this.resources);\n                    }\n                    return aurelia.start().then(function () {\n                        _this.host = document.createElement('div');\n                        _this.host.innerHTML = _this.html;\n                        document.body.appendChild(_this.host);\n                        return aurelia.enhance(_this.bindingContext, _this.host).then(function () {\n                            _this.rootView = aurelia.root;\n                            _this.element = _this.host.firstElementChild;\n                            if (aurelia.root.controllers.length) {\n                                _this.viewModel = aurelia.root.controllers[0].viewModel;\n                            }\n                            return new Promise(function (resolve) { return setTimeout(function () { return resolve(); }, 0); });\n                        });\n                    });\n                });\n            });\n        };\n        ComponentTester.prototype.dispose = function () {\n            if (this.host === undefined || this.rootView === undefined) {\n                throw new Error('Cannot call ComponentTester.dispose() before ComponentTester.create()');\n            }\n            this.rootView.detached();\n            this.rootView.unbind();\n            return this.host.parentNode.removeChild(this.host);\n        };\n        ComponentTester.prototype._prepareLifecycle = function () {\n            var _this = this;\n            // bind\n            var bindPrototype = aurelia_templating_1.View.prototype.bind;\n            // tslint:disable-next-line:no-empty\n            aurelia_templating_1.View.prototype.bind = function () { };\n            this.bind = function (bindingContext) { return new Promise(function (resolve) {\n                aurelia_templating_1.View.prototype.bind = bindPrototype;\n                if (bindingContext !== undefined) {\n                    _this.bindingContext = bindingContext;\n                }\n                _this.rootView.bind(_this.bindingContext);\n                setTimeout(function () { return resolve(); }, 0);\n            }); };\n            // attached\n            var attachedPrototype = aurelia_templating_1.View.prototype.attached;\n            // tslint:disable-next-line:no-empty\n            aurelia_templating_1.View.prototype.attached = function () { };\n            this.attached = function () { return new Promise(function (resolve) {\n                aurelia_templating_1.View.prototype.attached = attachedPrototype;\n                _this.rootView.attached();\n                setTimeout(function () { return resolve(); }, 0);\n            }); };\n            // detached\n            this.detached = function () { return new Promise(function (resolve) {\n                _this.rootView.detached();\n                setTimeout(function () { return resolve(); }, 0);\n            }); };\n            // unbind\n            this.unbind = function () { return new Promise(function (resolve) {\n                _this.rootView.unbind();\n                setTimeout(function () { return resolve(); }, 0);\n            }); };\n        };\n        ComponentTester.prototype.waitForElement = function (selector, options) {\n            var _this = this;\n            return wait_1.waitFor(function () { return _this.element.querySelector(selector); }, options);\n        };\n        ComponentTester.prototype.waitForElements = function (selector, options) {\n            var _this = this;\n            return wait_1.waitFor(function () { return _this.element.querySelectorAll(selector); }, options);\n        };\n        return ComponentTester;\n    }());\n    exports.ComponentTester = ComponentTester;\n});\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\ndefine('aurelia-testing/wait',[\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    /**\n     * Generic function to wait for something to happen. Uses polling\n     * @param getter: a getter function that returns anything else than `null` or an\n     *                empty array or an empty jQuery object when the\n     *                condition is met\n     * @param options: lookup options, defaults to\n     *                 `{present: true, interval: 50, timeout: 5000}`\n     */\n    function waitFor(getter, options) {\n        if (options === void 0) { options = { present: true, interval: 50, timeout: 5000 }; }\n        // prevents infinite recursion if the request times out\n        var timedOut = false;\n        options = __assign({ present: true, interval: 50, timeout: 5000 }, options);\n        function wait() {\n            var element = getter();\n            // boolean is needed here, hence the length > 0\n            var found = element !== null && (!(element instanceof NodeList) &&\n                !element.jquery || element.length > 0);\n            if (!options.present === !found || timedOut) {\n                return Promise.resolve(element);\n            }\n            return new Promise(function (rs) { return setTimeout(rs, options.interval); }).then(wait);\n        }\n        return Promise.race([\n            new Promise(function (_, rj) { return setTimeout(function () {\n                timedOut = true;\n                rj(options.present ? 'Element not found' : 'Element not removed');\n            }, options.timeout); }),\n            wait()\n        ]);\n    }\n    exports.waitFor = waitFor;\n    function waitForDocumentElement(selector, options) {\n        return waitFor(function () { return document.querySelector(selector); }, options);\n    }\n    exports.waitForDocumentElement = waitForDocumentElement;\n    function waitForDocumentElements(selector, options) {\n        return waitFor(function () { return document.querySelectorAll(selector); }, options);\n    }\n    exports.waitForDocumentElements = waitForDocumentElements;\n});\n\r\ndefine('aurelia-fetch-client/aurelia-fetch-client',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.json = json;\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  \n\n  function json(body) {\n    return new Blob([JSON.stringify(body !== undefined ? body : {})], { type: 'application/json' });\n  }\n\n  var HttpClientConfiguration = exports.HttpClientConfiguration = function () {\n    function HttpClientConfiguration() {\n      \n\n      this.baseUrl = '';\n      this.defaults = {};\n      this.interceptors = [];\n    }\n\n    HttpClientConfiguration.prototype.withBaseUrl = function withBaseUrl(baseUrl) {\n      this.baseUrl = baseUrl;\n      return this;\n    };\n\n    HttpClientConfiguration.prototype.withDefaults = function withDefaults(defaults) {\n      this.defaults = defaults;\n      return this;\n    };\n\n    HttpClientConfiguration.prototype.withInterceptor = function withInterceptor(interceptor) {\n      this.interceptors.push(interceptor);\n      return this;\n    };\n\n    HttpClientConfiguration.prototype.useStandardConfiguration = function useStandardConfiguration() {\n      var standardConfig = { credentials: 'same-origin' };\n      Object.assign(this.defaults, standardConfig, this.defaults);\n      return this.rejectErrorResponses();\n    };\n\n    HttpClientConfiguration.prototype.rejectErrorResponses = function rejectErrorResponses() {\n      return this.withInterceptor({ response: rejectOnError });\n    };\n\n    return HttpClientConfiguration;\n  }();\n\n  function rejectOnError(response) {\n    if (!response.ok) {\n      throw response;\n    }\n\n    return response;\n  }\n\n  var HttpClient = exports.HttpClient = function () {\n    function HttpClient() {\n      \n\n      this.activeRequestCount = 0;\n      this.isRequesting = false;\n      this.isConfigured = false;\n      this.baseUrl = '';\n      this.defaults = null;\n      this.interceptors = [];\n\n      if (typeof fetch === 'undefined') {\n        throw new Error('HttpClient requires a Fetch API implementation, but the current environment doesn\\'t support it. You may need to load a polyfill such as https://github.com/github/fetch');\n      }\n    }\n\n    HttpClient.prototype.configure = function configure(config) {\n      var normalizedConfig = void 0;\n\n      if ((typeof config === 'undefined' ? 'undefined' : _typeof(config)) === 'object') {\n        normalizedConfig = { defaults: config };\n      } else if (typeof config === 'function') {\n        normalizedConfig = new HttpClientConfiguration();\n        normalizedConfig.baseUrl = this.baseUrl;\n        normalizedConfig.defaults = Object.assign({}, this.defaults);\n        normalizedConfig.interceptors = this.interceptors;\n\n        var c = config(normalizedConfig);\n        if (HttpClientConfiguration.prototype.isPrototypeOf(c)) {\n          normalizedConfig = c;\n        }\n      } else {\n        throw new Error('invalid config');\n      }\n\n      var defaults = normalizedConfig.defaults;\n      if (defaults && Headers.prototype.isPrototypeOf(defaults.headers)) {\n        throw new Error('Default headers must be a plain object.');\n      }\n\n      this.baseUrl = normalizedConfig.baseUrl;\n      this.defaults = defaults;\n      this.interceptors = normalizedConfig.interceptors || [];\n      this.isConfigured = true;\n\n      return this;\n    };\n\n    HttpClient.prototype.fetch = function (_fetch) {\n      function fetch(_x, _x2) {\n        return _fetch.apply(this, arguments);\n      }\n\n      fetch.toString = function () {\n        return _fetch.toString();\n      };\n\n      return fetch;\n    }(function (input, init) {\n      var _this = this;\n\n      trackRequestStart.call(this);\n\n      var request = Promise.resolve().then(function () {\n        return buildRequest.call(_this, input, init, _this.defaults);\n      });\n      var promise = processRequest(request, this.interceptors).then(function (result) {\n        var response = null;\n\n        if (Response.prototype.isPrototypeOf(result)) {\n          response = result;\n        } else if (Request.prototype.isPrototypeOf(result)) {\n          request = Promise.resolve(result);\n          response = fetch(result);\n        } else {\n          throw new Error('An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [' + result + ']');\n        }\n\n        return request.then(function (_request) {\n          return processResponse(response, _this.interceptors, _request);\n        });\n      });\n\n      return trackRequestEndWith.call(this, promise);\n    });\n\n    return HttpClient;\n  }();\n\n  var absoluteUrlRegexp = /^([a-z][a-z0-9+\\-.]*:)?\\/\\//i;\n\n  function trackRequestStart() {\n    this.isRequesting = !! ++this.activeRequestCount;\n  }\n\n  function trackRequestEnd() {\n    this.isRequesting = !! --this.activeRequestCount;\n  }\n\n  function trackRequestEndWith(promise) {\n    var handle = trackRequestEnd.bind(this);\n    promise.then(handle, handle);\n    return promise;\n  }\n\n  function parseHeaderValues(headers) {\n    var parsedHeaders = {};\n    for (var name in headers || {}) {\n      if (headers.hasOwnProperty(name)) {\n        parsedHeaders[name] = typeof headers[name] === 'function' ? headers[name]() : headers[name];\n      }\n    }\n    return parsedHeaders;\n  }\n\n  function buildRequest(input, init) {\n    var defaults = this.defaults || {};\n    var request = void 0;\n    var body = void 0;\n    var requestContentType = void 0;\n\n    var parsedDefaultHeaders = parseHeaderValues(defaults.headers);\n    if (Request.prototype.isPrototypeOf(input)) {\n      request = input;\n      requestContentType = new Headers(request.headers).get('Content-Type');\n    } else {\n      init || (init = {});\n      body = init.body;\n      var bodyObj = body ? { body: body } : null;\n      var requestInit = Object.assign({}, defaults, { headers: {} }, init, bodyObj);\n      requestContentType = new Headers(requestInit.headers).get('Content-Type');\n      request = new Request(getRequestUrl(this.baseUrl, input), requestInit);\n    }\n    if (!requestContentType && new Headers(parsedDefaultHeaders).has('content-type')) {\n      request.headers.set('Content-Type', new Headers(parsedDefaultHeaders).get('content-type'));\n    }\n    setDefaultHeaders(request.headers, parsedDefaultHeaders);\n    if (body && Blob.prototype.isPrototypeOf(body) && body.type) {\n      request.headers.set('Content-Type', body.type);\n    }\n    return request;\n  }\n\n  function getRequestUrl(baseUrl, url) {\n    if (absoluteUrlRegexp.test(url)) {\n      return url;\n    }\n\n    return (baseUrl || '') + url;\n  }\n\n  function setDefaultHeaders(headers, defaultHeaders) {\n    for (var name in defaultHeaders || {}) {\n      if (defaultHeaders.hasOwnProperty(name) && !headers.has(name)) {\n        headers.set(name, defaultHeaders[name]);\n      }\n    }\n  }\n\n  function processRequest(request, interceptors) {\n    return applyInterceptors(request, interceptors, 'request', 'requestError');\n  }\n\n  function processResponse(response, interceptors, request) {\n    return applyInterceptors(response, interceptors, 'response', 'responseError', request);\n  }\n\n  function applyInterceptors(input, interceptors, successName, errorName) {\n    for (var _len = arguments.length, interceptorArgs = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n      interceptorArgs[_key - 4] = arguments[_key];\n    }\n\n    return (interceptors || []).reduce(function (chain, interceptor) {\n      var successHandler = interceptor[successName];\n      var errorHandler = interceptor[errorName];\n\n      return chain.then(successHandler && function (value) {\n        return successHandler.call.apply(successHandler, [interceptor, value].concat(interceptorArgs));\n      } || identity, errorHandler && function (reason) {\n        return errorHandler.call.apply(errorHandler, [interceptor, reason].concat(interceptorArgs));\n      } || thrower);\n    }, Promise.resolve(input));\n  }\n\n  function identity(x) {\n    return x;\n  }\n\n  function thrower(x) {\n    throw x;\n  }\n});\n;define('aurelia-fetch-client', ['aurelia-fetch-client/aurelia-fetch-client'], function (main) { return main; });\n\r\ndefine('regenerator-runtime/runtime-module',['require','exports','module','./runtime'],function (require, exports, module) {/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n});\n\n;define('regenerator-runtime', ['regenerator-runtime/runtime-module'], function (main) { return main; });\n\r\ndefine('regenerator-runtime/runtime',['require','exports','module'],function (require, exports, module) {/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n\n});\n\r\n//! moment.js\n//! version : 2.19.4\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define('moment',factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\nvar hookCallback;\n\nfunction hooks () {\n    return hookCallback.apply(null, arguments);\n}\n\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction setHookCallback (callback) {\n    hookCallback = callback;\n}\n\nfunction isArray(input) {\n    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n}\n\nfunction isObject(input) {\n    // IE8 will treat undefined and null as object if it wasn't for\n    // input != null\n    return input != null && Object.prototype.toString.call(input) === '[object Object]';\n}\n\nfunction isObjectEmpty(obj) {\n    if (Object.getOwnPropertyNames) {\n        return (Object.getOwnPropertyNames(obj).length === 0);\n    } else {\n        var k;\n        for (k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nfunction isUndefined(input) {\n    return input === void 0;\n}\n\nfunction isNumber(input) {\n    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n}\n\nfunction isDate(input) {\n    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n}\n\nfunction map(arr, fn) {\n    var res = [], i;\n    for (i = 0; i < arr.length; ++i) {\n        res.push(fn(arr[i], i));\n    }\n    return res;\n}\n\nfunction hasOwnProp(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n}\n\nfunction extend(a, b) {\n    for (var i in b) {\n        if (hasOwnProp(b, i)) {\n            a[i] = b[i];\n        }\n    }\n\n    if (hasOwnProp(b, 'toString')) {\n        a.toString = b.toString;\n    }\n\n    if (hasOwnProp(b, 'valueOf')) {\n        a.valueOf = b.valueOf;\n    }\n\n    return a;\n}\n\nfunction createUTC (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, true).utc();\n}\n\nfunction defaultParsingFlags() {\n    // We need to deep clone this object.\n    return {\n        empty           : false,\n        unusedTokens    : [],\n        unusedInput     : [],\n        overflow        : -2,\n        charsLeftOver   : 0,\n        nullInput       : false,\n        invalidMonth    : null,\n        invalidFormat   : false,\n        userInvalidated : false,\n        iso             : false,\n        parsedDateParts : [],\n        meridiem        : null,\n        rfc2822         : false,\n        weekdayMismatch : false\n    };\n}\n\nfunction getParsingFlags(m) {\n    if (m._pf == null) {\n        m._pf = defaultParsingFlags();\n    }\n    return m._pf;\n}\n\nvar some;\nif (Array.prototype.some) {\n    some = Array.prototype.some;\n} else {\n    some = function (fun) {\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(this, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\nfunction isValid(m) {\n    if (m._isValid == null) {\n        var flags = getParsingFlags(m);\n        var parsedParts = some.call(flags.parsedDateParts, function (i) {\n            return i != null;\n        });\n        var isNowValid = !isNaN(m._d.getTime()) &&\n            flags.overflow < 0 &&\n            !flags.empty &&\n            !flags.invalidMonth &&\n            !flags.invalidWeekday &&\n            !flags.weekdayMismatch &&\n            !flags.nullInput &&\n            !flags.invalidFormat &&\n            !flags.userInvalidated &&\n            (!flags.meridiem || (flags.meridiem && parsedParts));\n\n        if (m._strict) {\n            isNowValid = isNowValid &&\n                flags.charsLeftOver === 0 &&\n                flags.unusedTokens.length === 0 &&\n                flags.bigHour === undefined;\n        }\n\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        }\n        else {\n            return isNowValid;\n        }\n    }\n    return m._isValid;\n}\n\nfunction createInvalid (flags) {\n    var m = createUTC(NaN);\n    if (flags != null) {\n        extend(getParsingFlags(m), flags);\n    }\n    else {\n        getParsingFlags(m).userInvalidated = true;\n    }\n\n    return m;\n}\n\n// Plugins that add properties should also add the key here (null value),\n// so we can properly clone ourselves.\nvar momentProperties = hooks.momentProperties = [];\n\nfunction copyConfig(to, from) {\n    var i, prop, val;\n\n    if (!isUndefined(from._isAMomentObject)) {\n        to._isAMomentObject = from._isAMomentObject;\n    }\n    if (!isUndefined(from._i)) {\n        to._i = from._i;\n    }\n    if (!isUndefined(from._f)) {\n        to._f = from._f;\n    }\n    if (!isUndefined(from._l)) {\n        to._l = from._l;\n    }\n    if (!isUndefined(from._strict)) {\n        to._strict = from._strict;\n    }\n    if (!isUndefined(from._tzm)) {\n        to._tzm = from._tzm;\n    }\n    if (!isUndefined(from._isUTC)) {\n        to._isUTC = from._isUTC;\n    }\n    if (!isUndefined(from._offset)) {\n        to._offset = from._offset;\n    }\n    if (!isUndefined(from._pf)) {\n        to._pf = getParsingFlags(from);\n    }\n    if (!isUndefined(from._locale)) {\n        to._locale = from._locale;\n    }\n\n    if (momentProperties.length > 0) {\n        for (i = 0; i < momentProperties.length; i++) {\n            prop = momentProperties[i];\n            val = from[prop];\n            if (!isUndefined(val)) {\n                to[prop] = val;\n            }\n        }\n    }\n\n    return to;\n}\n\nvar updateInProgress = false;\n\n// Moment prototype object\nfunction Moment(config) {\n    copyConfig(this, config);\n    this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n    if (!this.isValid()) {\n        this._d = new Date(NaN);\n    }\n    // Prevent infinite loop in case updateOffset creates new moment\n    // objects.\n    if (updateInProgress === false) {\n        updateInProgress = true;\n        hooks.updateOffset(this);\n        updateInProgress = false;\n    }\n}\n\nfunction isMoment (obj) {\n    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n}\n\nfunction absFloor (number) {\n    if (number < 0) {\n        // -0 -> 0\n        return Math.ceil(number) || 0;\n    } else {\n        return Math.floor(number);\n    }\n}\n\nfunction toInt(argumentForCoercion) {\n    var coercedNumber = +argumentForCoercion,\n        value = 0;\n\n    if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n        value = absFloor(coercedNumber);\n    }\n\n    return value;\n}\n\n// compare two arrays, return the number of differences\nfunction compareArrays(array1, array2, dontConvert) {\n    var len = Math.min(array1.length, array2.length),\n        lengthDiff = Math.abs(array1.length - array2.length),\n        diffs = 0,\n        i;\n    for (i = 0; i < len; i++) {\n        if ((dontConvert && array1[i] !== array2[i]) ||\n            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n            diffs++;\n        }\n    }\n    return diffs + lengthDiff;\n}\n\nfunction warn(msg) {\n    if (hooks.suppressDeprecationWarnings === false &&\n            (typeof console !==  'undefined') && console.warn) {\n        console.warn('Deprecation warning: ' + msg);\n    }\n}\n\nfunction deprecate(msg, fn) {\n    var firstTime = true;\n\n    return extend(function () {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(null, msg);\n        }\n        if (firstTime) {\n            var args = [];\n            var arg;\n            for (var i = 0; i < arguments.length; i++) {\n                arg = '';\n                if (typeof arguments[i] === 'object') {\n                    arg += '\\n[' + i + '] ';\n                    for (var key in arguments[0]) {\n                        arg += key + ': ' + arguments[0][key] + ', ';\n                    }\n                    arg = arg.slice(0, -2); // Remove trailing comma and space\n                } else {\n                    arg = arguments[i];\n                }\n                args.push(arg);\n            }\n            warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n            firstTime = false;\n        }\n        return fn.apply(this, arguments);\n    }, fn);\n}\n\nvar deprecations = {};\n\nfunction deprecateSimple(name, msg) {\n    if (hooks.deprecationHandler != null) {\n        hooks.deprecationHandler(name, msg);\n    }\n    if (!deprecations[name]) {\n        warn(msg);\n        deprecations[name] = true;\n    }\n}\n\nhooks.suppressDeprecationWarnings = false;\nhooks.deprecationHandler = null;\n\nfunction isFunction(input) {\n    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n}\n\nfunction set (config) {\n    var prop, i;\n    for (i in config) {\n        prop = config[i];\n        if (isFunction(prop)) {\n            this[i] = prop;\n        } else {\n            this['_' + i] = prop;\n        }\n    }\n    this._config = config;\n    // Lenient ordinal parsing accepts just a number in addition to\n    // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    this._dayOfMonthOrdinalParseLenient = new RegExp(\n        (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n            '|' + (/\\d{1,2}/).source);\n}\n\nfunction mergeConfigs(parentConfig, childConfig) {\n    var res = extend({}, parentConfig), prop;\n    for (prop in childConfig) {\n        if (hasOwnProp(childConfig, prop)) {\n            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                res[prop] = {};\n                extend(res[prop], parentConfig[prop]);\n                extend(res[prop], childConfig[prop]);\n            } else if (childConfig[prop] != null) {\n                res[prop] = childConfig[prop];\n            } else {\n                delete res[prop];\n            }\n        }\n    }\n    for (prop in parentConfig) {\n        if (hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])) {\n            // make sure changes to properties don't modify parent config\n            res[prop] = extend({}, res[prop]);\n        }\n    }\n    return res;\n}\n\nfunction Locale(config) {\n    if (config != null) {\n        this.set(config);\n    }\n}\n\nvar keys;\n\nif (Object.keys) {\n    keys = Object.keys;\n} else {\n    keys = function (obj) {\n        var i, res = [];\n        for (i in obj) {\n            if (hasOwnProp(obj, i)) {\n                res.push(i);\n            }\n        }\n        return res;\n    };\n}\n\nvar defaultCalendar = {\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    nextWeek : 'dddd [at] LT',\n    lastDay : '[Yesterday at] LT',\n    lastWeek : '[Last] dddd [at] LT',\n    sameElse : 'L'\n};\n\nfunction calendar (key, mom, now) {\n    var output = this._calendar[key] || this._calendar['sameElse'];\n    return isFunction(output) ? output.call(mom, now) : output;\n}\n\nvar defaultLongDateFormat = {\n    LTS  : 'h:mm:ss A',\n    LT   : 'h:mm A',\n    L    : 'MM/DD/YYYY',\n    LL   : 'MMMM D, YYYY',\n    LLL  : 'MMMM D, YYYY h:mm A',\n    LLLL : 'dddd, MMMM D, YYYY h:mm A'\n};\n\nfunction longDateFormat (key) {\n    var format = this._longDateFormat[key],\n        formatUpper = this._longDateFormat[key.toUpperCase()];\n\n    if (format || !formatUpper) {\n        return format;\n    }\n\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n        return val.slice(1);\n    });\n\n    return this._longDateFormat[key];\n}\n\nvar defaultInvalidDate = 'Invalid date';\n\nfunction invalidDate () {\n    return this._invalidDate;\n}\n\nvar defaultOrdinal = '%d';\nvar defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\nfunction ordinal (number) {\n    return this._ordinal.replace('%d', number);\n}\n\nvar defaultRelativeTime = {\n    future : 'in %s',\n    past   : '%s ago',\n    s  : 'a few seconds',\n    ss : '%d seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n};\n\nfunction relativeTime (number, withoutSuffix, string, isFuture) {\n    var output = this._relativeTime[string];\n    return (isFunction(output)) ?\n        output(number, withoutSuffix, string, isFuture) :\n        output.replace(/%d/i, number);\n}\n\nfunction pastFuture (diff, output) {\n    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n}\n\nvar aliases = {};\n\nfunction addUnitAlias (unit, shorthand) {\n    var lowerCase = unit.toLowerCase();\n    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n}\n\nfunction normalizeUnits(units) {\n    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n}\n\nfunction normalizeObjectUnits(inputObject) {\n    var normalizedInput = {},\n        normalizedProp,\n        prop;\n\n    for (prop in inputObject) {\n        if (hasOwnProp(inputObject, prop)) {\n            normalizedProp = normalizeUnits(prop);\n            if (normalizedProp) {\n                normalizedInput[normalizedProp] = inputObject[prop];\n            }\n        }\n    }\n\n    return normalizedInput;\n}\n\nvar priorities = {};\n\nfunction addUnitPriority(unit, priority) {\n    priorities[unit] = priority;\n}\n\nfunction getPrioritizedUnits(unitsObj) {\n    var units = [];\n    for (var u in unitsObj) {\n        units.push({unit: u, priority: priorities[u]});\n    }\n    units.sort(function (a, b) {\n        return a.priority - b.priority;\n    });\n    return units;\n}\n\nfunction zeroFill(number, targetLength, forceSign) {\n    var absNumber = '' + Math.abs(number),\n        zerosToFill = targetLength - absNumber.length,\n        sign = number >= 0;\n    return (sign ? (forceSign ? '+' : '') : '-') +\n        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n}\n\nvar formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\nvar localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\nvar formatFunctions = {};\n\nvar formatTokenFunctions = {};\n\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nfunction addFormatToken (token, padded, ordinal, callback) {\n    var func = callback;\n    if (typeof callback === 'string') {\n        func = function () {\n            return this[callback]();\n        };\n    }\n    if (token) {\n        formatTokenFunctions[token] = func;\n    }\n    if (padded) {\n        formatTokenFunctions[padded[0]] = function () {\n            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n        };\n    }\n    if (ordinal) {\n        formatTokenFunctions[ordinal] = function () {\n            return this.localeData().ordinal(func.apply(this, arguments), token);\n        };\n    }\n}\n\nfunction removeFormattingTokens(input) {\n    if (input.match(/\\[[\\s\\S]/)) {\n        return input.replace(/^\\[|\\]$/g, '');\n    }\n    return input.replace(/\\\\/g, '');\n}\n\nfunction makeFormatFunction(format) {\n    var array = format.match(formattingTokens), i, length;\n\n    for (i = 0, length = array.length; i < length; i++) {\n        if (formatTokenFunctions[array[i]]) {\n            array[i] = formatTokenFunctions[array[i]];\n        } else {\n            array[i] = removeFormattingTokens(array[i]);\n        }\n    }\n\n    return function (mom) {\n        var output = '', i;\n        for (i = 0; i < length; i++) {\n            output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n        }\n        return output;\n    };\n}\n\n// format date using native date object\nfunction formatMoment(m, format) {\n    if (!m.isValid()) {\n        return m.localeData().invalidDate();\n    }\n\n    format = expandFormat(format, m.localeData());\n    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n    return formatFunctions[format](m);\n}\n\nfunction expandFormat(format, locale) {\n    var i = 5;\n\n    function replaceLongDateFormatTokens(input) {\n        return locale.longDateFormat(input) || input;\n    }\n\n    localFormattingTokens.lastIndex = 0;\n    while (i >= 0 && localFormattingTokens.test(format)) {\n        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        localFormattingTokens.lastIndex = 0;\n        i -= 1;\n    }\n\n    return format;\n}\n\nvar match1         = /\\d/;            //       0 - 9\nvar match2         = /\\d\\d/;          //      00 - 99\nvar match3         = /\\d{3}/;         //     000 - 999\nvar match4         = /\\d{4}/;         //    0000 - 9999\nvar match6         = /[+-]?\\d{6}/;    // -999999 - 999999\nvar match1to2      = /\\d\\d?/;         //       0 - 99\nvar match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\nvar match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\nvar match1to3      = /\\d{1,3}/;       //       0 - 999\nvar match1to4      = /\\d{1,4}/;       //       0 - 9999\nvar match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\nvar matchUnsigned  = /\\d+/;           //       0 - inf\nvar matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\nvar matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\nvar matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\nvar matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n// any word (or two) characters or numbers including two/three word month in arabic.\n// includes scottish gaelic two word and hyphenated months\nvar matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n\nvar regexes = {};\n\nfunction addRegexToken (token, regex, strictRegex) {\n    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n        return (isStrict && strictRegex) ? strictRegex : regex;\n    };\n}\n\nfunction getParseRegexForToken (token, config) {\n    if (!hasOwnProp(regexes, token)) {\n        return new RegExp(unescapeFormat(token));\n    }\n\n    return regexes[token](config._strict, config._locale);\n}\n\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction unescapeFormat(s) {\n    return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n        return p1 || p2 || p3 || p4;\n    }));\n}\n\nfunction regexEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\nvar tokens = {};\n\nfunction addParseToken (token, callback) {\n    var i, func = callback;\n    if (typeof token === 'string') {\n        token = [token];\n    }\n    if (isNumber(callback)) {\n        func = function (input, array) {\n            array[callback] = toInt(input);\n        };\n    }\n    for (i = 0; i < token.length; i++) {\n        tokens[token[i]] = func;\n    }\n}\n\nfunction addWeekParseToken (token, callback) {\n    addParseToken(token, function (input, array, config, token) {\n        config._w = config._w || {};\n        callback(input, config._w, config, token);\n    });\n}\n\nfunction addTimeToArrayFromToken(token, input, config) {\n    if (input != null && hasOwnProp(tokens, token)) {\n        tokens[token](input, config._a, config, token);\n    }\n}\n\nvar YEAR = 0;\nvar MONTH = 1;\nvar DATE = 2;\nvar HOUR = 3;\nvar MINUTE = 4;\nvar SECOND = 5;\nvar MILLISECOND = 6;\nvar WEEK = 7;\nvar WEEKDAY = 8;\n\n// FORMATTING\n\naddFormatToken('Y', 0, 0, function () {\n    var y = this.year();\n    return y <= 9999 ? '' + y : '+' + y;\n});\n\naddFormatToken(0, ['YY', 2], 0, function () {\n    return this.year() % 100;\n});\n\naddFormatToken(0, ['YYYY',   4],       0, 'year');\naddFormatToken(0, ['YYYYY',  5],       0, 'year');\naddFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n// ALIASES\n\naddUnitAlias('year', 'y');\n\n// PRIORITIES\n\naddUnitPriority('year', 1);\n\n// PARSING\n\naddRegexToken('Y',      matchSigned);\naddRegexToken('YY',     match1to2, match2);\naddRegexToken('YYYY',   match1to4, match4);\naddRegexToken('YYYYY',  match1to6, match6);\naddRegexToken('YYYYYY', match1to6, match6);\n\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\naddParseToken('YYYY', function (input, array) {\n    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n});\naddParseToken('YY', function (input, array) {\n    array[YEAR] = hooks.parseTwoDigitYear(input);\n});\naddParseToken('Y', function (input, array) {\n    array[YEAR] = parseInt(input, 10);\n});\n\n// HELPERS\n\nfunction daysInYear(year) {\n    return isLeapYear(year) ? 366 : 365;\n}\n\nfunction isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n// HOOKS\n\nhooks.parseTwoDigitYear = function (input) {\n    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n};\n\n// MOMENTS\n\nvar getSetYear = makeGetSet('FullYear', true);\n\nfunction getIsLeapYear () {\n    return isLeapYear(this.year());\n}\n\nfunction makeGetSet (unit, keepTime) {\n    return function (value) {\n        if (value != null) {\n            set$1(this, unit, value);\n            hooks.updateOffset(this, keepTime);\n            return this;\n        } else {\n            return get(this, unit);\n        }\n    };\n}\n\nfunction get (mom, unit) {\n    return mom.isValid() ?\n        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n}\n\nfunction set$1 (mom, unit, value) {\n    if (mom.isValid() && !isNaN(value)) {\n        if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n        }\n        else {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n}\n\n// MOMENTS\n\nfunction stringGet (units) {\n    units = normalizeUnits(units);\n    if (isFunction(this[units])) {\n        return this[units]();\n    }\n    return this;\n}\n\n\nfunction stringSet (units, value) {\n    if (typeof units === 'object') {\n        units = normalizeObjectUnits(units);\n        var prioritized = getPrioritizedUnits(units);\n        for (var i = 0; i < prioritized.length; i++) {\n            this[prioritized[i].unit](units[prioritized[i].unit]);\n        }\n    } else {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units](value);\n        }\n    }\n    return this;\n}\n\nfunction mod(n, x) {\n    return ((n % x) + x) % x;\n}\n\nvar indexOf;\n\nif (Array.prototype.indexOf) {\n    indexOf = Array.prototype.indexOf;\n} else {\n    indexOf = function (o) {\n        // I know\n        var i;\n        for (i = 0; i < this.length; ++i) {\n            if (this[i] === o) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nfunction daysInMonth(year, month) {\n    if (isNaN(year) || isNaN(month)) {\n        return NaN;\n    }\n    var modMonth = mod(month, 12);\n    year += (month - modMonth) / 12;\n    return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n}\n\n// FORMATTING\n\naddFormatToken('M', ['MM', 2], 'Mo', function () {\n    return this.month() + 1;\n});\n\naddFormatToken('MMM', 0, 0, function (format) {\n    return this.localeData().monthsShort(this, format);\n});\n\naddFormatToken('MMMM', 0, 0, function (format) {\n    return this.localeData().months(this, format);\n});\n\n// ALIASES\n\naddUnitAlias('month', 'M');\n\n// PRIORITY\n\naddUnitPriority('month', 8);\n\n// PARSING\n\naddRegexToken('M',    match1to2);\naddRegexToken('MM',   match1to2, match2);\naddRegexToken('MMM',  function (isStrict, locale) {\n    return locale.monthsShortRegex(isStrict);\n});\naddRegexToken('MMMM', function (isStrict, locale) {\n    return locale.monthsRegex(isStrict);\n});\n\naddParseToken(['M', 'MM'], function (input, array) {\n    array[MONTH] = toInt(input) - 1;\n});\n\naddParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n    var month = config._locale.monthsParse(input, token, config._strict);\n    // if we didn't find a month name, mark the date as invalid.\n    if (month != null) {\n        array[MONTH] = month;\n    } else {\n        getParsingFlags(config).invalidMonth = input;\n    }\n});\n\n// LOCALES\n\nvar MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\nvar defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\nfunction localeMonths (m, format) {\n    if (!m) {\n        return isArray(this._months) ? this._months :\n            this._months['standalone'];\n    }\n    return isArray(this._months) ? this._months[m.month()] :\n        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nvar defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\nfunction localeMonthsShort (m, format) {\n    if (!m) {\n        return isArray(this._monthsShort) ? this._monthsShort :\n            this._monthsShort['standalone'];\n    }\n    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nfunction handleStrictParse(monthName, format, strict) {\n    var i, ii, mom, llc = monthName.toLocaleLowerCase();\n    if (!this._monthsParse) {\n        // this is not used\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n        for (i = 0; i < 12; ++i) {\n            mom = createUTC([2000, i]);\n            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeMonthsParse (monthName, format, strict) {\n    var i, mom, regex;\n\n    if (this._monthsParseExact) {\n        return handleStrictParse.call(this, monthName, format, strict);\n    }\n\n    if (!this._monthsParse) {\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n    }\n\n    // TODO: add sorting\n    // Sorting makes sure if one month (or abbr) is a prefix of another\n    // see sorting in computeMonthsParse\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        if (strict && !this._longMonthsParse[i]) {\n            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n        }\n        if (!strict && !this._monthsParse[i]) {\n            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (!strict && this._monthsParse[i].test(monthName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction setMonth (mom, value) {\n    var dayOfMonth;\n\n    if (!mom.isValid()) {\n        // No op\n        return mom;\n    }\n\n    if (typeof value === 'string') {\n        if (/^\\d+$/.test(value)) {\n            value = toInt(value);\n        } else {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (!isNumber(value)) {\n                return mom;\n            }\n        }\n    }\n\n    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n    return mom;\n}\n\nfunction getSetMonth (value) {\n    if (value != null) {\n        setMonth(this, value);\n        hooks.updateOffset(this, true);\n        return this;\n    } else {\n        return get(this, 'Month');\n    }\n}\n\nfunction getDaysInMonth () {\n    return daysInMonth(this.year(), this.month());\n}\n\nvar defaultMonthsShortRegex = matchWord;\nfunction monthsShortRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsShortStrictRegex;\n        } else {\n            return this._monthsShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsShortRegex')) {\n            this._monthsShortRegex = defaultMonthsShortRegex;\n        }\n        return this._monthsShortStrictRegex && isStrict ?\n            this._monthsShortStrictRegex : this._monthsShortRegex;\n    }\n}\n\nvar defaultMonthsRegex = matchWord;\nfunction monthsRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsStrictRegex;\n        } else {\n            return this._monthsRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            this._monthsRegex = defaultMonthsRegex;\n        }\n        return this._monthsStrictRegex && isStrict ?\n            this._monthsStrictRegex : this._monthsRegex;\n    }\n}\n\nfunction computeMonthsParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom;\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        shortPieces.push(this.monthsShort(mom, ''));\n        longPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.monthsShort(mom, ''));\n    }\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\n    // will match the longer piece.\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 12; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n    }\n    for (i = 0; i < 24; i++) {\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._monthsShortRegex = this._monthsRegex;\n    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n}\n\nfunction createDate (y, m, d, h, M, s, ms) {\n    // can't just apply() to create a date:\n    // https://stackoverflow.com/q/181348\n    var date = new Date(y, m, d, h, M, s, ms);\n\n    // the date constructor remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n        date.setFullYear(y);\n    }\n    return date;\n}\n\nfunction createUTCDate (y) {\n    var date = new Date(Date.UTC.apply(null, arguments));\n\n    // the Date.UTC function remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n        date.setUTCFullYear(y);\n    }\n    return date;\n}\n\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n    return -fwdlw + fwd - 1;\n}\n\n// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nfunction dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n    var localWeekday = (7 + weekday - dow) % 7,\n        weekOffset = firstWeekOffset(year, dow, doy),\n        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n        resYear, resDayOfYear;\n\n    if (dayOfYear <= 0) {\n        resYear = year - 1;\n        resDayOfYear = daysInYear(resYear) + dayOfYear;\n    } else if (dayOfYear > daysInYear(year)) {\n        resYear = year + 1;\n        resDayOfYear = dayOfYear - daysInYear(year);\n    } else {\n        resYear = year;\n        resDayOfYear = dayOfYear;\n    }\n\n    return {\n        year: resYear,\n        dayOfYear: resDayOfYear\n    };\n}\n\nfunction weekOfYear(mom, dow, doy) {\n    var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n        resWeek, resYear;\n\n    if (week < 1) {\n        resYear = mom.year() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.year(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.year(), dow, doy);\n        resYear = mom.year() + 1;\n    } else {\n        resYear = mom.year();\n        resWeek = week;\n    }\n\n    return {\n        week: resWeek,\n        year: resYear\n    };\n}\n\nfunction weeksInYear(year, dow, doy) {\n    var weekOffset = firstWeekOffset(year, dow, doy),\n        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n\n// FORMATTING\n\naddFormatToken('w', ['ww', 2], 'wo', 'week');\naddFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n// ALIASES\n\naddUnitAlias('week', 'w');\naddUnitAlias('isoWeek', 'W');\n\n// PRIORITIES\n\naddUnitPriority('week', 5);\naddUnitPriority('isoWeek', 5);\n\n// PARSING\n\naddRegexToken('w',  match1to2);\naddRegexToken('ww', match1to2, match2);\naddRegexToken('W',  match1to2);\naddRegexToken('WW', match1to2, match2);\n\naddWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n    week[token.substr(0, 1)] = toInt(input);\n});\n\n// HELPERS\n\n// LOCALES\n\nfunction localeWeek (mom) {\n    return weekOfYear(mom, this._week.dow, this._week.doy).week;\n}\n\nvar defaultLocaleWeek = {\n    dow : 0, // Sunday is the first day of the week.\n    doy : 6  // The week that contains Jan 1st is the first week of the year.\n};\n\nfunction localeFirstDayOfWeek () {\n    return this._week.dow;\n}\n\nfunction localeFirstDayOfYear () {\n    return this._week.doy;\n}\n\n// MOMENTS\n\nfunction getSetWeek (input) {\n    var week = this.localeData().week(this);\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\nfunction getSetISOWeek (input) {\n    var week = weekOfYear(this, 1, 4).week;\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\n// FORMATTING\n\naddFormatToken('d', 0, 'do', 'day');\n\naddFormatToken('dd', 0, 0, function (format) {\n    return this.localeData().weekdaysMin(this, format);\n});\n\naddFormatToken('ddd', 0, 0, function (format) {\n    return this.localeData().weekdaysShort(this, format);\n});\n\naddFormatToken('dddd', 0, 0, function (format) {\n    return this.localeData().weekdays(this, format);\n});\n\naddFormatToken('e', 0, 0, 'weekday');\naddFormatToken('E', 0, 0, 'isoWeekday');\n\n// ALIASES\n\naddUnitAlias('day', 'd');\naddUnitAlias('weekday', 'e');\naddUnitAlias('isoWeekday', 'E');\n\n// PRIORITY\naddUnitPriority('day', 11);\naddUnitPriority('weekday', 11);\naddUnitPriority('isoWeekday', 11);\n\n// PARSING\n\naddRegexToken('d',    match1to2);\naddRegexToken('e',    match1to2);\naddRegexToken('E',    match1to2);\naddRegexToken('dd',   function (isStrict, locale) {\n    return locale.weekdaysMinRegex(isStrict);\n});\naddRegexToken('ddd',   function (isStrict, locale) {\n    return locale.weekdaysShortRegex(isStrict);\n});\naddRegexToken('dddd',   function (isStrict, locale) {\n    return locale.weekdaysRegex(isStrict);\n});\n\naddWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n    var weekday = config._locale.weekdaysParse(input, token, config._strict);\n    // if we didn't get a weekday name, mark the date as invalid\n    if (weekday != null) {\n        week.d = weekday;\n    } else {\n        getParsingFlags(config).invalidWeekday = input;\n    }\n});\n\naddWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n    week[token] = toInt(input);\n});\n\n// HELPERS\n\nfunction parseWeekday(input, locale) {\n    if (typeof input !== 'string') {\n        return input;\n    }\n\n    if (!isNaN(input)) {\n        return parseInt(input, 10);\n    }\n\n    input = locale.weekdaysParse(input);\n    if (typeof input === 'number') {\n        return input;\n    }\n\n    return null;\n}\n\nfunction parseIsoWeekday(input, locale) {\n    if (typeof input === 'string') {\n        return locale.weekdaysParse(input) % 7 || 7;\n    }\n    return isNaN(input) ? null : input;\n}\n\n// LOCALES\n\nvar defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\nfunction localeWeekdays (m, format) {\n    if (!m) {\n        return isArray(this._weekdays) ? this._weekdays :\n            this._weekdays['standalone'];\n    }\n    return isArray(this._weekdays) ? this._weekdays[m.day()] :\n        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n}\n\nvar defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\nfunction localeWeekdaysShort (m) {\n    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n}\n\nvar defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\nfunction localeWeekdaysMin (m) {\n    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n}\n\nfunction handleStrictParse$1(weekdayName, format, strict) {\n    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._minWeekdaysParse = [];\n\n        for (i = 0; i < 7; ++i) {\n            mom = createUTC([2000, 1]).day(i);\n            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeWeekdaysParse (weekdayName, format, strict) {\n    var i, mom, regex;\n\n    if (this._weekdaysParseExact) {\n        return handleStrictParse$1.call(this, weekdayName, format, strict);\n    }\n\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._minWeekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._fullWeekdaysParse = [];\n    }\n\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n\n        mom = createUTC([2000, 1]).day(i);\n        if (strict && !this._fullWeekdaysParse[i]) {\n            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n        }\n        if (!this._weekdaysParse[i]) {\n            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction getSetDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    if (input != null) {\n        input = parseWeekday(input, this.localeData());\n        return this.add(input - day, 'd');\n    } else {\n        return day;\n    }\n}\n\nfunction getSetLocaleDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return input == null ? weekday : this.add(input - weekday, 'd');\n}\n\nfunction getSetISODayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n\n    // behaves the same as moment#day except\n    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n    // as a setter, sunday should belong to the previous week.\n\n    if (input != null) {\n        var weekday = parseIsoWeekday(input, this.localeData());\n        return this.day(this.day() % 7 ? weekday : weekday - 7);\n    } else {\n        return this.day() || 7;\n    }\n}\n\nvar defaultWeekdaysRegex = matchWord;\nfunction weekdaysRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysStrictRegex;\n        } else {\n            return this._weekdaysRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            this._weekdaysRegex = defaultWeekdaysRegex;\n        }\n        return this._weekdaysStrictRegex && isStrict ?\n            this._weekdaysStrictRegex : this._weekdaysRegex;\n    }\n}\n\nvar defaultWeekdaysShortRegex = matchWord;\nfunction weekdaysShortRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysShortStrictRegex;\n        } else {\n            return this._weekdaysShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n            this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n        }\n        return this._weekdaysShortStrictRegex && isStrict ?\n            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n    }\n}\n\nvar defaultWeekdaysMinRegex = matchWord;\nfunction weekdaysMinRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysMinStrictRegex;\n        } else {\n            return this._weekdaysMinRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n            this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n        }\n        return this._weekdaysMinStrictRegex && isStrict ?\n            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n    }\n}\n\n\nfunction computeWeekdaysParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom, minp, shortp, longp;\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, 1]).day(i);\n        minp = this.weekdaysMin(mom, '');\n        shortp = this.weekdaysShort(mom, '');\n        longp = this.weekdays(mom, '');\n        minPieces.push(minp);\n        shortPieces.push(shortp);\n        longPieces.push(longp);\n        mixedPieces.push(minp);\n        mixedPieces.push(shortp);\n        mixedPieces.push(longp);\n    }\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n    // will match the longer piece.\n    minPieces.sort(cmpLenRev);\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 7; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._weekdaysShortRegex = this._weekdaysRegex;\n    this._weekdaysMinRegex = this._weekdaysRegex;\n\n    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\nfunction hFormat() {\n    return this.hours() % 12 || 12;\n}\n\nfunction kFormat() {\n    return this.hours() || 24;\n}\n\naddFormatToken('H', ['HH', 2], 0, 'hour');\naddFormatToken('h', ['hh', 2], 0, hFormat);\naddFormatToken('k', ['kk', 2], 0, kFormat);\n\naddFormatToken('hmm', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('hmmss', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\naddFormatToken('Hmm', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('Hmmss', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\nfunction meridiem (token, lowercase) {\n    addFormatToken(token, 0, 0, function () {\n        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n    });\n}\n\nmeridiem('a', true);\nmeridiem('A', false);\n\n// ALIASES\n\naddUnitAlias('hour', 'h');\n\n// PRIORITY\naddUnitPriority('hour', 13);\n\n// PARSING\n\nfunction matchMeridiem (isStrict, locale) {\n    return locale._meridiemParse;\n}\n\naddRegexToken('a',  matchMeridiem);\naddRegexToken('A',  matchMeridiem);\naddRegexToken('H',  match1to2);\naddRegexToken('h',  match1to2);\naddRegexToken('k',  match1to2);\naddRegexToken('HH', match1to2, match2);\naddRegexToken('hh', match1to2, match2);\naddRegexToken('kk', match1to2, match2);\n\naddRegexToken('hmm', match3to4);\naddRegexToken('hmmss', match5to6);\naddRegexToken('Hmm', match3to4);\naddRegexToken('Hmmss', match5to6);\n\naddParseToken(['H', 'HH'], HOUR);\naddParseToken(['k', 'kk'], function (input, array, config) {\n    var kInput = toInt(input);\n    array[HOUR] = kInput === 24 ? 0 : kInput;\n});\naddParseToken(['a', 'A'], function (input, array, config) {\n    config._isPm = config._locale.isPM(input);\n    config._meridiem = input;\n});\naddParseToken(['h', 'hh'], function (input, array, config) {\n    array[HOUR] = toInt(input);\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('Hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n});\naddParseToken('Hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n});\n\n// LOCALES\n\nfunction localeIsPM (input) {\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n    // Using charAt should be more compatible.\n    return ((input + '').toLowerCase().charAt(0) === 'p');\n}\n\nvar defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\nfunction localeMeridiem (hours, minutes, isLower) {\n    if (hours > 11) {\n        return isLower ? 'pm' : 'PM';\n    } else {\n        return isLower ? 'am' : 'AM';\n    }\n}\n\n\n// MOMENTS\n\n// Setting the hour should keep the time, because the user explicitly\n// specified which hour he wants. So trying to maintain the same hour (in\n// a new timezone) makes sense. Adding/subtracting hours does not follow\n// this rule.\nvar getSetHour = makeGetSet('Hours', true);\n\n// months\n// week\n// weekdays\n// meridiem\nvar baseConfig = {\n    calendar: defaultCalendar,\n    longDateFormat: defaultLongDateFormat,\n    invalidDate: defaultInvalidDate,\n    ordinal: defaultOrdinal,\n    dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n    relativeTime: defaultRelativeTime,\n\n    months: defaultLocaleMonths,\n    monthsShort: defaultLocaleMonthsShort,\n\n    week: defaultLocaleWeek,\n\n    weekdays: defaultLocaleWeekdays,\n    weekdaysMin: defaultLocaleWeekdaysMin,\n    weekdaysShort: defaultLocaleWeekdaysShort,\n\n    meridiemParse: defaultLocaleMeridiemParse\n};\n\n// internal storage for locale config files\nvar locales = {};\nvar localeFamilies = {};\nvar globalLocale;\n\nfunction normalizeLocale(key) {\n    return key ? key.toLowerCase().replace('_', '-') : key;\n}\n\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction chooseLocale(names) {\n    var i = 0, j, next, locale, split;\n\n    while (i < names.length) {\n        split = normalizeLocale(names[i]).split('-');\n        j = split.length;\n        next = normalizeLocale(names[i + 1]);\n        next = next ? next.split('-') : null;\n        while (j > 0) {\n            locale = loadLocale(split.slice(0, j).join('-'));\n            if (locale) {\n                return locale;\n            }\n            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                //the next array item is better than a shallower substring of this one\n                break;\n            }\n            j--;\n        }\n        i++;\n    }\n    return null;\n}\n\nfunction loadLocale(name) {\n    var oldLocale = null;\n    // TODO: Find a better way to register and load all the locales in Node\n    if (!locales[name] && (typeof module !== 'undefined') &&\n            module && module.exports) {\n        try {\n            oldLocale = globalLocale._abbr;\n            var aliasedRequire = require;\n            aliasedRequire('./locale/' + name);\n            getSetGlobalLocale(oldLocale);\n        } catch (e) {}\n    }\n    return locales[name];\n}\n\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nfunction getSetGlobalLocale (key, values) {\n    var data;\n    if (key) {\n        if (isUndefined(values)) {\n            data = getLocale(key);\n        }\n        else {\n            data = defineLocale(key, values);\n        }\n\n        if (data) {\n            // moment.duration._locale = moment._locale = data;\n            globalLocale = data;\n        }\n    }\n\n    return globalLocale._abbr;\n}\n\nfunction defineLocale (name, config) {\n    if (config !== null) {\n        var parentConfig = baseConfig;\n        config.abbr = name;\n        if (locales[name] != null) {\n            deprecateSimple('defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                    'an existing locale. moment.defineLocale(localeName, ' +\n                    'config) should only be used for creating a new locale ' +\n                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n            parentConfig = locales[name]._config;\n        } else if (config.parentLocale != null) {\n            if (locales[config.parentLocale] != null) {\n                parentConfig = locales[config.parentLocale]._config;\n            } else {\n                if (!localeFamilies[config.parentLocale]) {\n                    localeFamilies[config.parentLocale] = [];\n                }\n                localeFamilies[config.parentLocale].push({\n                    name: name,\n                    config: config\n                });\n                return null;\n            }\n        }\n        locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n        if (localeFamilies[name]) {\n            localeFamilies[name].forEach(function (x) {\n                defineLocale(x.name, x.config);\n            });\n        }\n\n        // backwards compat for now: also set the locale\n        // make sure we set the locale AFTER all child locales have been\n        // created, so we won't end up with the child locale set.\n        getSetGlobalLocale(name);\n\n\n        return locales[name];\n    } else {\n        // useful for testing\n        delete locales[name];\n        return null;\n    }\n}\n\nfunction updateLocale(name, config) {\n    if (config != null) {\n        var locale, tmpLocale, parentConfig = baseConfig;\n        // MERGE\n        tmpLocale = loadLocale(name);\n        if (tmpLocale != null) {\n            parentConfig = tmpLocale._config;\n        }\n        config = mergeConfigs(parentConfig, config);\n        locale = new Locale(config);\n        locale.parentLocale = locales[name];\n        locales[name] = locale;\n\n        // backwards compat for now: also set the locale\n        getSetGlobalLocale(name);\n    } else {\n        // pass null for config to unupdate, useful for tests\n        if (locales[name] != null) {\n            if (locales[name].parentLocale != null) {\n                locales[name] = locales[name].parentLocale;\n            } else if (locales[name] != null) {\n                delete locales[name];\n            }\n        }\n    }\n    return locales[name];\n}\n\n// returns locale data\nfunction getLocale (key) {\n    var locale;\n\n    if (key && key._locale && key._locale._abbr) {\n        key = key._locale._abbr;\n    }\n\n    if (!key) {\n        return globalLocale;\n    }\n\n    if (!isArray(key)) {\n        //short-circuit everything else\n        locale = loadLocale(key);\n        if (locale) {\n            return locale;\n        }\n        key = [key];\n    }\n\n    return chooseLocale(key);\n}\n\nfunction listLocales() {\n    return keys(locales);\n}\n\nfunction checkOverflow (m) {\n    var overflow;\n    var a = m._a;\n\n    if (a && getParsingFlags(m).overflow === -2) {\n        overflow =\n            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n            -1;\n\n        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n            overflow = DATE;\n        }\n        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n            overflow = WEEK;\n        }\n        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n            overflow = WEEKDAY;\n        }\n\n        getParsingFlags(m).overflow = overflow;\n    }\n\n    return m;\n}\n\n// Pick the first defined of two or three arguments.\nfunction defaults(a, b, c) {\n    if (a != null) {\n        return a;\n    }\n    if (b != null) {\n        return b;\n    }\n    return c;\n}\n\nfunction currentDateArray(config) {\n    // hooks is actually the exported moment object\n    var nowValue = new Date(hooks.now());\n    if (config._useUTC) {\n        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n    }\n    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n}\n\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nfunction configFromArray (config) {\n    var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n    if (config._d) {\n        return;\n    }\n\n    currentDate = currentDateArray(config);\n\n    //compute day of the year from weeks and weekdays\n    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n        dayOfYearFromWeekInfo(config);\n    }\n\n    //if the day of the year is set, figure out what it is\n    if (config._dayOfYear != null) {\n        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n        if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n            getParsingFlags(config)._overflowDayOfYear = true;\n        }\n\n        date = createUTCDate(yearToUse, 0, config._dayOfYear);\n        config._a[MONTH] = date.getUTCMonth();\n        config._a[DATE] = date.getUTCDate();\n    }\n\n    // Default to current date.\n    // * if no year, month, day of month are given, default to today\n    // * if day of month is given, default month and year\n    // * if month is given, default only year\n    // * if year is given, don't default anything\n    for (i = 0; i < 3 && config._a[i] == null; ++i) {\n        config._a[i] = input[i] = currentDate[i];\n    }\n\n    // Zero out whatever was not defaulted, including time\n    for (; i < 7; i++) {\n        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n    }\n\n    // Check for 24:00:00.000\n    if (config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0) {\n        config._nextDay = true;\n        config._a[HOUR] = 0;\n    }\n\n    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n    expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n    // Apply timezone offset from input. The actual utcOffset can be changed\n    // with parseZone.\n    if (config._tzm != null) {\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n    }\n\n    if (config._nextDay) {\n        config._a[HOUR] = 24;\n    }\n\n    // check for mismatching day of week\n    if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n        getParsingFlags(config).weekdayMismatch = true;\n    }\n}\n\nfunction dayOfYearFromWeekInfo(config) {\n    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n    w = config._w;\n    if (w.GG != null || w.W != null || w.E != null) {\n        dow = 1;\n        doy = 4;\n\n        // TODO: We need to take the current isoWeekYear, but that depends on\n        // how we interpret now (local, utc, fixed offset). So create\n        // a now version of current config (take local/utc/offset flags, and\n        // create now).\n        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n        week = defaults(w.W, 1);\n        weekday = defaults(w.E, 1);\n        if (weekday < 1 || weekday > 7) {\n            weekdayOverflow = true;\n        }\n    } else {\n        dow = config._locale._week.dow;\n        doy = config._locale._week.doy;\n\n        var curWeek = weekOfYear(createLocal(), dow, doy);\n\n        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n        // Default to current week.\n        week = defaults(w.w, curWeek.week);\n\n        if (w.d != null) {\n            // weekday -- low day numbers are considered next week\n            weekday = w.d;\n            if (weekday < 0 || weekday > 6) {\n                weekdayOverflow = true;\n            }\n        } else if (w.e != null) {\n            // local weekday -- counting starts from begining of week\n            weekday = w.e + dow;\n            if (w.e < 0 || w.e > 6) {\n                weekdayOverflow = true;\n            }\n        } else {\n            // default to begining of week\n            weekday = dow;\n        }\n    }\n    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n        getParsingFlags(config)._overflowWeeks = true;\n    } else if (weekdayOverflow != null) {\n        getParsingFlags(config)._overflowWeekday = true;\n    } else {\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n}\n\n// iso 8601 regex\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\nvar extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\nvar basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\nvar tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\nvar isoDates = [\n    ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n    ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n    ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n    ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n    ['YYYY-DDD', /\\d{4}-\\d{3}/],\n    ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n    ['YYYYYYMMDD', /[+-]\\d{10}/],\n    ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n    ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n    ['YYYYDDD', /\\d{7}/]\n];\n\n// iso time formats and regexes\nvar isoTimes = [\n    ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n    ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n    ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n    ['HH:mm', /\\d\\d:\\d\\d/],\n    ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n    ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n    ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n    ['HHmm', /\\d\\d\\d\\d/],\n    ['HH', /\\d\\d/]\n];\n\nvar aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n// date from iso format\nfunction configFromISO(config) {\n    var i, l,\n        string = config._i,\n        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n        allowTime, dateFormat, timeFormat, tzFormat;\n\n    if (match) {\n        getParsingFlags(config).iso = true;\n\n        for (i = 0, l = isoDates.length; i < l; i++) {\n            if (isoDates[i][1].exec(match[1])) {\n                dateFormat = isoDates[i][0];\n                allowTime = isoDates[i][2] !== false;\n                break;\n            }\n        }\n        if (dateFormat == null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[3]) {\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(match[3])) {\n                    // match[2] should be 'T' or space\n                    timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (timeFormat == null) {\n                config._isValid = false;\n                return;\n            }\n        }\n        if (!allowTime && timeFormat != null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[4]) {\n            if (tzRegex.exec(match[4])) {\n                tzFormat = 'Z';\n            } else {\n                config._isValid = false;\n                return;\n            }\n        }\n        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n        configFromStringAndFormat(config);\n    } else {\n        config._isValid = false;\n    }\n}\n\n// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\nvar rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\nfunction extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n    var result = [\n        untruncateYear(yearStr),\n        defaultLocaleMonthsShort.indexOf(monthStr),\n        parseInt(dayStr, 10),\n        parseInt(hourStr, 10),\n        parseInt(minuteStr, 10)\n    ];\n\n    if (secondStr) {\n        result.push(parseInt(secondStr, 10));\n    }\n\n    return result;\n}\n\nfunction untruncateYear(yearStr) {\n    var year = parseInt(yearStr, 10);\n    if (year <= 49) {\n        return 2000 + year;\n    } else if (year <= 999) {\n        return 1900 + year;\n    }\n    return year;\n}\n\nfunction preprocessRFC2822(s) {\n    // Remove comments and folding whitespace and replace multiple-spaces with a single space\n    return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').trim();\n}\n\nfunction checkWeekday(weekdayStr, parsedInput, config) {\n    if (weekdayStr) {\n        // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n        var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n            weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n        if (weekdayProvided !== weekdayActual) {\n            getParsingFlags(config).weekdayMismatch = true;\n            config._isValid = false;\n            return false;\n        }\n    }\n    return true;\n}\n\nvar obsOffsets = {\n    UT: 0,\n    GMT: 0,\n    EDT: -4 * 60,\n    EST: -5 * 60,\n    CDT: -5 * 60,\n    CST: -6 * 60,\n    MDT: -6 * 60,\n    MST: -7 * 60,\n    PDT: -7 * 60,\n    PST: -8 * 60\n};\n\nfunction calculateOffset(obsOffset, militaryOffset, numOffset) {\n    if (obsOffset) {\n        return obsOffsets[obsOffset];\n    } else if (militaryOffset) {\n        // the only allowed military tz is Z\n        return 0;\n    } else {\n        var hm = parseInt(numOffset, 10);\n        var m = hm % 100, h = (hm - m) / 100;\n        return h * 60 + m;\n    }\n}\n\n// date and time from ref 2822 format\nfunction configFromRFC2822(config) {\n    var match = rfc2822.exec(preprocessRFC2822(config._i));\n    if (match) {\n        var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n        if (!checkWeekday(match[1], parsedArray, config)) {\n            return;\n        }\n\n        config._a = parsedArray;\n        config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n        config._d = createUTCDate.apply(null, config._a);\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n        getParsingFlags(config).rfc2822 = true;\n    } else {\n        config._isValid = false;\n    }\n}\n\n// date from iso format or fallback\nfunction configFromString(config) {\n    var matched = aspNetJsonRegex.exec(config._i);\n\n    if (matched !== null) {\n        config._d = new Date(+matched[1]);\n        return;\n    }\n\n    configFromISO(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    configFromRFC2822(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    // Final attempt, use Input Fallback\n    hooks.createFromInputFallback(config);\n}\n\nhooks.createFromInputFallback = deprecate(\n    'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n    'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n    'discouraged and will be removed in an upcoming major release. Please refer to ' +\n    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n    function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    }\n);\n\n// constant that refers to the ISO standard\nhooks.ISO_8601 = function () {};\n\n// constant that refers to the RFC 2822 form\nhooks.RFC_2822 = function () {};\n\n// date from string and format string\nfunction configFromStringAndFormat(config) {\n    // TODO: Move this to another part of the creation flow to prevent circular deps\n    if (config._f === hooks.ISO_8601) {\n        configFromISO(config);\n        return;\n    }\n    if (config._f === hooks.RFC_2822) {\n        configFromRFC2822(config);\n        return;\n    }\n    config._a = [];\n    getParsingFlags(config).empty = true;\n\n    // This array is used to make a Date, either with `new Date` or `Date.UTC`\n    var string = '' + config._i,\n        i, parsedInput, tokens, token, skipped,\n        stringLength = string.length,\n        totalParsedInputLength = 0;\n\n    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n        // console.log('token', token, 'parsedInput', parsedInput,\n        //         'regex', getParseRegexForToken(token, config));\n        if (parsedInput) {\n            skipped = string.substr(0, string.indexOf(parsedInput));\n            if (skipped.length > 0) {\n                getParsingFlags(config).unusedInput.push(skipped);\n            }\n            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            totalParsedInputLength += parsedInput.length;\n        }\n        // don't parse if it's not a known token\n        if (formatTokenFunctions[token]) {\n            if (parsedInput) {\n                getParsingFlags(config).empty = false;\n            }\n            else {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n            addTimeToArrayFromToken(token, parsedInput, config);\n        }\n        else if (config._strict && !parsedInput) {\n            getParsingFlags(config).unusedTokens.push(token);\n        }\n    }\n\n    // add remaining unparsed input length to the string\n    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n    if (string.length > 0) {\n        getParsingFlags(config).unusedInput.push(string);\n    }\n\n    // clear _12h flag if hour is <= 12\n    if (config._a[HOUR] <= 12 &&\n        getParsingFlags(config).bigHour === true &&\n        config._a[HOUR] > 0) {\n        getParsingFlags(config).bigHour = undefined;\n    }\n\n    getParsingFlags(config).parsedDateParts = config._a.slice(0);\n    getParsingFlags(config).meridiem = config._meridiem;\n    // handle meridiem\n    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n    configFromArray(config);\n    checkOverflow(config);\n}\n\n\nfunction meridiemFixWrap (locale, hour, meridiem) {\n    var isPm;\n\n    if (meridiem == null) {\n        // nothing to do\n        return hour;\n    }\n    if (locale.meridiemHour != null) {\n        return locale.meridiemHour(hour, meridiem);\n    } else if (locale.isPM != null) {\n        // Fallback\n        isPm = locale.isPM(meridiem);\n        if (isPm && hour < 12) {\n            hour += 12;\n        }\n        if (!isPm && hour === 12) {\n            hour = 0;\n        }\n        return hour;\n    } else {\n        // this is not supposed to happen\n        return hour;\n    }\n}\n\n// date from string and array of format strings\nfunction configFromStringAndArray(config) {\n    var tempConfig,\n        bestMoment,\n\n        scoreToBeat,\n        i,\n        currentScore;\n\n    if (config._f.length === 0) {\n        getParsingFlags(config).invalidFormat = true;\n        config._d = new Date(NaN);\n        return;\n    }\n\n    for (i = 0; i < config._f.length; i++) {\n        currentScore = 0;\n        tempConfig = copyConfig({}, config);\n        if (config._useUTC != null) {\n            tempConfig._useUTC = config._useUTC;\n        }\n        tempConfig._f = config._f[i];\n        configFromStringAndFormat(tempConfig);\n\n        if (!isValid(tempConfig)) {\n            continue;\n        }\n\n        // if there is any input that was not parsed add a penalty for that format\n        currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n        //or tokens\n        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n        getParsingFlags(tempConfig).score = currentScore;\n\n        if (scoreToBeat == null || currentScore < scoreToBeat) {\n            scoreToBeat = currentScore;\n            bestMoment = tempConfig;\n        }\n    }\n\n    extend(config, bestMoment || tempConfig);\n}\n\nfunction configFromObject(config) {\n    if (config._d) {\n        return;\n    }\n\n    var i = normalizeObjectUnits(config._i);\n    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n        return obj && parseInt(obj, 10);\n    });\n\n    configFromArray(config);\n}\n\nfunction createFromConfig (config) {\n    var res = new Moment(checkOverflow(prepareConfig(config)));\n    if (res._nextDay) {\n        // Adding is smart enough around DST\n        res.add(1, 'd');\n        res._nextDay = undefined;\n    }\n\n    return res;\n}\n\nfunction prepareConfig (config) {\n    var input = config._i,\n        format = config._f;\n\n    config._locale = config._locale || getLocale(config._l);\n\n    if (input === null || (format === undefined && input === '')) {\n        return createInvalid({nullInput: true});\n    }\n\n    if (typeof input === 'string') {\n        config._i = input = config._locale.preparse(input);\n    }\n\n    if (isMoment(input)) {\n        return new Moment(checkOverflow(input));\n    } else if (isDate(input)) {\n        config._d = input;\n    } else if (isArray(format)) {\n        configFromStringAndArray(config);\n    } else if (format) {\n        configFromStringAndFormat(config);\n    }  else {\n        configFromInput(config);\n    }\n\n    if (!isValid(config)) {\n        config._d = null;\n    }\n\n    return config;\n}\n\nfunction configFromInput(config) {\n    var input = config._i;\n    if (isUndefined(input)) {\n        config._d = new Date(hooks.now());\n    } else if (isDate(input)) {\n        config._d = new Date(input.valueOf());\n    } else if (typeof input === 'string') {\n        configFromString(config);\n    } else if (isArray(input)) {\n        config._a = map(input.slice(0), function (obj) {\n            return parseInt(obj, 10);\n        });\n        configFromArray(config);\n    } else if (isObject(input)) {\n        configFromObject(config);\n    } else if (isNumber(input)) {\n        // from milliseconds\n        config._d = new Date(input);\n    } else {\n        hooks.createFromInputFallback(config);\n    }\n}\n\nfunction createLocalOrUTC (input, format, locale, strict, isUTC) {\n    var c = {};\n\n    if (locale === true || locale === false) {\n        strict = locale;\n        locale = undefined;\n    }\n\n    if ((isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)) {\n        input = undefined;\n    }\n    // object construction must be done this way.\n    // https://github.com/moment/moment/issues/1423\n    c._isAMomentObject = true;\n    c._useUTC = c._isUTC = isUTC;\n    c._l = locale;\n    c._i = input;\n    c._f = format;\n    c._strict = strict;\n\n    return createFromConfig(c);\n}\n\nfunction createLocal (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, false);\n}\n\nvar prototypeMin = deprecate(\n    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\nvar prototypeMax = deprecate(\n    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction pickBy(fn, moments) {\n    var res, i;\n    if (moments.length === 1 && isArray(moments[0])) {\n        moments = moments[0];\n    }\n    if (!moments.length) {\n        return createLocal();\n    }\n    res = moments[0];\n    for (i = 1; i < moments.length; ++i) {\n        if (!moments[i].isValid() || moments[i][fn](res)) {\n            res = moments[i];\n        }\n    }\n    return res;\n}\n\n// TODO: Use [].sort instead?\nfunction min () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isBefore', args);\n}\n\nfunction max () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isAfter', args);\n}\n\nvar now = function () {\n    return Date.now ? Date.now() : +(new Date());\n};\n\nvar ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\nfunction isDurationValid(m) {\n    for (var key in m) {\n        if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n            return false;\n        }\n    }\n\n    var unitHasDecimal = false;\n    for (var i = 0; i < ordering.length; ++i) {\n        if (m[ordering[i]]) {\n            if (unitHasDecimal) {\n                return false; // only allow non-integers for smallest unit\n            }\n            if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                unitHasDecimal = true;\n            }\n        }\n    }\n\n    return true;\n}\n\nfunction isValid$1() {\n    return this._isValid;\n}\n\nfunction createInvalid$1() {\n    return createDuration(NaN);\n}\n\nfunction Duration (duration) {\n    var normalizedInput = normalizeObjectUnits(duration),\n        years = normalizedInput.year || 0,\n        quarters = normalizedInput.quarter || 0,\n        months = normalizedInput.month || 0,\n        weeks = normalizedInput.week || 0,\n        days = normalizedInput.day || 0,\n        hours = normalizedInput.hour || 0,\n        minutes = normalizedInput.minute || 0,\n        seconds = normalizedInput.second || 0,\n        milliseconds = normalizedInput.millisecond || 0;\n\n    this._isValid = isDurationValid(normalizedInput);\n\n    // representation for dateAddRemove\n    this._milliseconds = +milliseconds +\n        seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n    // Because of dateAddRemove treats 24 hours as different from a\n    // day when working around DST, we need to store them separately\n    this._days = +days +\n        weeks * 7;\n    // It is impossible to translate months into days without knowing\n    // which months you are are talking about, so we have to store\n    // it separately.\n    this._months = +months +\n        quarters * 3 +\n        years * 12;\n\n    this._data = {};\n\n    this._locale = getLocale();\n\n    this._bubble();\n}\n\nfunction isDuration (obj) {\n    return obj instanceof Duration;\n}\n\nfunction absRound (number) {\n    if (number < 0) {\n        return Math.round(-1 * number) * -1;\n    } else {\n        return Math.round(number);\n    }\n}\n\n// FORMATTING\n\nfunction offset (token, separator) {\n    addFormatToken(token, 0, 0, function () {\n        var offset = this.utcOffset();\n        var sign = '+';\n        if (offset < 0) {\n            offset = -offset;\n            sign = '-';\n        }\n        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n    });\n}\n\noffset('Z', ':');\noffset('ZZ', '');\n\n// PARSING\n\naddRegexToken('Z',  matchShortOffset);\naddRegexToken('ZZ', matchShortOffset);\naddParseToken(['Z', 'ZZ'], function (input, array, config) {\n    config._useUTC = true;\n    config._tzm = offsetFromString(matchShortOffset, input);\n});\n\n// HELPERS\n\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\nfunction offsetFromString(matcher, string) {\n    var matches = (string || '').match(matcher);\n\n    if (matches === null) {\n        return null;\n    }\n\n    var chunk   = matches[matches.length - 1] || [];\n    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n    var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n    return minutes === 0 ?\n      0 :\n      parts[0] === '+' ? minutes : -minutes;\n}\n\n// Return a moment from input, that is local/utc/zone equivalent to model.\nfunction cloneWithOffset(input, model) {\n    var res, diff;\n    if (model._isUTC) {\n        res = model.clone();\n        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n        // Use low-level api, because this fn is low-level api.\n        res._d.setTime(res._d.valueOf() + diff);\n        hooks.updateOffset(res, false);\n        return res;\n    } else {\n        return createLocal(input).local();\n    }\n}\n\nfunction getDateOffset (m) {\n    // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n}\n\n// HOOKS\n\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\nhooks.updateOffset = function () {};\n\n// MOMENTS\n\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nfunction getSetOffset (input, keepLocalTime, keepMinutes) {\n    var offset = this._offset || 0,\n        localAdjust;\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    if (input != null) {\n        if (typeof input === 'string') {\n            input = offsetFromString(matchShortOffset, input);\n            if (input === null) {\n                return this;\n            }\n        } else if (Math.abs(input) < 16 && !keepMinutes) {\n            input = input * 60;\n        }\n        if (!this._isUTC && keepLocalTime) {\n            localAdjust = getDateOffset(this);\n        }\n        this._offset = input;\n        this._isUTC = true;\n        if (localAdjust != null) {\n            this.add(localAdjust, 'm');\n        }\n        if (offset !== input) {\n            if (!keepLocalTime || this._changeInProgress) {\n                addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n            } else if (!this._changeInProgress) {\n                this._changeInProgress = true;\n                hooks.updateOffset(this, true);\n                this._changeInProgress = null;\n            }\n        }\n        return this;\n    } else {\n        return this._isUTC ? offset : getDateOffset(this);\n    }\n}\n\nfunction getSetZone (input, keepLocalTime) {\n    if (input != null) {\n        if (typeof input !== 'string') {\n            input = -input;\n        }\n\n        this.utcOffset(input, keepLocalTime);\n\n        return this;\n    } else {\n        return -this.utcOffset();\n    }\n}\n\nfunction setOffsetToUTC (keepLocalTime) {\n    return this.utcOffset(0, keepLocalTime);\n}\n\nfunction setOffsetToLocal (keepLocalTime) {\n    if (this._isUTC) {\n        this.utcOffset(0, keepLocalTime);\n        this._isUTC = false;\n\n        if (keepLocalTime) {\n            this.subtract(getDateOffset(this), 'm');\n        }\n    }\n    return this;\n}\n\nfunction setOffsetToParsedOffset () {\n    if (this._tzm != null) {\n        this.utcOffset(this._tzm, false, true);\n    } else if (typeof this._i === 'string') {\n        var tZone = offsetFromString(matchOffset, this._i);\n        if (tZone != null) {\n            this.utcOffset(tZone);\n        }\n        else {\n            this.utcOffset(0, true);\n        }\n    }\n    return this;\n}\n\nfunction hasAlignedHourOffset (input) {\n    if (!this.isValid()) {\n        return false;\n    }\n    input = input ? createLocal(input).utcOffset() : 0;\n\n    return (this.utcOffset() - input) % 60 === 0;\n}\n\nfunction isDaylightSavingTime () {\n    return (\n        this.utcOffset() > this.clone().month(0).utcOffset() ||\n        this.utcOffset() > this.clone().month(5).utcOffset()\n    );\n}\n\nfunction isDaylightSavingTimeShifted () {\n    if (!isUndefined(this._isDSTShifted)) {\n        return this._isDSTShifted;\n    }\n\n    var c = {};\n\n    copyConfig(c, this);\n    c = prepareConfig(c);\n\n    if (c._a) {\n        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n        this._isDSTShifted = this.isValid() &&\n            compareArrays(c._a, other.toArray()) > 0;\n    } else {\n        this._isDSTShifted = false;\n    }\n\n    return this._isDSTShifted;\n}\n\nfunction isLocal () {\n    return this.isValid() ? !this._isUTC : false;\n}\n\nfunction isUtcOffset () {\n    return this.isValid() ? this._isUTC : false;\n}\n\nfunction isUtc () {\n    return this.isValid() ? this._isUTC && this._offset === 0 : false;\n}\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\nfunction createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\ncreateDuration.invalid = createInvalid$1;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n\n// TODO: remove 'name' arg after deprecation is removed\nfunction createAdder(direction, name) {\n    return function (val, period) {\n        var dur, tmp;\n        //invert the arguments, but complain about it\n        if (period !== null && !isNaN(+period)) {\n            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n            tmp = val; val = period; period = tmp;\n        }\n\n        val = typeof val === 'string' ? +val : val;\n        dur = createDuration(val, period);\n        addSubtract(this, dur, direction);\n        return this;\n    };\n}\n\nfunction addSubtract (mom, duration, isAdding, updateOffset) {\n    var milliseconds = duration._milliseconds,\n        days = absRound(duration._days),\n        months = absRound(duration._months);\n\n    if (!mom.isValid()) {\n        // No op\n        return;\n    }\n\n    updateOffset = updateOffset == null ? true : updateOffset;\n\n    if (months) {\n        setMonth(mom, get(mom, 'Month') + months * isAdding);\n    }\n    if (days) {\n        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n    }\n    if (milliseconds) {\n        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n    }\n    if (updateOffset) {\n        hooks.updateOffset(mom, days || months);\n    }\n}\n\nvar add      = createAdder(1, 'add');\nvar subtract = createAdder(-1, 'subtract');\n\nfunction getCalendarFormat(myMoment, now) {\n    var diff = myMoment.diff(now, 'days', true);\n    return diff < -6 ? 'sameElse' :\n            diff < -1 ? 'lastWeek' :\n            diff < 0 ? 'lastDay' :\n            diff < 1 ? 'sameDay' :\n            diff < 2 ? 'nextDay' :\n            diff < 7 ? 'nextWeek' : 'sameElse';\n}\n\nfunction calendar$1 (time, formats) {\n    // We want to compare the start of today, vs this.\n    // Getting start-of-today depends on whether we're local/utc/offset or not.\n    var now = time || createLocal(),\n        sod = cloneWithOffset(now, this).startOf('day'),\n        format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n}\n\nfunction clone () {\n    return new Moment(this);\n}\n\nfunction isAfter (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() > localInput.valueOf();\n    } else {\n        return localInput.valueOf() < this.clone().startOf(units).valueOf();\n    }\n}\n\nfunction isBefore (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() < localInput.valueOf();\n    } else {\n        return this.clone().endOf(units).valueOf() < localInput.valueOf();\n    }\n}\n\nfunction isBetween (from, to, units, inclusivity) {\n    inclusivity = inclusivity || '()';\n    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n}\n\nfunction isSame (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input),\n        inputMs;\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(units || 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() === localInput.valueOf();\n    } else {\n        inputMs = localInput.valueOf();\n        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n    }\n}\n\nfunction isSameOrAfter (input, units) {\n    return this.isSame(input, units) || this.isAfter(input,units);\n}\n\nfunction isSameOrBefore (input, units) {\n    return this.isSame(input, units) || this.isBefore(input,units);\n}\n\nfunction diff (input, units, asFloat) {\n    var that,\n        zoneDelta,\n        delta, output;\n\n    if (!this.isValid()) {\n        return NaN;\n    }\n\n    that = cloneWithOffset(input, this);\n\n    if (!that.isValid()) {\n        return NaN;\n    }\n\n    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n    units = normalizeUnits(units);\n\n    switch (units) {\n        case 'year': output = monthDiff(this, that) / 12; break;\n        case 'month': output = monthDiff(this, that); break;\n        case 'quarter': output = monthDiff(this, that) / 3; break;\n        case 'second': output = (this - that) / 1e3; break; // 1000\n        case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n        case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n        case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n        case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n        default: output = this - that;\n    }\n\n    return asFloat ? output : absFloor(output);\n}\n\nfunction monthDiff (a, b) {\n    // difference in months\n    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n        anchor2, adjust;\n\n    if (b - anchor < 0) {\n        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor - anchor2);\n    } else {\n        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor2 - anchor);\n    }\n\n    //check for negative zero, return zero if negative zero\n    return -(wholeMonthDiff + adjust) || 0;\n}\n\nhooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\nhooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\nfunction toString () {\n    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n}\n\nfunction toISOString() {\n    if (!this.isValid()) {\n        return null;\n    }\n    var m = this.clone().utc();\n    if (m.year() < 0 || m.year() > 9999) {\n        return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n    }\n    if (isFunction(Date.prototype.toISOString)) {\n        // native implementation is ~50x faster, use it when we can\n        return this.toDate().toISOString();\n    }\n    return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n}\n\n/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nfunction inspect () {\n    if (!this.isValid()) {\n        return 'moment.invalid(/* ' + this._i + ' */)';\n    }\n    var func = 'moment';\n    var zone = '';\n    if (!this.isLocal()) {\n        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n        zone = 'Z';\n    }\n    var prefix = '[' + func + '(\"]';\n    var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n    var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n    var suffix = zone + '[\")]';\n\n    return this.format(prefix + year + datetime + suffix);\n}\n\nfunction format (inputString) {\n    if (!inputString) {\n        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n    }\n    var output = formatMoment(this, inputString);\n    return this.localeData().postformat(output);\n}\n\nfunction from (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction fromNow (withoutSuffix) {\n    return this.from(createLocal(), withoutSuffix);\n}\n\nfunction to (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction toNow (withoutSuffix) {\n    return this.to(createLocal(), withoutSuffix);\n}\n\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nfunction locale (key) {\n    var newLocaleData;\n\n    if (key === undefined) {\n        return this._locale._abbr;\n    } else {\n        newLocaleData = getLocale(key);\n        if (newLocaleData != null) {\n            this._locale = newLocaleData;\n        }\n        return this;\n    }\n}\n\nvar lang = deprecate(\n    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n    function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    }\n);\n\nfunction localeData () {\n    return this._locale;\n}\n\nfunction startOf (units) {\n    units = normalizeUnits(units);\n    // the following switch intentionally omits break keywords\n    // to utilize falling through the cases.\n    switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n        case 'date':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n    }\n\n    // weeks are a special case\n    if (units === 'week') {\n        this.weekday(0);\n    }\n    if (units === 'isoWeek') {\n        this.isoWeekday(1);\n    }\n\n    // quarters are also special\n    if (units === 'quarter') {\n        this.month(Math.floor(this.month() / 3) * 3);\n    }\n\n    return this;\n}\n\nfunction endOf (units) {\n    units = normalizeUnits(units);\n    if (units === undefined || units === 'millisecond') {\n        return this;\n    }\n\n    // 'date' is an alias for 'day', so it should be considered as such.\n    if (units === 'date') {\n        units = 'day';\n    }\n\n    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n}\n\nfunction valueOf () {\n    return this._d.valueOf() - ((this._offset || 0) * 60000);\n}\n\nfunction unix () {\n    return Math.floor(this.valueOf() / 1000);\n}\n\nfunction toDate () {\n    return new Date(this.valueOf());\n}\n\nfunction toArray () {\n    var m = this;\n    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n}\n\nfunction toObject () {\n    var m = this;\n    return {\n        years: m.year(),\n        months: m.month(),\n        date: m.date(),\n        hours: m.hours(),\n        minutes: m.minutes(),\n        seconds: m.seconds(),\n        milliseconds: m.milliseconds()\n    };\n}\n\nfunction toJSON () {\n    // new Date(NaN).toJSON() === null\n    return this.isValid() ? this.toISOString() : null;\n}\n\nfunction isValid$2 () {\n    return isValid(this);\n}\n\nfunction parsingFlags () {\n    return extend({}, getParsingFlags(this));\n}\n\nfunction invalidAt () {\n    return getParsingFlags(this).overflow;\n}\n\nfunction creationData() {\n    return {\n        input: this._i,\n        format: this._f,\n        locale: this._locale,\n        isUTC: this._isUTC,\n        strict: this._strict\n    };\n}\n\n// FORMATTING\n\naddFormatToken(0, ['gg', 2], 0, function () {\n    return this.weekYear() % 100;\n});\n\naddFormatToken(0, ['GG', 2], 0, function () {\n    return this.isoWeekYear() % 100;\n});\n\nfunction addWeekYearFormatToken (token, getter) {\n    addFormatToken(0, [token, token.length], 0, getter);\n}\n\naddWeekYearFormatToken('gggg',     'weekYear');\naddWeekYearFormatToken('ggggg',    'weekYear');\naddWeekYearFormatToken('GGGG',  'isoWeekYear');\naddWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n// ALIASES\n\naddUnitAlias('weekYear', 'gg');\naddUnitAlias('isoWeekYear', 'GG');\n\n// PRIORITY\n\naddUnitPriority('weekYear', 1);\naddUnitPriority('isoWeekYear', 1);\n\n\n// PARSING\n\naddRegexToken('G',      matchSigned);\naddRegexToken('g',      matchSigned);\naddRegexToken('GG',     match1to2, match2);\naddRegexToken('gg',     match1to2, match2);\naddRegexToken('GGGG',   match1to4, match4);\naddRegexToken('gggg',   match1to4, match4);\naddRegexToken('GGGGG',  match1to6, match6);\naddRegexToken('ggggg',  match1to6, match6);\n\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n    week[token.substr(0, 2)] = toInt(input);\n});\n\naddWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n    week[token] = hooks.parseTwoDigitYear(input);\n});\n\n// MOMENTS\n\nfunction getSetWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy);\n}\n\nfunction getSetISOWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input, this.isoWeek(), this.isoWeekday(), 1, 4);\n}\n\nfunction getISOWeeksInYear () {\n    return weeksInYear(this.year(), 1, 4);\n}\n\nfunction getWeeksInYear () {\n    var weekInfo = this.localeData()._week;\n    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n}\n\nfunction getSetWeekYearHelper(input, week, weekday, dow, doy) {\n    var weeksTarget;\n    if (input == null) {\n        return weekOfYear(this, dow, doy).year;\n    } else {\n        weeksTarget = weeksInYear(input, dow, doy);\n        if (week > weeksTarget) {\n            week = weeksTarget;\n        }\n        return setWeekAll.call(this, input, week, weekday, dow, doy);\n    }\n}\n\nfunction setWeekAll(weekYear, week, weekday, dow, doy) {\n    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n    this.year(date.getUTCFullYear());\n    this.month(date.getUTCMonth());\n    this.date(date.getUTCDate());\n    return this;\n}\n\n// FORMATTING\n\naddFormatToken('Q', 0, 'Qo', 'quarter');\n\n// ALIASES\n\naddUnitAlias('quarter', 'Q');\n\n// PRIORITY\n\naddUnitPriority('quarter', 7);\n\n// PARSING\n\naddRegexToken('Q', match1);\naddParseToken('Q', function (input, array) {\n    array[MONTH] = (toInt(input) - 1) * 3;\n});\n\n// MOMENTS\n\nfunction getSetQuarter (input) {\n    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n}\n\n// FORMATTING\n\naddFormatToken('D', ['DD', 2], 'Do', 'date');\n\n// ALIASES\n\naddUnitAlias('date', 'D');\n\n// PRIOROITY\naddUnitPriority('date', 9);\n\n// PARSING\n\naddRegexToken('D',  match1to2);\naddRegexToken('DD', match1to2, match2);\naddRegexToken('Do', function (isStrict, locale) {\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    return isStrict ?\n      (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n      locale._dayOfMonthOrdinalParseLenient;\n});\n\naddParseToken(['D', 'DD'], DATE);\naddParseToken('Do', function (input, array) {\n    array[DATE] = toInt(input.match(match1to2)[0]);\n});\n\n// MOMENTS\n\nvar getSetDayOfMonth = makeGetSet('Date', true);\n\n// FORMATTING\n\naddFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n// ALIASES\n\naddUnitAlias('dayOfYear', 'DDD');\n\n// PRIORITY\naddUnitPriority('dayOfYear', 4);\n\n// PARSING\n\naddRegexToken('DDD',  match1to3);\naddRegexToken('DDDD', match3);\naddParseToken(['DDD', 'DDDD'], function (input, array, config) {\n    config._dayOfYear = toInt(input);\n});\n\n// HELPERS\n\n// MOMENTS\n\nfunction getSetDayOfYear (input) {\n    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n}\n\n// FORMATTING\n\naddFormatToken('m', ['mm', 2], 0, 'minute');\n\n// ALIASES\n\naddUnitAlias('minute', 'm');\n\n// PRIORITY\n\naddUnitPriority('minute', 14);\n\n// PARSING\n\naddRegexToken('m',  match1to2);\naddRegexToken('mm', match1to2, match2);\naddParseToken(['m', 'mm'], MINUTE);\n\n// MOMENTS\n\nvar getSetMinute = makeGetSet('Minutes', false);\n\n// FORMATTING\n\naddFormatToken('s', ['ss', 2], 0, 'second');\n\n// ALIASES\n\naddUnitAlias('second', 's');\n\n// PRIORITY\n\naddUnitPriority('second', 15);\n\n// PARSING\n\naddRegexToken('s',  match1to2);\naddRegexToken('ss', match1to2, match2);\naddParseToken(['s', 'ss'], SECOND);\n\n// MOMENTS\n\nvar getSetSecond = makeGetSet('Seconds', false);\n\n// FORMATTING\n\naddFormatToken('S', 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n});\n\naddFormatToken(0, ['SS', 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n});\n\naddFormatToken(0, ['SSS', 3], 0, 'millisecond');\naddFormatToken(0, ['SSSS', 4], 0, function () {\n    return this.millisecond() * 10;\n});\naddFormatToken(0, ['SSSSS', 5], 0, function () {\n    return this.millisecond() * 100;\n});\naddFormatToken(0, ['SSSSSS', 6], 0, function () {\n    return this.millisecond() * 1000;\n});\naddFormatToken(0, ['SSSSSSS', 7], 0, function () {\n    return this.millisecond() * 10000;\n});\naddFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n    return this.millisecond() * 100000;\n});\naddFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n    return this.millisecond() * 1000000;\n});\n\n\n// ALIASES\n\naddUnitAlias('millisecond', 'ms');\n\n// PRIORITY\n\naddUnitPriority('millisecond', 16);\n\n// PARSING\n\naddRegexToken('S',    match1to3, match1);\naddRegexToken('SS',   match1to3, match2);\naddRegexToken('SSS',  match1to3, match3);\n\nvar token;\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\n    addRegexToken(token, matchUnsigned);\n}\n\nfunction parseMs(input, array) {\n    array[MILLISECOND] = toInt(('0.' + input) * 1000);\n}\n\nfor (token = 'S'; token.length <= 9; token += 'S') {\n    addParseToken(token, parseMs);\n}\n// MOMENTS\n\nvar getSetMillisecond = makeGetSet('Milliseconds', false);\n\n// FORMATTING\n\naddFormatToken('z',  0, 0, 'zoneAbbr');\naddFormatToken('zz', 0, 0, 'zoneName');\n\n// MOMENTS\n\nfunction getZoneAbbr () {\n    return this._isUTC ? 'UTC' : '';\n}\n\nfunction getZoneName () {\n    return this._isUTC ? 'Coordinated Universal Time' : '';\n}\n\nvar proto = Moment.prototype;\n\nproto.add               = add;\nproto.calendar          = calendar$1;\nproto.clone             = clone;\nproto.diff              = diff;\nproto.endOf             = endOf;\nproto.format            = format;\nproto.from              = from;\nproto.fromNow           = fromNow;\nproto.to                = to;\nproto.toNow             = toNow;\nproto.get               = stringGet;\nproto.invalidAt         = invalidAt;\nproto.isAfter           = isAfter;\nproto.isBefore          = isBefore;\nproto.isBetween         = isBetween;\nproto.isSame            = isSame;\nproto.isSameOrAfter     = isSameOrAfter;\nproto.isSameOrBefore    = isSameOrBefore;\nproto.isValid           = isValid$2;\nproto.lang              = lang;\nproto.locale            = locale;\nproto.localeData        = localeData;\nproto.max               = prototypeMax;\nproto.min               = prototypeMin;\nproto.parsingFlags      = parsingFlags;\nproto.set               = stringSet;\nproto.startOf           = startOf;\nproto.subtract          = subtract;\nproto.toArray           = toArray;\nproto.toObject          = toObject;\nproto.toDate            = toDate;\nproto.toISOString       = toISOString;\nproto.inspect           = inspect;\nproto.toJSON            = toJSON;\nproto.toString          = toString;\nproto.unix              = unix;\nproto.valueOf           = valueOf;\nproto.creationData      = creationData;\n\n// Year\nproto.year       = getSetYear;\nproto.isLeapYear = getIsLeapYear;\n\n// Week Year\nproto.weekYear    = getSetWeekYear;\nproto.isoWeekYear = getSetISOWeekYear;\n\n// Quarter\nproto.quarter = proto.quarters = getSetQuarter;\n\n// Month\nproto.month       = getSetMonth;\nproto.daysInMonth = getDaysInMonth;\n\n// Week\nproto.week           = proto.weeks        = getSetWeek;\nproto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\nproto.weeksInYear    = getWeeksInYear;\nproto.isoWeeksInYear = getISOWeeksInYear;\n\n// Day\nproto.date       = getSetDayOfMonth;\nproto.day        = proto.days             = getSetDayOfWeek;\nproto.weekday    = getSetLocaleDayOfWeek;\nproto.isoWeekday = getSetISODayOfWeek;\nproto.dayOfYear  = getSetDayOfYear;\n\n// Hour\nproto.hour = proto.hours = getSetHour;\n\n// Minute\nproto.minute = proto.minutes = getSetMinute;\n\n// Second\nproto.second = proto.seconds = getSetSecond;\n\n// Millisecond\nproto.millisecond = proto.milliseconds = getSetMillisecond;\n\n// Offset\nproto.utcOffset            = getSetOffset;\nproto.utc                  = setOffsetToUTC;\nproto.local                = setOffsetToLocal;\nproto.parseZone            = setOffsetToParsedOffset;\nproto.hasAlignedHourOffset = hasAlignedHourOffset;\nproto.isDST                = isDaylightSavingTime;\nproto.isLocal              = isLocal;\nproto.isUtcOffset          = isUtcOffset;\nproto.isUtc                = isUtc;\nproto.isUTC                = isUtc;\n\n// Timezone\nproto.zoneAbbr = getZoneAbbr;\nproto.zoneName = getZoneName;\n\n// Deprecations\nproto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\nproto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\nproto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\nproto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\nproto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\nfunction createUnix (input) {\n    return createLocal(input * 1000);\n}\n\nfunction createInZone () {\n    return createLocal.apply(null, arguments).parseZone();\n}\n\nfunction preParsePostFormat (string) {\n    return string;\n}\n\nvar proto$1 = Locale.prototype;\n\nproto$1.calendar        = calendar;\nproto$1.longDateFormat  = longDateFormat;\nproto$1.invalidDate     = invalidDate;\nproto$1.ordinal         = ordinal;\nproto$1.preparse        = preParsePostFormat;\nproto$1.postformat      = preParsePostFormat;\nproto$1.relativeTime    = relativeTime;\nproto$1.pastFuture      = pastFuture;\nproto$1.set             = set;\n\n// Month\nproto$1.months            =        localeMonths;\nproto$1.monthsShort       =        localeMonthsShort;\nproto$1.monthsParse       =        localeMonthsParse;\nproto$1.monthsRegex       = monthsRegex;\nproto$1.monthsShortRegex  = monthsShortRegex;\n\n// Week\nproto$1.week = localeWeek;\nproto$1.firstDayOfYear = localeFirstDayOfYear;\nproto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n// Day of Week\nproto$1.weekdays       =        localeWeekdays;\nproto$1.weekdaysMin    =        localeWeekdaysMin;\nproto$1.weekdaysShort  =        localeWeekdaysShort;\nproto$1.weekdaysParse  =        localeWeekdaysParse;\n\nproto$1.weekdaysRegex       =        weekdaysRegex;\nproto$1.weekdaysShortRegex  =        weekdaysShortRegex;\nproto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n// Hours\nproto$1.isPM = localeIsPM;\nproto$1.meridiem = localeMeridiem;\n\nfunction get$1 (format, index, field, setter) {\n    var locale = getLocale();\n    var utc = createUTC().set(setter, index);\n    return locale[field](utc, format);\n}\n\nfunction listMonthsImpl (format, index, field) {\n    if (isNumber(format)) {\n        index = format;\n        format = undefined;\n    }\n\n    format = format || '';\n\n    if (index != null) {\n        return get$1(format, index, field, 'month');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 12; i++) {\n        out[i] = get$1(format, i, field, 'month');\n    }\n    return out;\n}\n\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction listWeekdaysImpl (localeSorted, format, index, field) {\n    if (typeof localeSorted === 'boolean') {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    } else {\n        format = localeSorted;\n        index = format;\n        localeSorted = false;\n\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    }\n\n    var locale = getLocale(),\n        shift = localeSorted ? locale._week.dow : 0;\n\n    if (index != null) {\n        return get$1(format, (index + shift) % 7, field, 'day');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 7; i++) {\n        out[i] = get$1(format, (i + shift) % 7, field, 'day');\n    }\n    return out;\n}\n\nfunction listMonths (format, index) {\n    return listMonthsImpl(format, index, 'months');\n}\n\nfunction listMonthsShort (format, index) {\n    return listMonthsImpl(format, index, 'monthsShort');\n}\n\nfunction listWeekdays (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n}\n\nfunction listWeekdaysShort (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n}\n\nfunction listWeekdaysMin (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n}\n\ngetSetGlobalLocale('en', {\n    dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal : function (number) {\n        var b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? 'th' :\n            (b === 1) ? 'st' :\n            (b === 2) ? 'nd' :\n            (b === 3) ? 'rd' : 'th';\n        return number + output;\n    }\n});\n\n// Side effect imports\nhooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\nhooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\nvar mathAbs = Math.abs;\n\nfunction abs () {\n    var data           = this._data;\n\n    this._milliseconds = mathAbs(this._milliseconds);\n    this._days         = mathAbs(this._days);\n    this._months       = mathAbs(this._months);\n\n    data.milliseconds  = mathAbs(data.milliseconds);\n    data.seconds       = mathAbs(data.seconds);\n    data.minutes       = mathAbs(data.minutes);\n    data.hours         = mathAbs(data.hours);\n    data.months        = mathAbs(data.months);\n    data.years         = mathAbs(data.years);\n\n    return this;\n}\n\nfunction addSubtract$1 (duration, input, value, direction) {\n    var other = createDuration(input, value);\n\n    duration._milliseconds += direction * other._milliseconds;\n    duration._days         += direction * other._days;\n    duration._months       += direction * other._months;\n\n    return duration._bubble();\n}\n\n// supports only 2.0-style add(1, 's') or add(duration)\nfunction add$1 (input, value) {\n    return addSubtract$1(this, input, value, 1);\n}\n\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nfunction subtract$1 (input, value) {\n    return addSubtract$1(this, input, value, -1);\n}\n\nfunction absCeil (number) {\n    if (number < 0) {\n        return Math.floor(number);\n    } else {\n        return Math.ceil(number);\n    }\n}\n\nfunction bubble () {\n    var milliseconds = this._milliseconds;\n    var days         = this._days;\n    var months       = this._months;\n    var data         = this._data;\n    var seconds, minutes, hours, years, monthsFromDays;\n\n    // if we have a mix of positive and negative values, bubble down first\n    // check: https://github.com/moment/moment/issues/2166\n    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n            (milliseconds <= 0 && days <= 0 && months <= 0))) {\n        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n        days = 0;\n        months = 0;\n    }\n\n    // The following code bubbles up values, see the tests for\n    // examples of what that means.\n    data.milliseconds = milliseconds % 1000;\n\n    seconds           = absFloor(milliseconds / 1000);\n    data.seconds      = seconds % 60;\n\n    minutes           = absFloor(seconds / 60);\n    data.minutes      = minutes % 60;\n\n    hours             = absFloor(minutes / 60);\n    data.hours        = hours % 24;\n\n    days += absFloor(hours / 24);\n\n    // convert days to months\n    monthsFromDays = absFloor(daysToMonths(days));\n    months += monthsFromDays;\n    days -= absCeil(monthsToDays(monthsFromDays));\n\n    // 12 months -> 1 year\n    years = absFloor(months / 12);\n    months %= 12;\n\n    data.days   = days;\n    data.months = months;\n    data.years  = years;\n\n    return this;\n}\n\nfunction daysToMonths (days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    // 400 years have 12 months === 4800\n    return days * 4800 / 146097;\n}\n\nfunction monthsToDays (months) {\n    // the reverse of daysToMonths\n    return months * 146097 / 4800;\n}\n\nfunction as (units) {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    var days;\n    var months;\n    var milliseconds = this._milliseconds;\n\n    units = normalizeUnits(units);\n\n    if (units === 'month' || units === 'year') {\n        days   = this._days   + milliseconds / 864e5;\n        months = this._months + daysToMonths(days);\n        return units === 'month' ? months : months / 12;\n    } else {\n        // handle milliseconds separately because of floating point math errors (issue #1867)\n        days = this._days + Math.round(monthsToDays(this._months));\n        switch (units) {\n            case 'week'   : return days / 7     + milliseconds / 6048e5;\n            case 'day'    : return days         + milliseconds / 864e5;\n            case 'hour'   : return days * 24    + milliseconds / 36e5;\n            case 'minute' : return days * 1440  + milliseconds / 6e4;\n            case 'second' : return days * 86400 + milliseconds / 1000;\n            // Math.floor prevents floating point math errors here\n            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n            default: throw new Error('Unknown unit ' + units);\n        }\n    }\n}\n\n// TODO: Use this.as('ms')?\nfunction valueOf$1 () {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    return (\n        this._milliseconds +\n        this._days * 864e5 +\n        (this._months % 12) * 2592e6 +\n        toInt(this._months / 12) * 31536e6\n    );\n}\n\nfunction makeAs (alias) {\n    return function () {\n        return this.as(alias);\n    };\n}\n\nvar asMilliseconds = makeAs('ms');\nvar asSeconds      = makeAs('s');\nvar asMinutes      = makeAs('m');\nvar asHours        = makeAs('h');\nvar asDays         = makeAs('d');\nvar asWeeks        = makeAs('w');\nvar asMonths       = makeAs('M');\nvar asYears        = makeAs('y');\n\nfunction clone$1 () {\n    return createDuration(this);\n}\n\nfunction get$2 (units) {\n    units = normalizeUnits(units);\n    return this.isValid() ? this[units + 's']() : NaN;\n}\n\nfunction makeGetter(name) {\n    return function () {\n        return this.isValid() ? this._data[name] : NaN;\n    };\n}\n\nvar milliseconds = makeGetter('milliseconds');\nvar seconds      = makeGetter('seconds');\nvar minutes      = makeGetter('minutes');\nvar hours        = makeGetter('hours');\nvar days         = makeGetter('days');\nvar months       = makeGetter('months');\nvar years        = makeGetter('years');\n\nfunction weeks () {\n    return absFloor(this.days() / 7);\n}\n\nvar round = Math.round;\nvar thresholds = {\n    ss: 44,         // a few seconds to seconds\n    s : 45,         // seconds to minute\n    m : 45,         // minutes to hour\n    h : 22,         // hours to day\n    d : 26,         // days to month\n    M : 11          // months to year\n};\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n    var duration = createDuration(posNegDuration).abs();\n    var seconds  = round(duration.as('s'));\n    var minutes  = round(duration.as('m'));\n    var hours    = round(duration.as('h'));\n    var days     = round(duration.as('d'));\n    var months   = round(duration.as('M'));\n    var years    = round(duration.as('y'));\n\n    var a = seconds <= thresholds.ss && ['s', seconds]  ||\n            seconds < thresholds.s   && ['ss', seconds] ||\n            minutes <= 1             && ['m']           ||\n            minutes < thresholds.m   && ['mm', minutes] ||\n            hours   <= 1             && ['h']           ||\n            hours   < thresholds.h   && ['hh', hours]   ||\n            days    <= 1             && ['d']           ||\n            days    < thresholds.d   && ['dd', days]    ||\n            months  <= 1             && ['M']           ||\n            months  < thresholds.M   && ['MM', months]  ||\n            years   <= 1             && ['y']           || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nfunction getSetRelativeTimeRounding (roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof(roundingFunction) === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nfunction getSetRelativeTimeThreshold (threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    if (threshold === 's') {\n        thresholds.ss = limit - 1;\n    }\n    return true;\n}\n\nfunction humanize (withSuffix) {\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var locale = this.localeData();\n    var output = relativeTime$1(this, !withSuffix, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n\nvar abs$1 = Math.abs;\n\nfunction sign(x) {\n    return ((x > 0) - (x < 0)) || +x;\n}\n\nfunction toISOString$1() {\n    // for ISO strings we do not use the normal bubbling rules:\n    //  * milliseconds bubble up until they become hours\n    //  * days do not bubble at all\n    //  * months bubble up until they become years\n    // This is because there is no context-free conversion between hours and days\n    // (think of clock changes)\n    // and also not between days and months (28-31 days per month)\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var seconds = abs$1(this._milliseconds) / 1000;\n    var days         = abs$1(this._days);\n    var months       = abs$1(this._months);\n    var minutes, hours, years;\n\n    // 3600 seconds -> 60 minutes -> 1 hour\n    minutes           = absFloor(seconds / 60);\n    hours             = absFloor(minutes / 60);\n    seconds %= 60;\n    minutes %= 60;\n\n    // 12 months -> 1 year\n    years  = absFloor(months / 12);\n    months %= 12;\n\n\n    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n    var Y = years;\n    var M = months;\n    var D = days;\n    var h = hours;\n    var m = minutes;\n    var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n    var total = this.asSeconds();\n\n    if (!total) {\n        // this is the same as C#'s (Noda) and python (isodate)...\n        // but not other JS (goog.date)\n        return 'P0D';\n    }\n\n    var totalSign = total < 0 ? '-' : '';\n    var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n    var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n    var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n    return totalSign + 'P' +\n        (Y ? ymSign + Y + 'Y' : '') +\n        (M ? ymSign + M + 'M' : '') +\n        (D ? daysSign + D + 'D' : '') +\n        ((h || m || s) ? 'T' : '') +\n        (h ? hmsSign + h + 'H' : '') +\n        (m ? hmsSign + m + 'M' : '') +\n        (s ? hmsSign + s + 'S' : '');\n}\n\nvar proto$2 = Duration.prototype;\n\nproto$2.isValid        = isValid$1;\nproto$2.abs            = abs;\nproto$2.add            = add$1;\nproto$2.subtract       = subtract$1;\nproto$2.as             = as;\nproto$2.asMilliseconds = asMilliseconds;\nproto$2.asSeconds      = asSeconds;\nproto$2.asMinutes      = asMinutes;\nproto$2.asHours        = asHours;\nproto$2.asDays         = asDays;\nproto$2.asWeeks        = asWeeks;\nproto$2.asMonths       = asMonths;\nproto$2.asYears        = asYears;\nproto$2.valueOf        = valueOf$1;\nproto$2._bubble        = bubble;\nproto$2.clone          = clone$1;\nproto$2.get            = get$2;\nproto$2.milliseconds   = milliseconds;\nproto$2.seconds        = seconds;\nproto$2.minutes        = minutes;\nproto$2.hours          = hours;\nproto$2.days           = days;\nproto$2.weeks          = weeks;\nproto$2.months         = months;\nproto$2.years          = years;\nproto$2.humanize       = humanize;\nproto$2.toISOString    = toISOString$1;\nproto$2.toString       = toISOString$1;\nproto$2.toJSON         = toISOString$1;\nproto$2.locale         = locale;\nproto$2.localeData     = localeData;\n\n// Deprecations\nproto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\nproto$2.lang = lang;\n\n// Side effect imports\n\n// FORMATTING\n\naddFormatToken('X', 0, 0, 'unix');\naddFormatToken('x', 0, 0, 'valueOf');\n\n// PARSING\n\naddRegexToken('x', matchSigned);\naddRegexToken('X', matchTimestamp);\naddParseToken('X', function (input, array, config) {\n    config._d = new Date(parseFloat(input, 10) * 1000);\n});\naddParseToken('x', function (input, array, config) {\n    config._d = new Date(toInt(input));\n});\n\n// Side effect imports\n\n\nhooks.version = '2.19.4';\n\nsetHookCallback(createLocal);\n\nhooks.fn                    = proto;\nhooks.min                   = min;\nhooks.max                   = max;\nhooks.now                   = now;\nhooks.utc                   = createUTC;\nhooks.unix                  = createUnix;\nhooks.months                = listMonths;\nhooks.isDate                = isDate;\nhooks.locale                = getSetGlobalLocale;\nhooks.invalid               = createInvalid;\nhooks.duration              = createDuration;\nhooks.isMoment              = isMoment;\nhooks.weekdays              = listWeekdays;\nhooks.parseZone             = createInZone;\nhooks.localeData            = getLocale;\nhooks.isDuration            = isDuration;\nhooks.monthsShort           = listMonthsShort;\nhooks.weekdaysMin           = listWeekdaysMin;\nhooks.defineLocale          = defineLocale;\nhooks.updateLocale          = updateLocale;\nhooks.locales               = listLocales;\nhooks.weekdaysShort         = listWeekdaysShort;\nhooks.normalizeUnits        = normalizeUnits;\nhooks.relativeTimeRounding  = getSetRelativeTimeRounding;\nhooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\nhooks.calendarFormat        = getCalendarFormat;\nhooks.prototype             = proto;\n\nreturn hooks;\n\n})));\n\r\n/* flatpickr v4.1.4, @license MIT */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define('flatpickr/flatpickr',factory) :\n\t(global.flatpickr = factory());\n}(this, (function () { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\n\nfunction compareDates(date1, date2, timeless) {\r\n    if (timeless !== false) {\r\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\r\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\r\n    }\r\n    return date1.getTime() - date2.getTime();\r\n}\r\nvar monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\r\nvar getWeek = function (givenDate) {\r\n    var onejan = new Date(givenDate.getFullYear(), 0, 1);\r\n    return Math.ceil(((givenDate.getTime() - onejan.getTime()) / 86400000 +\r\n        onejan.getDay() +\r\n        1) /\r\n        7);\r\n};\r\nvar duration = {\r\n    DAY: 86400000,\r\n};\n\nvar defaults = {\r\n    _disable: [],\r\n    _enable: [],\r\n    allowInput: false,\r\n    altFormat: \"F j, Y\",\r\n    altInput: false,\r\n    altInputClass: \"form-control input\",\r\n    animate: typeof window === \"object\" &&\r\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\r\n    ariaDateFormat: \"F j, Y\",\r\n    clickOpens: true,\r\n    closeOnSelect: true,\r\n    conjunction: \", \",\r\n    dateFormat: \"Y-m-d\",\r\n    defaultHour: 12,\r\n    defaultMinute: 0,\r\n    defaultSeconds: 0,\r\n    disable: [],\r\n    disableMobile: false,\r\n    enable: [],\r\n    enableSeconds: false,\r\n    enableTime: false,\r\n    errorHandler: console.warn,\r\n    getWeek: getWeek,\r\n    hourIncrement: 1,\r\n    ignoredFocusElements: [],\r\n    inline: false,\r\n    locale: \"default\",\r\n    minuteIncrement: 5,\r\n    mode: \"single\",\r\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\r\n    noCalendar: false,\r\n    onChange: [],\r\n    onClose: [],\r\n    onDayCreate: [],\r\n    onDestroy: [],\r\n    onKeyDown: [],\r\n    onMonthChange: [],\r\n    onOpen: [],\r\n    onParseConfig: [],\r\n    onReady: [],\r\n    onValueUpdate: [],\r\n    onYearChange: [],\r\n    plugins: [],\r\n    position: \"auto\",\r\n    positionElement: undefined,\r\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\r\n    shorthandCurrentMonth: false,\r\n    static: false,\r\n    time_24hr: false,\r\n    weekNumbers: false,\r\n    wrap: false,\r\n};\n\nvar english = {\r\n    weekdays: {\r\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n        longhand: [\r\n            \"Sunday\",\r\n            \"Monday\",\r\n            \"Tuesday\",\r\n            \"Wednesday\",\r\n            \"Thursday\",\r\n            \"Friday\",\r\n            \"Saturday\",\r\n        ],\r\n    },\r\n    months: {\r\n        shorthand: [\r\n            \"Jan\",\r\n            \"Feb\",\r\n            \"Mar\",\r\n            \"Apr\",\r\n            \"May\",\r\n            \"Jun\",\r\n            \"Jul\",\r\n            \"Aug\",\r\n            \"Sep\",\r\n            \"Oct\",\r\n            \"Nov\",\r\n            \"Dec\",\r\n        ],\r\n        longhand: [\r\n            \"January\",\r\n            \"February\",\r\n            \"March\",\r\n            \"April\",\r\n            \"May\",\r\n            \"June\",\r\n            \"July\",\r\n            \"August\",\r\n            \"September\",\r\n            \"October\",\r\n            \"November\",\r\n            \"December\",\r\n        ],\r\n    },\r\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\r\n    firstDayOfWeek: 0,\r\n    ordinal: function (nth) {\r\n        var s = nth % 100;\r\n        if (s > 3 && s < 21)\r\n            return \"th\";\r\n        switch (s % 10) {\r\n            case 1:\r\n                return \"st\";\r\n            case 2:\r\n                return \"nd\";\r\n            case 3:\r\n                return \"rd\";\r\n            default:\r\n                return \"th\";\r\n        }\r\n    },\r\n    rangeSeparator: \" to \",\r\n    weekAbbreviation: \"Wk\",\r\n    scrollTitle: \"Scroll to increment\",\r\n    toggleTitle: \"Click to toggle\",\r\n    amPM: [\"AM\", \"PM\"],\r\n};\n\nvar pad = function (number) { return (\"0\" + number).slice(-2); };\r\nvar int = function (bool) { return (bool === true ? 1 : 0); };\r\nfunction debounce(func, wait, immediate) {\r\n    if (immediate === void 0) { immediate = false; }\r\n    var timeout;\r\n    return function () {\r\n        var context = this, args = arguments;\r\n        timeout !== null && clearTimeout(timeout);\r\n        timeout = window.setTimeout(function () {\r\n            timeout = null;\r\n            if (!immediate)\r\n                func.apply(context, args);\r\n        }, wait);\r\n        if (immediate && !timeout)\r\n            func.apply(context, args);\r\n    };\r\n}\r\nvar arrayify = function (obj) {\r\n    return obj instanceof Array ? obj : [obj];\r\n};\r\nfunction mouseDelta(e) {\r\n    var delta = e.wheelDelta || -e.deltaY;\r\n    return delta >= 0 ? 1 : -1;\r\n}\n\nfunction toggleClass(elem, className, bool) {\r\n    if (bool === true)\r\n        return elem.classList.add(className);\r\n    elem.classList.remove(className);\r\n}\r\nfunction createElement(tag, className, content) {\r\n    var e = window.document.createElement(tag);\r\n    className = className || \"\";\r\n    content = content || \"\";\r\n    e.className = className;\r\n    if (content !== undefined)\r\n        e.textContent = content;\r\n    return e;\r\n}\r\nfunction clearNode(node) {\r\n    while (node.firstChild)\r\n        node.removeChild(node.firstChild);\r\n}\r\nfunction findParent(node, condition) {\r\n    if (condition(node))\r\n        return node;\r\n    else if (node.parentNode)\r\n        return findParent(node.parentNode, condition);\r\n    return undefined;\r\n}\r\nfunction createNumberInput(inputClassName) {\r\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\r\n    numInput.type = \"text\";\r\n    numInput.pattern = \"\\\\d*\";\r\n    wrapper.appendChild(numInput);\r\n    wrapper.appendChild(arrowUp);\r\n    wrapper.appendChild(arrowDown);\r\n    return wrapper;\r\n}\n\nvar do_nothing = function () { return undefined; };\r\nvar revFormat = {\r\n    D: do_nothing,\r\n    F: function (dateObj, monthName, locale) {\r\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\r\n    },\r\n    G: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    H: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    J: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    K: function (dateObj, amPM, locale) {\r\n        dateObj.setHours(dateObj.getHours() % 12 +\r\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\r\n    },\r\n    M: function (dateObj, shortMonth, locale) {\r\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\r\n    },\r\n    S: function (dateObj, seconds) {\r\n        dateObj.setSeconds(parseFloat(seconds));\r\n    },\r\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\r\n    W: function (dateObj, weekNum) {\r\n        var weekNumber = parseInt(weekNum);\r\n        return new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\r\n    },\r\n    Y: function (dateObj, year) {\r\n        dateObj.setFullYear(parseFloat(year));\r\n    },\r\n    Z: function (_, ISODate) { return new Date(ISODate); },\r\n    d: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    h: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    i: function (dateObj, minutes) {\r\n        dateObj.setMinutes(parseFloat(minutes));\r\n    },\r\n    j: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    l: do_nothing,\r\n    m: function (dateObj, month) {\r\n        dateObj.setMonth(parseFloat(month) - 1);\r\n    },\r\n    n: function (dateObj, month) {\r\n        dateObj.setMonth(parseFloat(month) - 1);\r\n    },\r\n    s: function (dateObj, seconds) {\r\n        dateObj.setSeconds(parseFloat(seconds));\r\n    },\r\n    w: do_nothing,\r\n    y: function (dateObj, year) {\r\n        dateObj.setFullYear(2000 + parseFloat(year));\r\n    },\r\n};\r\nvar tokenRegex = {\r\n    D: \"(\\\\w+)\",\r\n    F: \"(\\\\w+)\",\r\n    G: \"(\\\\d\\\\d|\\\\d)\",\r\n    H: \"(\\\\d\\\\d|\\\\d)\",\r\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\r\n    K: \"\",\r\n    M: \"(\\\\w+)\",\r\n    S: \"(\\\\d\\\\d|\\\\d)\",\r\n    U: \"(.+)\",\r\n    W: \"(\\\\d\\\\d|\\\\d)\",\r\n    Y: \"(\\\\d{4})\",\r\n    Z: \"(.+)\",\r\n    d: \"(\\\\d\\\\d|\\\\d)\",\r\n    h: \"(\\\\d\\\\d|\\\\d)\",\r\n    i: \"(\\\\d\\\\d|\\\\d)\",\r\n    j: \"(\\\\d\\\\d|\\\\d)\",\r\n    l: \"(\\\\w+)\",\r\n    m: \"(\\\\d\\\\d|\\\\d)\",\r\n    n: \"(\\\\d\\\\d|\\\\d)\",\r\n    s: \"(\\\\d\\\\d|\\\\d)\",\r\n    w: \"(\\\\d\\\\d|\\\\d)\",\r\n    y: \"(\\\\d{2})\",\r\n};\r\nvar formats = {\r\n    Z: function (date) { return date.toISOString(); },\r\n    D: function (date, locale, options) {\r\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\r\n    },\r\n    F: function (date, locale, options) {\r\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\r\n    },\r\n    G: function (date, locale, options) {\r\n        return pad(formats.h(date, locale, options));\r\n    },\r\n    H: function (date) { return pad(date.getHours()); },\r\n    J: function (date, locale) {\r\n        return locale.ordinal !== undefined\r\n            ? date.getDate() + locale.ordinal(date.getDate())\r\n            : date.getDate();\r\n    },\r\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\r\n    M: function (date, locale) {\r\n        return monthToStr(date.getMonth(), true, locale);\r\n    },\r\n    S: function (date) { return pad(date.getSeconds()); },\r\n    U: function (date) { return date.getTime() / 1000; },\r\n    W: function (date, _, options) {\r\n        return options.getWeek(date);\r\n    },\r\n    Y: function (date) { return date.getFullYear(); },\r\n    d: function (date) { return pad(date.getDate()); },\r\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\r\n    i: function (date) { return pad(date.getMinutes()); },\r\n    j: function (date) { return date.getDate(); },\r\n    l: function (date, locale) {\r\n        return locale.weekdays.longhand[date.getDay()];\r\n    },\r\n    m: function (date) { return pad(date.getMonth() + 1); },\r\n    n: function (date) { return date.getMonth() + 1; },\r\n    s: function (date) { return date.getSeconds(); },\r\n    w: function (date) { return date.getDay(); },\r\n    y: function (date) { return String(date.getFullYear()).substring(2); },\r\n};\n\nif (typeof Object.assign !== \"function\") {\r\n    Object.assign = function (target) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (!target) {\r\n            throw TypeError(\"Cannot convert undefined or null to object\");\r\n        }\r\n        var _loop_1 = function (source) {\r\n            if (source) {\r\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\r\n            }\r\n        };\r\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\r\n            var source = args_1[_a];\r\n            _loop_1(source);\r\n        }\r\n        return target;\r\n    };\r\n}\n\nfunction FlatpickrInstance(element, instanceConfig) {\r\n    var self = {};\r\n    self.parseDate = parseDate;\r\n    self.formatDate = formatDate;\r\n    self._animationLoop = [];\r\n    self._handlers = [];\r\n    self._bind = bind;\r\n    self._setHoursFromDate = setHoursFromDate;\r\n    self.changeMonth = changeMonth;\r\n    self.changeYear = changeYear;\r\n    self.clear = clear;\r\n    self.close = close;\r\n    self._createElement = createElement;\r\n    self.destroy = destroy;\r\n    self.isEnabled = isEnabled;\r\n    self.jumpToDate = jumpToDate;\r\n    self.open = open;\r\n    self.redraw = redraw;\r\n    self.set = set;\r\n    self.setDate = setDate;\r\n    self.toggle = toggle;\r\n    function setupHelperFunctions() {\r\n        self.utils = {\r\n            getDaysInMonth: function (month, yr) {\r\n                if (month === void 0) { month = self.currentMonth; }\r\n                if (yr === void 0) { yr = self.currentYear; }\r\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\r\n                    return 29;\r\n                return self.l10n.daysInMonth[month];\r\n            },\r\n        };\r\n    }\r\n    function init() {\r\n        self.element = self.input = element;\r\n        self.isOpen = false;\r\n        parseConfig();\r\n        setupLocale();\r\n        setupInputs();\r\n        setupDates();\r\n        setupHelperFunctions();\r\n        if (!self.isMobile)\r\n            build();\r\n        bindEvents();\r\n        if (self.selectedDates.length || self.config.noCalendar) {\r\n            if (self.config.enableTime) {\r\n                setHoursFromDate(self.config.noCalendar\r\n                    ? self.latestSelectedDateObj || self.config.minDate\r\n                    : undefined);\r\n            }\r\n            updateValue(false);\r\n        }\r\n        self.showTimeInput =\r\n            self.selectedDates.length > 0 || self.config.noCalendar;\r\n        if (self.weekWrapper !== undefined && self.daysContainer !== undefined) {\r\n            self.calendarContainer.style.width =\r\n                self.daysContainer.offsetWidth + self.weekWrapper.offsetWidth + \"px\";\r\n        }\r\n        if (!self.isMobile)\r\n            positionCalendar();\r\n        triggerEvent(\"onReady\");\r\n    }\r\n    function bindToInstance(fn) {\r\n        return fn.bind(self);\r\n    }\r\n    function updateTime(e) {\r\n        if (self.config.noCalendar && self.selectedDates.length === 0) {\r\n            var minDate = self.config.minDate;\r\n            self.setDate(new Date().setHours(!minDate ? self.config.defaultHour : minDate.getHours(), !minDate ? self.config.defaultMinute : minDate.getMinutes(), !minDate || !self.config.enableSeconds\r\n                ? self.config.defaultSeconds\r\n                : minDate.getSeconds()), false);\r\n            setHoursFromInputs();\r\n            updateValue();\r\n        }\r\n        timeWrapper(e);\r\n        if (self.selectedDates.length === 0)\r\n            return;\r\n        if (!self.minDateHasTime ||\r\n            e.type !== \"input\" ||\r\n            e.target.value.length >= 2) {\r\n            setHoursFromInputs();\r\n            updateValue();\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                setHoursFromInputs();\r\n                updateValue();\r\n            }, 1000);\r\n        }\r\n    }\r\n    function ampm2military(hour, amPM) {\r\n        return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);\r\n    }\r\n    function military2ampm(hour) {\r\n        switch (hour % 24) {\r\n            case 0:\r\n            case 12:\r\n                return 12;\r\n            default:\r\n                return hour % 12;\r\n        }\r\n    }\r\n    function setHoursFromInputs() {\r\n        if (self.hourElement === undefined || self.minuteElement === undefined)\r\n            return;\r\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\r\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\r\n            : 0;\r\n        if (self.amPM !== undefined)\r\n            hours = ampm2military(hours, self.amPM.textContent);\r\n        if (self.config.minDate &&\r\n            self.minDateHasTime &&\r\n            self.latestSelectedDateObj &&\r\n            compareDates(self.latestSelectedDateObj, self.config.minDate) === 0) {\r\n            hours = Math.max(hours, self.config.minDate.getHours());\r\n            if (hours === self.config.minDate.getHours())\r\n                minutes = Math.max(minutes, self.config.minDate.getMinutes());\r\n        }\r\n        if (self.config.maxDate &&\r\n            self.maxDateHasTime &&\r\n            self.latestSelectedDateObj &&\r\n            compareDates(self.latestSelectedDateObj, self.config.maxDate) === 0) {\r\n            hours = Math.min(hours, self.config.maxDate.getHours());\r\n            if (hours === self.config.maxDate.getHours())\r\n                minutes = Math.min(minutes, self.config.maxDate.getMinutes());\r\n        }\r\n        setHours(hours, minutes, seconds);\r\n    }\r\n    function setHoursFromDate(dateObj) {\r\n        var date = dateObj || self.latestSelectedDateObj;\r\n        if (date)\r\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\r\n    }\r\n    function setHours(hours, minutes, seconds) {\r\n        if (self.latestSelectedDateObj !== undefined) {\r\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\r\n        }\r\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\r\n            return;\r\n        self.hourElement.value = pad(!self.config.time_24hr\r\n            ? (12 + hours) % 12 + 12 * int(hours % 12 === 0)\r\n            : hours);\r\n        self.minuteElement.value = pad(minutes);\r\n        if (self.amPM !== undefined)\r\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\r\n        if (self.secondElement !== undefined)\r\n            self.secondElement.value = pad(seconds);\r\n    }\r\n    function onYearInput(event) {\r\n        var year = parseInt(event.target.value) + (event.delta || 0);\r\n        if (year.toString().length === 4 || event.key === \"Enter\") {\r\n            self.currentYearElement.blur();\r\n            if (!/[^\\d]/.test(year.toString()))\r\n                changeYear(year);\r\n        }\r\n    }\r\n    function bind(element, event, handler) {\r\n        if (event instanceof Array)\r\n            return event.forEach(function (ev) { return bind(element, ev, handler); });\r\n        if (element instanceof Array)\r\n            return element.forEach(function (el) { return bind(el, event, handler); });\r\n        element.addEventListener(event, handler);\r\n        self._handlers.push({ element: element, event: event, handler: handler });\r\n    }\r\n    function onClick(handler) {\r\n        return function (evt) {\r\n            evt.which === 1 && handler(evt);\r\n        };\r\n    }\r\n    function triggerChange() {\r\n        triggerEvent(\"onChange\");\r\n    }\r\n    function bindEvents() {\r\n        if (self.config.wrap) {\r\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\r\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\r\n                    return bind(el, \"click\", self[evt]);\r\n                });\r\n            });\r\n        }\r\n        if (self.isMobile) {\r\n            setupMobile();\r\n            return;\r\n        }\r\n        var debouncedResize = debounce(onResize, 50);\r\n        self._debouncedChange = debounce(triggerChange, 300);\r\n        if (self.config.mode === \"range\" &&\r\n            self.daysContainer &&\r\n            !/iPhone|iPad|iPod/i.test(navigator.userAgent))\r\n            bind(self.daysContainer, \"mouseover\", function (e) {\r\n                return onMouseOver(e.target);\r\n            });\r\n        bind(window.document.body, \"keydown\", onKeyDown);\r\n        if (!self.config.static)\r\n            bind(self._input, \"keydown\", onKeyDown);\r\n        if (!self.config.inline && !self.config.static)\r\n            bind(window, \"resize\", debouncedResize);\r\n        if (window.ontouchstart !== undefined)\r\n            bind(window.document.body, \"touchstart\", documentClick);\r\n        bind(window.document.body, \"mousedown\", onClick(documentClick));\r\n        bind(self._input, \"blur\", documentClick);\r\n        if (self.config.clickOpens === true) {\r\n            bind(self._input, \"focus\", self.open);\r\n            bind(self._input, \"mousedown\", onClick(self.open));\r\n        }\r\n        if (self.daysContainer !== undefined) {\r\n            self.monthNav.addEventListener(\"wheel\", function (e) { return e.preventDefault(); });\r\n            bind(self.monthNav, \"wheel\", debounce(onMonthNavScroll, 10));\r\n            bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\r\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\r\n            bind(self.daysContainer, \"mousedown\", onClick(selectDate));\r\n            if (self.config.animate) {\r\n                bind(self.daysContainer, [\"webkitAnimationEnd\", \"animationend\"], animateDays);\r\n                bind(self.monthNav, [\"webkitAnimationEnd\", \"animationend\"], animateMonths);\r\n            }\r\n        }\r\n        if (self.timeContainer !== undefined &&\r\n            self.minuteElement !== undefined &&\r\n            self.hourElement !== undefined) {\r\n            var selText = function (e) {\r\n                return e.target.select();\r\n            };\r\n            bind(self.timeContainer, [\"wheel\", \"input\", \"increment\"], updateTime);\r\n            bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\r\n            bind(self.timeContainer, [\"wheel\", \"increment\"], self._debouncedChange);\r\n            bind(self.timeContainer, \"input\", triggerChange);\r\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\r\n            if (self.secondElement !== undefined)\r\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\r\n            if (self.amPM !== undefined) {\r\n                bind(self.amPM, \"mousedown\", onClick(function (e) {\r\n                    updateTime(e);\r\n                    triggerChange();\r\n                }));\r\n            }\r\n        }\r\n    }\r\n    function processPostDayAnimation() {\r\n        self._animationLoop.forEach(function (f) { return f(); });\r\n        self._animationLoop = [];\r\n    }\r\n    function animateDays(e) {\r\n        if (self.daysContainer && self.daysContainer.childNodes.length > 1) {\r\n            switch (e.animationName) {\r\n                case \"fpSlideLeft\":\r\n                    self.daysContainer.lastChild &&\r\n                        self.daysContainer.lastChild.classList.remove(\"slideLeftNew\");\r\n                    self.daysContainer.removeChild(self.daysContainer\r\n                        .firstChild);\r\n                    self.days = self.daysContainer.firstChild;\r\n                    processPostDayAnimation();\r\n                    break;\r\n                case \"fpSlideRight\":\r\n                    self.daysContainer.firstChild &&\r\n                        self.daysContainer.firstChild.classList.remove(\"slideRightNew\");\r\n                    self.daysContainer.removeChild(self.daysContainer\r\n                        .lastChild);\r\n                    self.days = self.daysContainer.firstChild;\r\n                    processPostDayAnimation();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    function animateMonths(e) {\r\n        switch (e.animationName) {\r\n            case \"fpSlideLeftNew\":\r\n            case \"fpSlideRightNew\":\r\n                self.navigationCurrentMonth.classList.remove(\"slideLeftNew\");\r\n                self.navigationCurrentMonth.classList.remove(\"slideRightNew\");\r\n                var nav = self.navigationCurrentMonth;\r\n                while (nav.nextSibling &&\r\n                    /curr/.test(nav.nextSibling.className))\r\n                    self.monthNav.removeChild(nav.nextSibling);\r\n                while (nav.previousSibling &&\r\n                    /curr/.test(nav.previousSibling.className))\r\n                    self.monthNav.removeChild(nav.previousSibling);\r\n                self.oldCurMonth = undefined;\r\n                break;\r\n        }\r\n    }\r\n    function jumpToDate(jumpDate) {\r\n        var jumpTo = jumpDate !== undefined\r\n            ? parseDate(jumpDate)\r\n            : self.latestSelectedDateObj ||\r\n                (self.config.minDate && self.config.minDate > self.now\r\n                    ? self.config.minDate\r\n                    : self.config.maxDate && self.config.maxDate < self.now\r\n                        ? self.config.maxDate\r\n                        : self.now);\r\n        try {\r\n            if (jumpTo !== undefined) {\r\n                self.currentYear = jumpTo.getFullYear();\r\n                self.currentMonth = jumpTo.getMonth();\r\n            }\r\n        }\r\n        catch (e) {\r\n            e.message = \"Invalid date supplied: \" + jumpTo;\r\n            self.config.errorHandler(e);\r\n        }\r\n        self.redraw();\r\n    }\r\n    function timeIncrement(e) {\r\n        if (~e.target.className.indexOf(\"arrow\"))\r\n            incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\r\n    }\r\n    function incrementNumInput(e, delta, inputElem) {\r\n        var target = e && e.target;\r\n        var input = inputElem ||\r\n            (target && target.parentNode && target.parentNode.firstChild);\r\n        var event = createEvent(\"increment\");\r\n        event.delta = delta;\r\n        input && input.dispatchEvent(event);\r\n    }\r\n    function build() {\r\n        var fragment = window.document.createDocumentFragment();\r\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\r\n        self.calendarContainer.tabIndex = -1;\r\n        if (!self.config.noCalendar) {\r\n            fragment.appendChild(buildMonthNav());\r\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\r\n            if (self.config.weekNumbers) {\r\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\r\n                self.innerContainer.appendChild(weekWrapper);\r\n                self.weekNumbers = weekNumbers;\r\n                self.weekWrapper = weekWrapper;\r\n            }\r\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\r\n            self.rContainer.appendChild(buildWeekdays());\r\n            if (!self.daysContainer) {\r\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\r\n                self.daysContainer.tabIndex = -1;\r\n            }\r\n            buildDays();\r\n            self.rContainer.appendChild(self.daysContainer);\r\n            self.innerContainer.appendChild(self.rContainer);\r\n            fragment.appendChild(self.innerContainer);\r\n        }\r\n        if (self.config.enableTime) {\r\n            fragment.appendChild(buildTime());\r\n        }\r\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\r\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate);\r\n        self.calendarContainer.appendChild(fragment);\r\n        var customAppend = self.config.appendTo !== undefined && self.config.appendTo.nodeType;\r\n        if (self.config.inline || self.config.static) {\r\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\r\n            if (self.config.inline) {\r\n                if (!customAppend && self.element.parentNode)\r\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\r\n                else if (self.config.appendTo !== undefined)\r\n                    self.config.appendTo.appendChild(self.calendarContainer);\r\n            }\r\n            if (self.config.static) {\r\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\r\n                if (self.element.parentNode)\r\n                    self.element.parentNode.insertBefore(wrapper, self.element);\r\n                wrapper.appendChild(self.element);\r\n                if (self.altInput)\r\n                    wrapper.appendChild(self.altInput);\r\n                wrapper.appendChild(self.calendarContainer);\r\n            }\r\n        }\r\n        if (!self.config.static && !self.config.inline)\r\n            (self.config.appendTo !== undefined\r\n                ? self.config.appendTo\r\n                : window.document.body).appendChild(self.calendarContainer);\r\n    }\r\n    function createDay(className, date, dayNumber, i) {\r\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\r\n        dayElement.dateObj = date;\r\n        dayElement.$i = i;\r\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\r\n        if (compareDates(date, self.now) === 0) {\r\n            self.todayDateElem = dayElement;\r\n            dayElement.classList.add(\"today\");\r\n        }\r\n        if (dateIsEnabled) {\r\n            dayElement.tabIndex = -1;\r\n            if (isDateSelected(date)) {\r\n                dayElement.classList.add(\"selected\");\r\n                self.selectedDateElem = dayElement;\r\n                if (self.config.mode === \"range\") {\r\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\r\n                        compareDates(date, self.selectedDates[0]) === 0);\r\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\r\n                        compareDates(date, self.selectedDates[1]) === 0);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            dayElement.classList.add(\"disabled\");\r\n            if (self.selectedDates[0] &&\r\n                self.minRangeDate &&\r\n                date > self.minRangeDate &&\r\n                date < self.selectedDates[0])\r\n                self.minRangeDate = date;\r\n            else if (self.selectedDates[0] &&\r\n                self.maxRangeDate &&\r\n                date < self.maxRangeDate &&\r\n                date > self.selectedDates[0])\r\n                self.maxRangeDate = date;\r\n        }\r\n        if (self.config.mode === \"range\") {\r\n            if (isDateInRange(date) && !isDateSelected(date))\r\n                dayElement.classList.add(\"inRange\");\r\n            if (self.selectedDates.length === 1 &&\r\n                self.minRangeDate !== undefined &&\r\n                self.maxRangeDate !== undefined &&\r\n                (date < self.minRangeDate || date > self.maxRangeDate))\r\n                dayElement.classList.add(\"notAllowed\");\r\n        }\r\n        if (self.weekNumbers &&\r\n            className !== \"prevMonthDay\" &&\r\n            dayNumber % 7 === 1) {\r\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='disabled flatpickr-day'>\" +\r\n                self.config.getWeek(date) +\r\n                \"</span>\");\r\n        }\r\n        triggerEvent(\"onDayCreate\", dayElement);\r\n        return dayElement;\r\n    }\r\n    function focusOnDay(currentIndex, offset) {\r\n        var newIndex = currentIndex + offset || 0, targetNode = (currentIndex !== undefined\r\n            ? self.days.childNodes[newIndex]\r\n            : self.selectedDateElem ||\r\n                self.todayDateElem ||\r\n                self.days.childNodes[0]);\r\n        var focus = function () {\r\n            targetNode = targetNode || self.days.childNodes[newIndex];\r\n            targetNode.focus();\r\n            if (self.config.mode === \"range\")\r\n                onMouseOver(targetNode);\r\n        };\r\n        if (targetNode === undefined && offset !== 0) {\r\n            if (offset > 0) {\r\n                self.changeMonth(1, true, undefined, true);\r\n                newIndex = newIndex % 42;\r\n            }\r\n            else if (offset < 0) {\r\n                self.changeMonth(-1, true, undefined, true);\r\n                newIndex += 42;\r\n            }\r\n            return afterDayAnim(focus);\r\n        }\r\n        focus();\r\n    }\r\n    function afterDayAnim(fn) {\r\n        self.config.animate === true ? self._animationLoop.push(fn) : fn();\r\n    }\r\n    function buildDays(delta) {\r\n        if (self.daysContainer === undefined) {\r\n            return;\r\n        }\r\n        var firstOfMonth = (new Date(self.currentYear, self.currentMonth, 1).getDay() -\r\n            self.l10n.firstDayOfWeek +\r\n            7) %\r\n            7, isRangeMode = self.config.mode === \"range\";\r\n        var prevMonthDays = self.utils.getDaysInMonth((self.currentMonth - 1 + 12) % 12);\r\n        var daysInMonth = self.utils.getDaysInMonth(), days = window.document.createDocumentFragment();\r\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\r\n        if (self.weekNumbers && self.weekNumbers.firstChild)\r\n            self.weekNumbers.textContent = \"\";\r\n        if (isRangeMode) {\r\n            self.minRangeDate = new Date(self.currentYear, self.currentMonth - 1, dayNumber);\r\n            self.maxRangeDate = new Date(self.currentYear, self.currentMonth + 1, (42 - firstOfMonth) % daysInMonth);\r\n        }\r\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\r\n            days.appendChild(createDay(\"prevMonthDay\", new Date(self.currentYear, self.currentMonth - 1, dayNumber), dayNumber, dayIndex));\r\n        }\r\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\r\n            days.appendChild(createDay(\"\", new Date(self.currentYear, self.currentMonth, dayNumber), dayNumber, dayIndex));\r\n        }\r\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth; dayNum++, dayIndex++) {\r\n            days.appendChild(createDay(\"nextMonthDay\", new Date(self.currentYear, self.currentMonth + 1, dayNum % daysInMonth), dayNum, dayIndex));\r\n        }\r\n        if (isRangeMode && self.selectedDates.length === 1 && days.childNodes[0]) {\r\n            self._hidePrevMonthArrow =\r\n                self._hidePrevMonthArrow ||\r\n                    (!!self.minRangeDate &&\r\n                        self.minRangeDate > days.childNodes[0].dateObj);\r\n            self._hideNextMonthArrow =\r\n                self._hideNextMonthArrow ||\r\n                    (!!self.maxRangeDate &&\r\n                        self.maxRangeDate <\r\n                            new Date(self.currentYear, self.currentMonth + 1, 1));\r\n        }\r\n        else\r\n            updateNavigationCurrentMonth();\r\n        var dayContainer = createElement(\"div\", \"dayContainer\");\r\n        dayContainer.appendChild(days);\r\n        if (!self.config.animate || delta === undefined)\r\n            clearNode(self.daysContainer);\r\n        else {\r\n            while (self.daysContainer.childNodes.length > 1)\r\n                self.daysContainer.removeChild(self.daysContainer.firstChild);\r\n        }\r\n        if (delta && delta >= 0)\r\n            self.daysContainer.appendChild(dayContainer);\r\n        else\r\n            self.daysContainer.insertBefore(dayContainer, self.daysContainer.firstChild);\r\n        self.days = self.daysContainer.childNodes[0];\r\n    }\r\n    function buildMonthNav() {\r\n        var monthNavFragment = window.document.createDocumentFragment();\r\n        self.monthNav = createElement(\"div\", \"flatpickr-month\");\r\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\r\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\r\n        self.currentMonthElement = createElement(\"span\", \"cur-month\");\r\n        self.currentMonthElement.title = self.l10n.scrollTitle;\r\n        var yearInput = createNumberInput(\"cur-year\");\r\n        self.currentYearElement = yearInput.childNodes[0];\r\n        self.currentYearElement.title = self.l10n.scrollTitle;\r\n        if (self.config.minDate)\r\n            self.currentYearElement.min = self.config.minDate\r\n                .getFullYear()\r\n                .toString();\r\n        if (self.config.maxDate) {\r\n            self.currentYearElement.max = self.config.maxDate\r\n                .getFullYear()\r\n                .toString();\r\n            self.currentYearElement.disabled =\r\n                !!self.config.minDate &&\r\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\r\n        }\r\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\r\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\r\n        self.navigationCurrentMonth = createElement(\"div\", \"flatpickr-current-month\");\r\n        self.navigationCurrentMonth.appendChild(self.currentMonthElement);\r\n        self.navigationCurrentMonth.appendChild(yearInput);\r\n        monthNavFragment.appendChild(self.prevMonthNav);\r\n        monthNavFragment.appendChild(self.navigationCurrentMonth);\r\n        monthNavFragment.appendChild(self.nextMonthNav);\r\n        self.monthNav.appendChild(monthNavFragment);\r\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\r\n            get: function () { return self.__hidePrevMonthArrow; },\r\n            set: function (bool) {\r\n                if (self.__hidePrevMonthArrow !== bool)\r\n                    self.prevMonthNav.style.display = bool ? \"none\" : \"block\";\r\n                self.__hidePrevMonthArrow = bool;\r\n            },\r\n        });\r\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\r\n            get: function () { return self.__hideNextMonthArrow; },\r\n            set: function (bool) {\r\n                if (self.__hideNextMonthArrow !== bool)\r\n                    self.nextMonthNav.style.display = bool ? \"none\" : \"block\";\r\n                self.__hideNextMonthArrow = bool;\r\n            },\r\n        });\r\n        updateNavigationCurrentMonth();\r\n        return self.monthNav;\r\n    }\r\n    function buildTime() {\r\n        self.calendarContainer.classList.add(\"hasTime\");\r\n        if (self.config.noCalendar)\r\n            self.calendarContainer.classList.add(\"noCalendar\");\r\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\r\n        self.timeContainer.tabIndex = -1;\r\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\r\n        var hourInput = createNumberInput(\"flatpickr-hour\");\r\n        self.hourElement = hourInput.childNodes[0];\r\n        var minuteInput = createNumberInput(\"flatpickr-minute\");\r\n        self.minuteElement = minuteInput.childNodes[0];\r\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\r\n        self.hourElement.value = pad(self.latestSelectedDateObj\r\n            ? self.latestSelectedDateObj.getHours()\r\n            : self.config.time_24hr\r\n                ? self.config.defaultHour\r\n                : military2ampm(self.config.defaultHour));\r\n        self.minuteElement.value = pad(self.latestSelectedDateObj\r\n            ? self.latestSelectedDateObj.getMinutes()\r\n            : self.config.defaultMinute);\r\n        self.hourElement.step = self.config.hourIncrement.toString();\r\n        self.minuteElement.step = self.config.minuteIncrement.toString();\r\n        self.hourElement.min = self.config.time_24hr ? \"0\" : \"1\";\r\n        self.hourElement.max = self.config.time_24hr ? \"23\" : \"12\";\r\n        self.minuteElement.min = \"0\";\r\n        self.minuteElement.max = \"59\";\r\n        self.hourElement.title = self.minuteElement.title = self.l10n.scrollTitle;\r\n        self.timeContainer.appendChild(hourInput);\r\n        self.timeContainer.appendChild(separator);\r\n        self.timeContainer.appendChild(minuteInput);\r\n        if (self.config.time_24hr)\r\n            self.timeContainer.classList.add(\"time24hr\");\r\n        if (self.config.enableSeconds) {\r\n            self.timeContainer.classList.add(\"hasSeconds\");\r\n            var secondInput = createNumberInput(\"flatpickr-second\");\r\n            self.secondElement = secondInput.childNodes[0];\r\n            self.secondElement.value = pad(self.latestSelectedDateObj\r\n                ? self.latestSelectedDateObj.getSeconds()\r\n                : self.config.defaultSeconds);\r\n            self.secondElement.step = self.minuteElement.step;\r\n            self.secondElement.min = self.minuteElement.min;\r\n            self.secondElement.max = self.minuteElement.max;\r\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\r\n            self.timeContainer.appendChild(secondInput);\r\n        }\r\n        if (!self.config.time_24hr) {\r\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\r\n                ? self.hourElement.value\r\n                : self.config.defaultHour) > 11)]);\r\n            self.amPM.title = self.l10n.toggleTitle;\r\n            self.amPM.tabIndex = -1;\r\n            self.timeContainer.appendChild(self.amPM);\r\n        }\r\n        return self.timeContainer;\r\n    }\r\n    function buildWeekdays() {\r\n        if (!self.weekdayContainer)\r\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\r\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\r\n        var weekdays = self.l10n.weekdays.shorthand.slice();\r\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\r\n            weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\r\n        }\r\n        self.weekdayContainer.innerHTML = \"\\n    <span class=flatpickr-weekday>\\n      \" + weekdays.join(\"</span><span class=flatpickr-weekday>\") + \"\\n    </span>\\n    \";\r\n        return self.weekdayContainer;\r\n    }\r\n    function buildWeeks() {\r\n        self.calendarContainer.classList.add(\"hasWeeks\");\r\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\r\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\r\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\r\n        weekWrapper.appendChild(weekNumbers);\r\n        return {\r\n            weekWrapper: weekWrapper,\r\n            weekNumbers: weekNumbers,\r\n        };\r\n    }\r\n    function changeMonth(value, is_offset, animate, from_keyboard) {\r\n        if (is_offset === void 0) { is_offset = true; }\r\n        if (animate === void 0) { animate = self.config.animate; }\r\n        if (from_keyboard === void 0) { from_keyboard = false; }\r\n        var delta = is_offset ? value : value - self.currentMonth;\r\n        if ((delta < 0 && self._hidePrevMonthArrow) ||\r\n            (delta > 0 && self._hideNextMonthArrow))\r\n            return;\r\n        self.currentMonth += delta;\r\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\r\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\r\n            self.currentMonth = (self.currentMonth + 12) % 12;\r\n            triggerEvent(\"onYearChange\");\r\n        }\r\n        buildDays(animate ? delta : undefined);\r\n        if (!animate) {\r\n            triggerEvent(\"onMonthChange\");\r\n            return updateNavigationCurrentMonth();\r\n        }\r\n        var nav = self.navigationCurrentMonth;\r\n        if (delta < 0) {\r\n            while (nav.nextSibling &&\r\n                /curr/.test(nav.nextSibling.className))\r\n                self.monthNav.removeChild(nav.nextSibling);\r\n        }\r\n        else if (delta > 0) {\r\n            while (nav.previousSibling &&\r\n                /curr/.test(nav.previousSibling.className))\r\n                self.monthNav.removeChild(nav.previousSibling);\r\n        }\r\n        self.oldCurMonth = self.navigationCurrentMonth;\r\n        self.navigationCurrentMonth = self.monthNav.insertBefore(self.oldCurMonth.cloneNode(true), delta > 0 ? self.oldCurMonth.nextSibling : self.oldCurMonth);\r\n        var daysContainer = self.daysContainer;\r\n        if (daysContainer.firstChild && daysContainer.lastChild) {\r\n            if (delta > 0) {\r\n                daysContainer.firstChild.classList.add(\"slideLeft\");\r\n                daysContainer.lastChild.classList.add(\"slideLeftNew\");\r\n                self.oldCurMonth.classList.add(\"slideLeft\");\r\n                self.navigationCurrentMonth.classList.add(\"slideLeftNew\");\r\n            }\r\n            else if (delta < 0) {\r\n                daysContainer.firstChild.classList.add(\"slideRightNew\");\r\n                daysContainer.lastChild.classList.add(\"slideRight\");\r\n                self.oldCurMonth.classList.add(\"slideRight\");\r\n                self.navigationCurrentMonth.classList.add(\"slideRightNew\");\r\n            }\r\n        }\r\n        self.currentMonthElement = self.navigationCurrentMonth\r\n            .firstChild;\r\n        self.currentYearElement = self.navigationCurrentMonth.lastChild\r\n            .childNodes[0];\r\n        updateNavigationCurrentMonth();\r\n        if (self.oldCurMonth.firstChild)\r\n            self.oldCurMonth.firstChild.textContent = monthToStr(self.currentMonth - delta, self.config.shorthandCurrentMonth, self.l10n);\r\n        afterDayAnim(function () { return triggerEvent(\"onMonthChange\"); });\r\n        if (from_keyboard &&\r\n            document.activeElement &&\r\n            document.activeElement.$i) {\r\n            var index_1 = document.activeElement.$i;\r\n            afterDayAnim(function () {\r\n                focusOnDay(index_1, 0);\r\n            });\r\n        }\r\n    }\r\n    function clear(triggerChangeEvent) {\r\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\r\n        self.input.value = \"\";\r\n        if (self.altInput)\r\n            self.altInput.value = \"\";\r\n        if (self.mobileInput)\r\n            self.mobileInput.value = \"\";\r\n        self.selectedDates = [];\r\n        self.latestSelectedDateObj = undefined;\r\n        self.showTimeInput = false;\r\n        self.redraw();\r\n        if (triggerChangeEvent)\r\n            triggerEvent(\"onChange\");\r\n    }\r\n    function close() {\r\n        self.isOpen = false;\r\n        if (!self.isMobile) {\r\n            self.calendarContainer.classList.remove(\"open\");\r\n            self._input.classList.remove(\"active\");\r\n        }\r\n        triggerEvent(\"onClose\");\r\n    }\r\n    function destroy() {\r\n        if (self.config !== undefined)\r\n            triggerEvent(\"onDestroy\");\r\n        for (var i = self._handlers.length; i--;) {\r\n            var h = self._handlers[i];\r\n            h.element.removeEventListener(h.event, h.handler);\r\n        }\r\n        self._handlers = [];\r\n        if (self.mobileInput) {\r\n            if (self.mobileInput.parentNode)\r\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\r\n            self.mobileInput = undefined;\r\n        }\r\n        else if (self.calendarContainer && self.calendarContainer.parentNode)\r\n            self.calendarContainer.parentNode.removeChild(self.calendarContainer);\r\n        if (self.altInput) {\r\n            self.input.type = \"text\";\r\n            if (self.altInput.parentNode)\r\n                self.altInput.parentNode.removeChild(self.altInput);\r\n            delete self.altInput;\r\n        }\r\n        if (self.input) {\r\n            self.input.type = self.input._type;\r\n            self.input.classList.remove(\"flatpickr-input\");\r\n            self.input.removeAttribute(\"readonly\");\r\n            self.input.value = \"\";\r\n        }\r\n        [\r\n            \"_showTimeInput\",\r\n            \"latestSelectedDateObj\",\r\n            \"_hideNextMonthArrow\",\r\n            \"_hidePrevMonthArrow\",\r\n            \"__hideNextMonthArrow\",\r\n            \"__hidePrevMonthArrow\",\r\n            \"isMobile\",\r\n            \"isOpen\",\r\n            \"selectedDateElem\",\r\n            \"minDateHasTime\",\r\n            \"maxDateHasTime\",\r\n            \"days\",\r\n            \"daysContainer\",\r\n            \"_input\",\r\n            \"_positionElement\",\r\n            \"innerContainer\",\r\n            \"rContainer\",\r\n            \"monthNav\",\r\n            \"todayDateElem\",\r\n            \"calendarContainer\",\r\n            \"weekdayContainer\",\r\n            \"prevMonthNav\",\r\n            \"nextMonthNav\",\r\n            \"currentMonthElement\",\r\n            \"currentYearElement\",\r\n            \"navigationCurrentMonth\",\r\n            \"selectedDateElem\",\r\n            \"config\",\r\n        ].forEach(function (k) {\r\n            try {\r\n                delete self[k];\r\n            }\r\n            catch (_) { }\r\n        });\r\n    }\r\n    function isCalendarElem(elem) {\r\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\r\n            return true;\r\n        return self.calendarContainer.contains(elem);\r\n    }\r\n    function documentClick(e) {\r\n        if (self.isOpen && !self.config.inline) {\r\n            var isCalendarElement = isCalendarElem(e.target);\r\n            var isInput = e.target === self.input ||\r\n                e.target === self.altInput ||\r\n                self.element.contains(e.target) ||\r\n                (e.path &&\r\n                    e.path.indexOf &&\r\n                    (~e.path.indexOf(self.input) ||\r\n                        ~e.path.indexOf(self.altInput)));\r\n            var lostFocus = e.type === \"blur\"\r\n                ? isInput &&\r\n                    e.relatedTarget &&\r\n                    !isCalendarElem(e.relatedTarget)\r\n                : !isInput && !isCalendarElement;\r\n            if (lostFocus &&\r\n                self.config.ignoredFocusElements.indexOf(e.target) === -1) {\r\n                self.close();\r\n                if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\r\n                    self.clear(false);\r\n                    self.redraw();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function changeYear(newYear) {\r\n        if (!newYear ||\r\n            (self.currentYearElement.min &&\r\n                newYear < parseInt(self.currentYearElement.min)) ||\r\n            (self.currentYearElement.max &&\r\n                newYear > parseInt(self.currentYearElement.max)))\r\n            return;\r\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\r\n        self.currentYear = newYearNum || self.currentYear;\r\n        if (self.config.maxDate &&\r\n            self.currentYear === self.config.maxDate.getFullYear()) {\r\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\r\n        }\r\n        else if (self.config.minDate &&\r\n            self.currentYear === self.config.minDate.getFullYear()) {\r\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\r\n        }\r\n        if (isNewYear) {\r\n            self.redraw();\r\n            triggerEvent(\"onYearChange\");\r\n        }\r\n    }\r\n    function isEnabled(date, timeless) {\r\n        if (timeless === void 0) { timeless = true; }\r\n        var dateToCheck = self.parseDate(date, undefined, timeless);\r\n        if ((self.config.minDate &&\r\n            dateToCheck &&\r\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\r\n            (self.config.maxDate &&\r\n                dateToCheck &&\r\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\r\n            return false;\r\n        if (!self.config.enable.length && !self.config.disable.length)\r\n            return true;\r\n        if (dateToCheck === undefined)\r\n            return false;\r\n        var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\r\n        for (var i = 0, d = void 0; i < array.length; i++) {\r\n            d = array[i];\r\n            if (typeof d === \"function\" &&\r\n                d(dateToCheck))\r\n                return bool;\r\n            else if (d instanceof Date &&\r\n                dateToCheck !== undefined &&\r\n                d.getTime() === dateToCheck.getTime())\r\n                return bool;\r\n            else if (typeof d === \"string\" && dateToCheck !== undefined) {\r\n                var parsed = self.parseDate(d, undefined, true);\r\n                return parsed && parsed.getTime() === dateToCheck.getTime()\r\n                    ? bool\r\n                    : !bool;\r\n            }\r\n            else if (typeof d === \"object\" &&\r\n                dateToCheck !== undefined &&\r\n                d.from &&\r\n                d.to &&\r\n                dateToCheck.getTime() >= d.from.getTime() &&\r\n                dateToCheck.getTime() <= d.to.getTime())\r\n                return bool;\r\n        }\r\n        return !bool;\r\n    }\r\n    function onKeyDown(e) {\r\n        var isInput = e.target === self._input;\r\n        var calendarElem = isCalendarElem(e.target);\r\n        var allowInput = self.config.allowInput;\r\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\r\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\r\n        if (e.key === \"Enter\" && isInput) {\r\n            if (allowInput) {\r\n                self.setDate(self._input.value, true, e.target === self.altInput\r\n                    ? self.config.altFormat\r\n                    : self.config.dateFormat);\r\n                return e.target.blur();\r\n            }\r\n            else\r\n                self.open();\r\n        }\r\n        else if (calendarElem || allowKeydown || allowInlineKeydown) {\r\n            var isTimeObj = !!self.timeContainer &&\r\n                self.timeContainer.contains(e.target);\r\n            switch (e.key) {\r\n                case \"Enter\":\r\n                    if (isTimeObj)\r\n                        updateValue();\r\n                    else\r\n                        selectDate(e);\r\n                    break;\r\n                case \"Escape\":\r\n                    e.preventDefault();\r\n                    self.close();\r\n                    break;\r\n                case \"Backspace\":\r\n                case \"Delete\":\r\n                    if (isInput && !self.config.allowInput)\r\n                        self.clear();\r\n                    break;\r\n                case \"ArrowLeft\":\r\n                case \"ArrowRight\":\r\n                    if (!isTimeObj) {\r\n                        e.preventDefault();\r\n                        if (self.daysContainer) {\r\n                            var delta_1 = e.key === \"ArrowRight\" ? 1 : -1;\r\n                            if (!e.ctrlKey)\r\n                                focusOnDay(e.target.$i, delta_1);\r\n                            else\r\n                                changeMonth(delta_1, true, undefined, true);\r\n                        }\r\n                    }\r\n                    else if (self.hourElement)\r\n                        self.hourElement.focus();\r\n                    break;\r\n                case \"ArrowUp\":\r\n                case \"ArrowDown\":\r\n                    e.preventDefault();\r\n                    var delta = e.key === \"ArrowDown\" ? 1 : -1;\r\n                    if (self.daysContainer && e.target.$i !== undefined) {\r\n                        if (e.ctrlKey) {\r\n                            changeYear(self.currentYear - delta);\r\n                            focusOnDay(e.target.$i, 0);\r\n                        }\r\n                        else if (!isTimeObj)\r\n                            focusOnDay(e.target.$i, delta * 7);\r\n                    }\r\n                    else if (self.config.enableTime) {\r\n                        if (!isTimeObj && self.hourElement)\r\n                            self.hourElement.focus();\r\n                        updateTime(e);\r\n                        self._debouncedChange();\r\n                    }\r\n                    break;\r\n                case \"Tab\":\r\n                    if (e.target === self.hourElement) {\r\n                        e.preventDefault();\r\n                        self.minuteElement.select();\r\n                    }\r\n                    else if (e.target === self.minuteElement &&\r\n                        (self.secondElement || self.amPM)) {\r\n                        e.preventDefault();\r\n                        if (self.secondElement !== undefined)\r\n                            self.secondElement.focus();\r\n                        else if (self.amPM !== undefined)\r\n                            self.amPM.focus();\r\n                    }\r\n                    else if (e.target === self.secondElement && self.amPM) {\r\n                        e.preventDefault();\r\n                        self.amPM.focus();\r\n                    }\r\n                    break;\r\n                case self.l10n.amPM[0].charAt(0):\r\n                    if (self.amPM !== undefined && e.target === self.amPM) {\r\n                        self.amPM.textContent = self.l10n.amPM[0];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                    }\r\n                    break;\r\n                case self.l10n.amPM[1].charAt(0):\r\n                    if (self.amPM !== undefined && e.target === self.amPM) {\r\n                        self.amPM.textContent = self.l10n.amPM[1];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            triggerEvent(\"onKeyDown\", e);\r\n        }\r\n    }\r\n    function onMouseOver(elem) {\r\n        if (self.selectedDates.length !== 1 ||\r\n            !elem.classList.contains(\"flatpickr-day\") ||\r\n            self.minRangeDate === undefined ||\r\n            self.maxRangeDate === undefined)\r\n            return;\r\n        var hoverDate = elem.dateObj, initialDate = self.parseDate(self.selectedDates[0], undefined, true), rangeStartDate = Math.min(hoverDate.getTime(), self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate.getTime(), self.selectedDates[0].getTime()), containsDisabled = false;\r\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\r\n            if (!isEnabled(new Date(t))) {\r\n                containsDisabled = true;\r\n                break;\r\n            }\r\n        }\r\n        var _loop_1 = function (i, date) {\r\n            var timestamp = date.getTime();\r\n            var outOfRange = timestamp < self.minRangeDate.getTime() ||\r\n                timestamp > self.maxRangeDate.getTime(), dayElem = self.days.childNodes[i];\r\n            if (outOfRange) {\r\n                dayElem.classList.add(\"notAllowed\");\r\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\r\n                    dayElem.classList.remove(c);\r\n                });\r\n                return \"continue\";\r\n            }\r\n            else if (containsDisabled && !outOfRange)\r\n                return \"continue\";\r\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\r\n                dayElem.classList.remove(c);\r\n            });\r\n            var minRangeDate = Math.max(self.minRangeDate.getTime(), rangeStartDate), maxRangeDate = Math.min(self.maxRangeDate.getTime(), rangeEndDate);\r\n            elem.classList.add(hoverDate < self.selectedDates[0] ? \"startRange\" : \"endRange\");\r\n            if (initialDate < hoverDate && timestamp === initialDate.getTime())\r\n                dayElem.classList.add(\"startRange\");\r\n            else if (initialDate > hoverDate && timestamp === initialDate.getTime())\r\n                dayElem.classList.add(\"endRange\");\r\n            if (timestamp >= minRangeDate && timestamp <= maxRangeDate)\r\n                dayElem.classList.add(\"inRange\");\r\n        };\r\n        for (var i = 0, date = self.days.childNodes[i].dateObj; i < 42; i++, date =\r\n                self.days.childNodes[i] &&\r\n                    self.days.childNodes[i].dateObj) {\r\n            _loop_1(i, date);\r\n        }\r\n    }\r\n    function onResize() {\r\n        if (self.isOpen && !self.config.static && !self.config.inline)\r\n            positionCalendar();\r\n    }\r\n    function open(e, positionElement) {\r\n        if (positionElement === void 0) { positionElement = self._input; }\r\n        if (self.isMobile) {\r\n            if (e) {\r\n                e.preventDefault();\r\n                e.target && e.target.blur();\r\n            }\r\n            setTimeout(function () {\r\n                self.mobileInput !== undefined && self.mobileInput.click();\r\n            }, 0);\r\n            triggerEvent(\"onOpen\");\r\n            return;\r\n        }\r\n        if (self._input.disabled || self.config.inline)\r\n            return;\r\n        var wasOpen = self.isOpen;\r\n        self.isOpen = true;\r\n        positionCalendar(positionElement);\r\n        self.calendarContainer.classList.add(\"open\");\r\n        self._input.classList.add(\"active\");\r\n        !wasOpen && triggerEvent(\"onOpen\");\r\n    }\r\n    function minMaxDateSetter(type) {\r\n        return function (date) {\r\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date));\r\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\r\n            if (dateObj !== undefined) {\r\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\r\n                    dateObj.getHours() > 0 ||\r\n                        dateObj.getMinutes() > 0 ||\r\n                        dateObj.getSeconds() > 0;\r\n            }\r\n            if (self.selectedDates) {\r\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\r\n                if (!self.selectedDates.length && type === \"min\")\r\n                    setHoursFromDate(dateObj);\r\n                updateValue();\r\n            }\r\n            if (self.daysContainer) {\r\n                redraw();\r\n                if (dateObj !== undefined)\r\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\r\n                else\r\n                    self.currentYearElement.removeAttribute(type);\r\n                self.currentYearElement.disabled =\r\n                    !!inverseDateObj &&\r\n                        dateObj !== undefined &&\r\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\r\n            }\r\n        };\r\n    }\r\n    function parseConfig() {\r\n        var boolOpts = [\r\n            \"wrap\",\r\n            \"weekNumbers\",\r\n            \"allowInput\",\r\n            \"clickOpens\",\r\n            \"time_24hr\",\r\n            \"enableTime\",\r\n            \"noCalendar\",\r\n            \"altInput\",\r\n            \"shorthandCurrentMonth\",\r\n            \"inline\",\r\n            \"static\",\r\n            \"enableSeconds\",\r\n            \"disableMobile\",\r\n        ];\r\n        var hooks = [\r\n            \"onChange\",\r\n            \"onClose\",\r\n            \"onDayCreate\",\r\n            \"onDestroy\",\r\n            \"onKeyDown\",\r\n            \"onMonthChange\",\r\n            \"onOpen\",\r\n            \"onParseConfig\",\r\n            \"onReady\",\r\n            \"onValueUpdate\",\r\n            \"onYearChange\",\r\n        ];\r\n        self.config = __assign({}, flatpickr.defaultConfig);\r\n        var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\r\n        var formats$$1 = {};\r\n        Object.defineProperty(self.config, \"enable\", {\r\n            get: function () { return self.config._enable || []; },\r\n            set: function (dates) {\r\n                self.config._enable = parseDateRules(dates);\r\n            },\r\n        });\r\n        Object.defineProperty(self.config, \"disable\", {\r\n            get: function () { return self.config._disable || []; },\r\n            set: function (dates) {\r\n                self.config._disable = parseDateRules(dates);\r\n            },\r\n        });\r\n        if (!userConfig.dateFormat && userConfig.enableTime) {\r\n            formats$$1.dateFormat = userConfig.noCalendar\r\n                ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\r\n                : flatpickr.defaultConfig.dateFormat +\r\n                    \" H:i\" +\r\n                    (userConfig.enableSeconds ? \":S\" : \"\");\r\n        }\r\n        if (userConfig.altInput && userConfig.enableTime && !userConfig.altFormat) {\r\n            formats$$1.altFormat = userConfig.noCalendar\r\n                ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\r\n                : flatpickr.defaultConfig.altFormat +\r\n                    (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\r\n        }\r\n        Object.defineProperty(self.config, \"minDate\", {\r\n            get: function () { return self.config._minDate; },\r\n            set: minMaxDateSetter(\"min\"),\r\n        });\r\n        Object.defineProperty(self.config, \"maxDate\", {\r\n            get: function () { return self.config._maxDate; },\r\n            set: minMaxDateSetter(\"max\"),\r\n        });\r\n        Object.assign(self.config, formats$$1, userConfig);\r\n        for (var i = 0; i < boolOpts.length; i++)\r\n            self.config[boolOpts[i]] =\r\n                self.config[boolOpts[i]] === true ||\r\n                    self.config[boolOpts[i]] === \"true\";\r\n        for (var i = hooks.length; i--;) {\r\n            if (self.config[hooks[i]] !== undefined) {\r\n                self.config[hooks[i]] = arrayify(self.config[hooks[i]] || []).map(bindToInstance);\r\n            }\r\n        }\r\n        for (var i = 0; i < self.config.plugins.length; i++) {\r\n            var pluginConf = self.config.plugins[i](self) || {};\r\n            for (var key in pluginConf) {\r\n                if (~hooks.indexOf(key)) {\r\n                    self.config[key] = arrayify(pluginConf[key])\r\n                        .map(bindToInstance)\r\n                        .concat(self.config[key]);\r\n                }\r\n                else if (typeof userConfig[key] === \"undefined\")\r\n                    self.config[key] = pluginConf[key];\r\n            }\r\n        }\r\n        self.isMobile =\r\n            !self.config.disableMobile &&\r\n                !self.config.inline &&\r\n                self.config.mode === \"single\" &&\r\n                !self.config.disable.length &&\r\n                !self.config.enable.length &&\r\n                !self.config.weekNumbers &&\r\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n        triggerEvent(\"onParseConfig\");\r\n    }\r\n    function setupLocale() {\r\n        if (typeof self.config.locale !== \"object\" &&\r\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\r\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\r\n        self.l10n = __assign({}, flatpickr.l10ns.default, typeof self.config.locale === \"object\"\r\n            ? self.config.locale\r\n            : self.config.locale !== \"default\"\r\n                ? flatpickr.l10ns[self.config.locale]\r\n                : undefined);\r\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\r\n    }\r\n    function positionCalendar(positionElement) {\r\n        if (positionElement === void 0) { positionElement = self._positionElement; }\r\n        if (self.calendarContainer === undefined)\r\n            return;\r\n        var calendarHeight = self.calendarContainer.offsetHeight, calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPos === \"above\" ||\r\n            (configPos !== \"below\" &&\r\n                distanceFromBottom < calendarHeight &&\r\n                inputBounds.top > calendarHeight);\r\n        var top = window.pageYOffset +\r\n            inputBounds.top +\r\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\r\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\r\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\r\n        if (self.config.inline)\r\n            return;\r\n        var left = window.pageXOffset + inputBounds.left;\r\n        var right = window.document.body.offsetWidth - inputBounds.right;\r\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\r\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\r\n        if (self.config.static)\r\n            return;\r\n        self.calendarContainer.style.top = top + \"px\";\r\n        if (!rightMost) {\r\n            self.calendarContainer.style.left = left + \"px\";\r\n            self.calendarContainer.style.right = \"auto\";\r\n        }\r\n        else {\r\n            self.calendarContainer.style.left = \"auto\";\r\n            self.calendarContainer.style.right = right + \"px\";\r\n        }\r\n    }\r\n    function redraw() {\r\n        if (self.config.noCalendar || self.isMobile)\r\n            return;\r\n        buildWeekdays();\r\n        updateNavigationCurrentMonth();\r\n        buildDays();\r\n    }\r\n    function selectDate(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var isSelectable = function (day) {\r\n            return day.classList &&\r\n                day.classList.contains(\"flatpickr-day\") &&\r\n                !day.classList.contains(\"disabled\") &&\r\n                !day.classList.contains(\"notAllowed\");\r\n        };\r\n        var t = findParent(e.target, isSelectable);\r\n        if (t === undefined)\r\n            return;\r\n        var target = t;\r\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\r\n        var shouldChangeMonth = selectedDate.getMonth() !== self.currentMonth &&\r\n            self.config.mode !== \"range\";\r\n        self.selectedDateElem = target;\r\n        if (self.config.mode === \"single\")\r\n            self.selectedDates = [selectedDate];\r\n        else if (self.config.mode === \"multiple\") {\r\n            var selectedIndex = isDateSelected(selectedDate);\r\n            if (selectedIndex)\r\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\r\n            else\r\n                self.selectedDates.push(selectedDate);\r\n        }\r\n        else if (self.config.mode === \"range\") {\r\n            if (self.selectedDates.length === 2)\r\n                self.clear();\r\n            self.selectedDates.push(selectedDate);\r\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\r\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n        }\r\n        setHoursFromInputs();\r\n        if (shouldChangeMonth) {\r\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\r\n            self.currentYear = selectedDate.getFullYear();\r\n            self.currentMonth = selectedDate.getMonth();\r\n            if (isNewYear)\r\n                triggerEvent(\"onYearChange\");\r\n            triggerEvent(\"onMonthChange\");\r\n        }\r\n        buildDays();\r\n        if (self.config.minDate &&\r\n            self.minDateHasTime &&\r\n            self.config.enableTime &&\r\n            compareDates(selectedDate, self.config.minDate) === 0)\r\n            setHoursFromDate(self.config.minDate);\r\n        updateValue();\r\n        if (self.config.enableTime)\r\n            setTimeout(function () { return (self.showTimeInput = true); }, 50);\r\n        if (self.config.mode === \"range\") {\r\n            if (self.selectedDates.length === 1) {\r\n                onMouseOver(target);\r\n                self._hidePrevMonthArrow =\r\n                    self._hidePrevMonthArrow ||\r\n                        (self.minRangeDate !== undefined &&\r\n                            self.minRangeDate >\r\n                                self.days.childNodes[0].dateObj);\r\n                self._hideNextMonthArrow =\r\n                    self._hideNextMonthArrow ||\r\n                        (self.maxRangeDate !== undefined &&\r\n                            self.maxRangeDate <\r\n                                new Date(self.currentYear, self.currentMonth + 1, 1));\r\n            }\r\n            else\r\n                updateNavigationCurrentMonth();\r\n        }\r\n        triggerEvent(\"onChange\");\r\n        if (!shouldChangeMonth)\r\n            focusOnDay(target.$i, 0);\r\n        else\r\n            afterDayAnim(function () { return self.selectedDateElem && self.selectedDateElem.focus(); });\r\n        if (self.hourElement !== undefined)\r\n            setTimeout(function () { return self.hourElement !== undefined && self.hourElement.select(); }, 451);\r\n        if (self.config.closeOnSelect) {\r\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\r\n            var range = self.config.mode === \"range\" &&\r\n                self.selectedDates.length === 2 &&\r\n                !self.config.enableTime;\r\n            if (single || range)\r\n                self.close();\r\n        }\r\n    }\r\n    function set(option, value) {\r\n        if (option !== null && typeof option === \"object\")\r\n            Object.assign(self.config, option);\r\n        else\r\n            self.config[option] = value;\r\n        self.redraw();\r\n        jumpToDate();\r\n    }\r\n    function setSelectedDate(inputDate, format) {\r\n        var dates = [];\r\n        if (inputDate instanceof Array)\r\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\r\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\r\n            dates = [self.parseDate(inputDate, format)];\r\n        else if (typeof inputDate === \"string\") {\r\n            switch (self.config.mode) {\r\n                case \"single\":\r\n                    dates = [self.parseDate(inputDate, format)];\r\n                    break;\r\n                case \"multiple\":\r\n                    dates = inputDate\r\n                        .split(self.config.conjunction)\r\n                        .map(function (date) { return self.parseDate(date, format); });\r\n                    break;\r\n                case \"range\":\r\n                    dates = inputDate\r\n                        .split(self.l10n.rangeSeparator)\r\n                        .map(function (date) { return self.parseDate(date, format); });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        else\r\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\r\n        self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\r\n        self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n    }\r\n    function setDate(date, triggerChange, format) {\r\n        if (triggerChange === void 0) { triggerChange = false; }\r\n        if (date !== 0 && !date)\r\n            return self.clear(triggerChange);\r\n        setSelectedDate(date, format);\r\n        self.showTimeInput = self.selectedDates.length > 0;\r\n        self.latestSelectedDateObj = self.selectedDates[0];\r\n        self.redraw();\r\n        jumpToDate();\r\n        setHoursFromDate();\r\n        updateValue(triggerChange);\r\n        if (triggerChange)\r\n            triggerEvent(\"onChange\");\r\n    }\r\n    function parseDateRules(arr) {\r\n        return arr\r\n            .map(function (rule) {\r\n            if (typeof rule === \"string\" ||\r\n                typeof rule === \"number\" ||\r\n                rule instanceof Date) {\r\n                return self.parseDate(rule, undefined, true);\r\n            }\r\n            else if (rule &&\r\n                typeof rule === \"object\" &&\r\n                rule.from &&\r\n                rule.to)\r\n                return {\r\n                    from: self.parseDate(rule.from, undefined),\r\n                    to: self.parseDate(rule.to, undefined),\r\n                };\r\n            return rule;\r\n        })\r\n            .filter(function (x) { return x; });\r\n    }\r\n    function setupDates() {\r\n        self.selectedDates = [];\r\n        self.now = new Date();\r\n        var preloadedDate = self.config.defaultDate || self.input.value;\r\n        if (preloadedDate)\r\n            setSelectedDate(preloadedDate, self.config.dateFormat);\r\n        var initialDate = self.selectedDates.length\r\n            ? self.selectedDates[0]\r\n            : self.config.minDate &&\r\n                self.config.minDate.getTime() > self.now.getTime()\r\n                ? self.config.minDate\r\n                : self.config.maxDate &&\r\n                    self.config.maxDate.getTime() < self.now.getTime()\r\n                    ? self.config.maxDate\r\n                    : self.now;\r\n        self.currentYear = initialDate.getFullYear();\r\n        self.currentMonth = initialDate.getMonth();\r\n        if (self.selectedDates.length)\r\n            self.latestSelectedDateObj = self.selectedDates[0];\r\n        self.minDateHasTime =\r\n            !!self.config.minDate &&\r\n                (self.config.minDate.getHours() > 0 ||\r\n                    self.config.minDate.getMinutes() > 0 ||\r\n                    self.config.minDate.getSeconds() > 0);\r\n        self.maxDateHasTime =\r\n            !!self.config.maxDate &&\r\n                (self.config.maxDate.getHours() > 0 ||\r\n                    self.config.maxDate.getMinutes() > 0 ||\r\n                    self.config.maxDate.getSeconds() > 0);\r\n        Object.defineProperty(self, \"showTimeInput\", {\r\n            get: function () { return self._showTimeInput; },\r\n            set: function (bool) {\r\n                self._showTimeInput = bool;\r\n                if (self.calendarContainer)\r\n                    toggleClass(self.calendarContainer, \"showTimeInput\", bool);\r\n                positionCalendar();\r\n            },\r\n        });\r\n    }\r\n    function formatDate(dateObj, frmt) {\r\n        if (self.config !== undefined && self.config.formatDate !== undefined)\r\n            return self.config.formatDate(dateObj, frmt);\r\n        return frmt\r\n            .split(\"\")\r\n            .map(function (c, i, arr) {\r\n            return formats[c] && arr[i - 1] !== \"\\\\\"\r\n                ? formats[c](dateObj, self.l10n, self.config)\r\n                : c !== \"\\\\\" ? c : \"\";\r\n        })\r\n            .join(\"\");\r\n    }\r\n    function parseDate(date, givenFormat, timeless) {\r\n        if (date !== 0 && !date)\r\n            return undefined;\r\n        var parsedDate;\r\n        var date_orig = date;\r\n        if (date instanceof Date)\r\n            parsedDate = new Date(date.getTime());\r\n        else if (typeof date !== \"string\" &&\r\n            date.toFixed !== undefined)\r\n            parsedDate = new Date(date);\r\n        else if (typeof date === \"string\") {\r\n            var format = givenFormat || (self.config || flatpickr.defaultConfig).dateFormat;\r\n            var datestr = String(date).trim();\r\n            if (datestr === \"today\") {\r\n                parsedDate = new Date();\r\n                timeless = true;\r\n            }\r\n            else if (/Z$/.test(datestr) ||\r\n                /GMT$/.test(datestr))\r\n                parsedDate = new Date(date);\r\n            else if (self.config && self.config.parseDate)\r\n                parsedDate = self.config.parseDate(date, format);\r\n            else {\r\n                parsedDate =\r\n                    !self.config || !self.config.noCalendar\r\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\r\n                        : new Date(new Date().setHours(0, 0, 0, 0));\r\n                var matched = void 0, ops = [];\r\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\r\n                    var token = format[i];\r\n                    var isBackSlash = token === \"\\\\\";\r\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\r\n                    if (tokenRegex[token] && !escaped) {\r\n                        regexStr += tokenRegex[token];\r\n                        var match = new RegExp(regexStr).exec(date);\r\n                        if (match && (matched = true)) {\r\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\r\n                                fn: revFormat[token],\r\n                                val: match[++matchIndex],\r\n                            });\r\n                        }\r\n                    }\r\n                    else if (!isBackSlash)\r\n                        regexStr += \".\";\r\n                    ops.forEach(function (_a) {\r\n                        var fn = _a.fn, val = _a.val;\r\n                        return (parsedDate =\r\n                            fn(parsedDate, val, self.l10n) || parsedDate);\r\n                    });\r\n                }\r\n                parsedDate = matched ? parsedDate : undefined;\r\n            }\r\n        }\r\n        if (!(parsedDate instanceof Date)) {\r\n            self.config.errorHandler(new Error(\"Invalid date provided: \" + date_orig));\r\n            return undefined;\r\n        }\r\n        if (timeless === true)\r\n            parsedDate.setHours(0, 0, 0, 0);\r\n        return parsedDate;\r\n    }\r\n    function setupInputs() {\r\n        self.input = self.config.wrap\r\n            ? element.querySelector(\"[data-input]\")\r\n            : element;\r\n        if (!self.input) {\r\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\r\n            return;\r\n        }\r\n        self.input._type = self.input.type;\r\n        self.input.type = \"text\";\r\n        self.input.classList.add(\"flatpickr-input\");\r\n        self._input = self.input;\r\n        if (self.config.altInput) {\r\n            self.altInput = createElement(self.input.nodeName, self.input.className + \" \" + self.config.altInputClass);\r\n            self._input = self.altInput;\r\n            self.altInput.placeholder = self.input.placeholder;\r\n            self.altInput.disabled = self.input.disabled;\r\n            self.altInput.required = self.input.required;\r\n            self.altInput.type = \"text\";\r\n            self.input.type = \"hidden\";\r\n            if (!self.config.static && self.input.parentNode)\r\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\r\n        }\r\n        if (!self.config.allowInput)\r\n            self._input.setAttribute(\"readonly\", \"readonly\");\r\n        self._positionElement = self.config.positionElement || self._input;\r\n    }\r\n    function setupMobile() {\r\n        var inputType = self.config.enableTime\r\n            ? self.config.noCalendar ? \"time\" : \"datetime-local\"\r\n            : \"date\";\r\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\r\n        self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\r\n        self.mobileInput.tabIndex = 1;\r\n        self.mobileInput.type = inputType;\r\n        self.mobileInput.disabled = self.input.disabled;\r\n        self.mobileInput.placeholder = self.input.placeholder;\r\n        self.mobileFormatStr =\r\n            inputType === \"datetime-local\"\r\n                ? \"Y-m-d\\\\TH:i:S\"\r\n                : inputType === \"date\" ? \"Y-m-d\" : \"H:i:S\";\r\n        if (self.selectedDates.length) {\r\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\r\n        }\r\n        if (self.config.minDate)\r\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\r\n        if (self.config.maxDate)\r\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\r\n        self.input.type = \"hidden\";\r\n        if (self.altInput !== undefined)\r\n            self.altInput.type = \"hidden\";\r\n        try {\r\n            if (self.input.parentNode)\r\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\r\n        }\r\n        catch (_a) { }\r\n        bind(self.mobileInput, \"change\", function (e) {\r\n            self.setDate(e.target.value, false, self.mobileFormatStr);\r\n            triggerEvent(\"onChange\");\r\n            triggerEvent(\"onClose\");\r\n        });\r\n    }\r\n    function toggle() {\r\n        if (self.isOpen)\r\n            return self.close();\r\n        self.open();\r\n    }\r\n    function triggerEvent(event, data) {\r\n        var hooks = self.config[event];\r\n        if (hooks !== undefined && hooks.length > 0) {\r\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\r\n                hooks[i](self.selectedDates, self.input.value, self, data);\r\n        }\r\n        if (event === \"onChange\") {\r\n            self.input.dispatchEvent(createEvent(\"change\"));\r\n            self.input.dispatchEvent(createEvent(\"input\"));\r\n        }\r\n    }\r\n    function createEvent(name) {\r\n        var e = document.createEvent(\"Event\");\r\n        e.initEvent(name, true, true);\r\n        return e;\r\n    }\r\n    function isDateSelected(date) {\r\n        for (var i = 0; i < self.selectedDates.length; i++) {\r\n            if (compareDates(self.selectedDates[i], date) === 0)\r\n                return \"\" + i;\r\n        }\r\n        return false;\r\n    }\r\n    function isDateInRange(date) {\r\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\r\n            return false;\r\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\r\n            compareDates(date, self.selectedDates[1]) <= 0);\r\n    }\r\n    function updateNavigationCurrentMonth() {\r\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\r\n            return;\r\n        self.currentMonthElement.textContent =\r\n            monthToStr(self.currentMonth, self.config.shorthandCurrentMonth, self.l10n) + \" \";\r\n        self.currentYearElement.value = self.currentYear.toString();\r\n        self._hidePrevMonthArrow =\r\n            self.config.minDate !== undefined &&\r\n                (self.currentYear === self.config.minDate.getFullYear()\r\n                    ? self.currentMonth <= self.config.minDate.getMonth()\r\n                    : self.currentYear < self.config.minDate.getFullYear());\r\n        self._hideNextMonthArrow =\r\n            self.config.maxDate !== undefined &&\r\n                (self.currentYear === self.config.maxDate.getFullYear()\r\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\r\n                    : self.currentYear > self.config.maxDate.getFullYear());\r\n    }\r\n    function updateValue(triggerChange) {\r\n        if (triggerChange === void 0) { triggerChange = true; }\r\n        if (!self.selectedDates.length)\r\n            return self.clear(triggerChange);\r\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\r\n            self.mobileInput.value =\r\n                self.latestSelectedDateObj !== undefined\r\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\r\n                    : \"\";\r\n        }\r\n        var joinChar = self.config.mode !== \"range\"\r\n            ? self.config.conjunction\r\n            : self.l10n.rangeSeparator;\r\n        self.input.value = self.selectedDates\r\n            .map(function (dObj) { return self.formatDate(dObj, self.config.dateFormat); })\r\n            .join(joinChar);\r\n        if (self.altInput !== undefined) {\r\n            self.altInput.value = self.selectedDates\r\n                .map(function (dObj) { return self.formatDate(dObj, self.config.altFormat); })\r\n                .join(joinChar);\r\n        }\r\n        if (triggerChange !== false)\r\n            triggerEvent(\"onValueUpdate\");\r\n    }\r\n    function onMonthNavScroll(e) {\r\n        e.preventDefault();\r\n        var isYear = self.currentYearElement.parentNode &&\r\n            self.currentYearElement.parentNode.contains(e.target);\r\n        if (e.target === self.currentMonthElement || isYear) {\r\n            var delta = mouseDelta(e);\r\n            if (isYear) {\r\n                changeYear(self.currentYear + delta);\r\n                e.target.value = self.currentYear.toString();\r\n            }\r\n            else\r\n                self.changeMonth(delta, true, false);\r\n        }\r\n    }\r\n    function onMonthNavClick(e) {\r\n        var isPrevMonth = self.prevMonthNav.contains(e.target);\r\n        var isNextMonth = self.nextMonthNav.contains(e.target);\r\n        if (isPrevMonth || isNextMonth)\r\n            changeMonth(isPrevMonth ? -1 : 1);\r\n        else if (e.target === self.currentYearElement) {\r\n            e.preventDefault();\r\n            self.currentYearElement.select();\r\n        }\r\n        else if (e.target.className === \"arrowUp\")\r\n            self.changeYear(self.currentYear + 1);\r\n        else if (e.target.className === \"arrowDown\")\r\n            self.changeYear(self.currentYear - 1);\r\n    }\r\n    function timeWrapper(e) {\r\n        e.preventDefault();\r\n        var isKeyDown = e.type === \"keydown\", input = e.target;\r\n        if (self.amPM !== undefined && e.target === self.amPM) {\r\n            self.amPM.textContent =\r\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n        }\r\n        var min = Number(input.min), max = Number(input.max), step = Number(input.step), curValue = parseInt(input.value, 10), delta = e.delta ||\r\n            (isKeyDown\r\n                ? e.which === 38 ? 1 : -1\r\n                : Math.max(-1, Math.min(1, e.wheelDelta || -e.deltaY)) || 0);\r\n        var newValue = curValue + step * delta;\r\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\r\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\r\n            if (newValue < min) {\r\n                newValue =\r\n                    max +\r\n                        newValue +\r\n                        int(!isHourElem) +\r\n                        (int(isHourElem) && int(!self.amPM));\r\n                if (isMinuteElem)\r\n                    incrementNumInput(undefined, -1, self.hourElement);\r\n            }\r\n            else if (newValue > max) {\r\n                newValue =\r\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\r\n                if (isMinuteElem)\r\n                    incrementNumInput(undefined, 1, self.hourElement);\r\n            }\r\n            if (self.amPM &&\r\n                isHourElem &&\r\n                (step === 1\r\n                    ? newValue + curValue === 23\r\n                    : Math.abs(newValue - curValue) > step)) {\r\n                self.amPM.textContent =\r\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n            }\r\n            input.value = pad(newValue);\r\n        }\r\n    }\r\n    init();\r\n    return self;\r\n}\r\nfunction _flatpickr(nodeList, config) {\r\n    var nodes = Array.prototype.slice.call(nodeList);\r\n    var instances = [];\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        var node = nodes[i];\r\n        try {\r\n            if (node.getAttribute(\"data-fp-omit\") !== null)\r\n                continue;\r\n            if (node._flatpickr !== undefined) {\r\n                node._flatpickr.destroy();\r\n                node._flatpickr = undefined;\r\n            }\r\n            node._flatpickr = FlatpickrInstance(node, config || {});\r\n            instances.push(node._flatpickr);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    return instances.length === 1 ? instances[0] : instances;\r\n}\r\nif (typeof HTMLElement !== \"undefined\") {\r\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\r\n        return _flatpickr(this, config);\r\n    };\r\n    HTMLElement.prototype.flatpickr = function (config) {\r\n        return _flatpickr([this], config);\r\n    };\r\n}\r\nvar flatpickr;\r\nflatpickr = function (selector, config) {\r\n    if (selector instanceof NodeList)\r\n        return _flatpickr(selector, config);\r\n    else if (typeof selector === \"string\")\r\n        return _flatpickr(window.document.querySelectorAll(selector), config);\r\n    return _flatpickr([selector], config);\r\n};\r\nif (typeof window === \"object\")\r\n    window.flatpickr = flatpickr;\r\nflatpickr.defaultConfig = defaults;\r\nflatpickr.l10ns = {\r\n    en: __assign({}, english),\r\n    default: __assign({}, english),\r\n};\r\nflatpickr.localize = function (l10n) {\r\n    flatpickr.l10ns.default = __assign({}, flatpickr.l10ns.default, l10n);\r\n};\r\nflatpickr.setDefaults = function (config) {\r\n    flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\r\n};\r\nif (typeof jQuery !== \"undefined\") {\r\n    jQuery.fn.flatpickr = function (config) {\r\n        return _flatpickr(this, config);\r\n    };\r\n}\r\nDate.prototype.fp_incr = function (days) {\r\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\r\n};\r\nvar flatpickr$1 = flatpickr;\n\nreturn flatpickr$1;\n\n})));\n\n;define('flatpickr', ['flatpickr/flatpickr'], function (main) { return main; });\n\r\ndefine('text!flatpickr/flatpickr.css', ['module'], function(module) { module.exports = \".flatpickr-calendar {\\n  background: transparent;\\n  overflow: hidden;\\n  max-height: 0;\\n  opacity: 0;\\n  visibility: hidden;\\n  text-align: center;\\n  padding: 0;\\n  -webkit-animation: none;\\n          animation: none;\\n  direction: ltr;\\n  border: 0;\\n  font-size: 14px;\\n  line-height: 24px;\\n  border-radius: 5px;\\n  position: absolute;\\n  width: 307.875px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -ms-touch-action: manipulation;\\n      touch-action: manipulation;\\n  background: #fff;\\n  -webkit-box-shadow: 1px 0 0 #e6e6e6, -1px 0 0 #e6e6e6, 0 1px 0 #e6e6e6, 0 -1px 0 #e6e6e6, 0 3px 13px rgba(0,0,0,0.08);\\n          box-shadow: 1px 0 0 #e6e6e6, -1px 0 0 #e6e6e6, 0 1px 0 #e6e6e6, 0 -1px 0 #e6e6e6, 0 3px 13px rgba(0,0,0,0.08);\\n}\\n.flatpickr-calendar.open,\\n.flatpickr-calendar.inline {\\n  opacity: 1;\\n  visibility: visible;\\n  overflow: visible;\\n  max-height: 640px;\\n}\\n.flatpickr-calendar.open {\\n  display: inline-block;\\n  z-index: 99999;\\n}\\n.flatpickr-calendar.animate.open {\\n  -webkit-animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.inline {\\n  display: block;\\n  position: relative;\\n  top: 2px;\\n}\\n.flatpickr-calendar.static {\\n  position: absolute;\\n  top: calc(100% + 2px);\\n}\\n.flatpickr-calendar.static.open {\\n  z-index: 999;\\n  display: block;\\n}\\n.flatpickr-calendar.hasWeeks {\\n  width: auto;\\n}\\n.flatpickr-calendar .hasWeeks .dayContainer,\\n.flatpickr-calendar .hasTime .dayContainer {\\n  border-bottom: 0;\\n  border-bottom-right-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\n.flatpickr-calendar .hasWeeks .dayContainer {\\n  border-left: 0;\\n}\\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\\n  height: 40px;\\n  border-top: 1px solid #e6e6e6;\\n}\\n.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {\\n  height: auto;\\n}\\n.flatpickr-calendar:before,\\n.flatpickr-calendar:after {\\n  position: absolute;\\n  display: block;\\n  pointer-events: none;\\n  border: solid transparent;\\n  content: '';\\n  height: 0;\\n  width: 0;\\n  left: 22px;\\n}\\n.flatpickr-calendar.rightMost:before,\\n.flatpickr-calendar.rightMost:after {\\n  left: auto;\\n  right: 22px;\\n}\\n.flatpickr-calendar:before {\\n  border-width: 5px;\\n  margin: 0 -5px;\\n}\\n.flatpickr-calendar:after {\\n  border-width: 4px;\\n  margin: 0 -4px;\\n}\\n.flatpickr-calendar.arrowTop:before,\\n.flatpickr-calendar.arrowTop:after {\\n  bottom: 100%;\\n}\\n.flatpickr-calendar.arrowTop:before {\\n  border-bottom-color: #e6e6e6;\\n}\\n.flatpickr-calendar.arrowTop:after {\\n  border-bottom-color: #fff;\\n}\\n.flatpickr-calendar.arrowBottom:before,\\n.flatpickr-calendar.arrowBottom:after {\\n  top: 100%;\\n}\\n.flatpickr-calendar.arrowBottom:before {\\n  border-top-color: #e6e6e6;\\n}\\n.flatpickr-calendar.arrowBottom:after {\\n  border-top-color: #fff;\\n}\\n.flatpickr-calendar:focus {\\n  outline: 0;\\n}\\n.flatpickr-wrapper {\\n  position: relative;\\n  display: inline-block;\\n}\\n.flatpickr-month {\\n  background: transparent;\\n  color: rgba(0,0,0,0.9);\\n  fill: rgba(0,0,0,0.9);\\n  height: 28px;\\n  line-height: 1;\\n  text-align: center;\\n  position: relative;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  overflow: hidden;\\n}\\n.flatpickr-prev-month,\\n.flatpickr-next-month {\\n  text-decoration: none;\\n  cursor: pointer;\\n  position: absolute;\\n  top: 0px;\\n  line-height: 16px;\\n  height: 28px;\\n  padding: 10px calc(3.57% - 1.5px);\\n  z-index: 3;\\n}\\n.flatpickr-prev-month i,\\n.flatpickr-next-month i {\\n  position: relative;\\n}\\n.flatpickr-prev-month.flatpickr-prev-month,\\n.flatpickr-next-month.flatpickr-prev-month {\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        */\\n  left: 0;\\n/*\\n        /*rtl:end:ignore*/\\n/*\\n        */\\n}\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        /*rtl:end:ignore*/\\n.flatpickr-prev-month.flatpickr-next-month,\\n.flatpickr-next-month.flatpickr-next-month {\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        */\\n  right: 0;\\n/*\\n        /*rtl:end:ignore*/\\n/*\\n        */\\n}\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        /*rtl:end:ignore*/\\n.flatpickr-prev-month:hover,\\n.flatpickr-next-month:hover {\\n  color: #959ea9;\\n}\\n.flatpickr-prev-month:hover svg,\\n.flatpickr-next-month:hover svg {\\n  fill: #f64747;\\n}\\n.flatpickr-prev-month svg,\\n.flatpickr-next-month svg {\\n  width: 14px;\\n}\\n.flatpickr-prev-month svg path,\\n.flatpickr-next-month svg path {\\n  -webkit-transition: fill 0.1s;\\n  transition: fill 0.1s;\\n  fill: inherit;\\n}\\n.numInputWrapper {\\n  position: relative;\\n  height: auto;\\n}\\n.numInputWrapper input,\\n.numInputWrapper span {\\n  display: inline-block;\\n}\\n.numInputWrapper input {\\n  width: 100%;\\n}\\n.numInputWrapper span {\\n  position: absolute;\\n  right: 0;\\n  width: 14px;\\n  padding: 0 4px 0 2px;\\n  height: 50%;\\n  line-height: 50%;\\n  opacity: 0;\\n  cursor: pointer;\\n  border: 1px solid rgba(57,57,57,0.05);\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.numInputWrapper span:hover {\\n  background: rgba(0,0,0,0.1);\\n}\\n.numInputWrapper span:active {\\n  background: rgba(0,0,0,0.2);\\n}\\n.numInputWrapper span:after {\\n  display: block;\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 33%;\\n}\\n.numInputWrapper span.arrowUp {\\n  top: 0;\\n  border-bottom: 0;\\n}\\n.numInputWrapper span.arrowUp:after {\\n  border-left: 4px solid transparent;\\n  border-right: 4px solid transparent;\\n  border-bottom: 4px solid rgba(57,57,57,0.6);\\n}\\n.numInputWrapper span.arrowDown {\\n  top: 50%;\\n}\\n.numInputWrapper span.arrowDown:after {\\n  border-left: 4px solid transparent;\\n  border-right: 4px solid transparent;\\n  border-top: 4px solid rgba(57,57,57,0.6);\\n}\\n.numInputWrapper span svg {\\n  width: inherit;\\n  height: auto;\\n}\\n.numInputWrapper span svg path {\\n  fill: rgba(0,0,0,0.5);\\n}\\n.numInputWrapper:hover {\\n  background: rgba(0,0,0,0.05);\\n}\\n.numInputWrapper:hover span {\\n  opacity: 1;\\n}\\n.flatpickr-current-month {\\n  font-size: 135%;\\n  line-height: inherit;\\n  font-weight: 300;\\n  color: inherit;\\n  position: absolute;\\n  width: 75%;\\n  left: 12.5%;\\n  padding: 6.16px 0 0 0;\\n  line-height: 1;\\n  height: 28px;\\n  display: inline-block;\\n  text-align: center;\\n  -webkit-transform: translate3d(0px, 0px, 0px);\\n          transform: translate3d(0px, 0px, 0px);\\n}\\n.flatpickr-current-month.slideLeft {\\n  -webkit-transform: translate3d(-100%, 0px, 0px);\\n          transform: translate3d(-100%, 0px, 0px);\\n  -webkit-animation: fpFadeOut 400ms ease, fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms ease, fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideLeftNew {\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n  -webkit-animation: fpFadeIn 400ms ease, fpSlideLeftNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms ease, fpSlideLeftNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideRight {\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n  -webkit-animation: fpFadeOut 400ms ease, fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms ease, fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideRightNew {\\n  -webkit-transform: translate3d(0, 0, 0px);\\n          transform: translate3d(0, 0, 0px);\\n  -webkit-animation: fpFadeIn 400ms ease, fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms ease, fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month span.cur-month {\\n  font-family: inherit;\\n  font-weight: 700;\\n  color: inherit;\\n  display: inline-block;\\n  margin-left: 0.5ch;\\n  padding: 0;\\n}\\n.flatpickr-current-month span.cur-month:hover {\\n  background: rgba(0,0,0,0.05);\\n}\\n.flatpickr-current-month .numInputWrapper {\\n  width: 6ch;\\n  width: 7ch\\\\0;\\n  display: inline-block;\\n}\\n.flatpickr-current-month .numInputWrapper span.arrowUp:after {\\n  border-bottom-color: rgba(0,0,0,0.9);\\n}\\n.flatpickr-current-month .numInputWrapper span.arrowDown:after {\\n  border-top-color: rgba(0,0,0,0.9);\\n}\\n.flatpickr-current-month input.cur-year {\\n  background: transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: inherit;\\n  cursor: default;\\n  padding: 0 0 0 0.5ch;\\n  margin: 0;\\n  display: inline-block;\\n  font-size: inherit;\\n  font-family: inherit;\\n  font-weight: 300;\\n  line-height: inherit;\\n  height: initial;\\n  border: 0;\\n  border-radius: 0;\\n  vertical-align: initial;\\n}\\n.flatpickr-current-month input.cur-year:focus {\\n  outline: 0;\\n}\\n.flatpickr-current-month input.cur-year[disabled],\\n.flatpickr-current-month input.cur-year[disabled]:hover {\\n  font-size: 100%;\\n  color: rgba(0,0,0,0.5);\\n  background: transparent;\\n  pointer-events: none;\\n}\\n.flatpickr-weekdays {\\n  background: transparent;\\n  text-align: center;\\n  overflow: hidden;\\n  width: 100%;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n  -webkit-align-items: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  height: 28px;\\n}\\nspan.flatpickr-weekday {\\n  cursor: default;\\n  font-size: 90%;\\n  background: transparent;\\n  color: rgba(0,0,0,0.54);\\n  line-height: 1;\\n  margin: 0;\\n  text-align: center;\\n  display: block;\\n  -webkit-box-flex: 1;\\n  -webkit-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  font-weight: bolder;\\n}\\n.dayContainer,\\n.flatpickr-weeks {\\n  padding: 1px 0 0 0;\\n}\\n.flatpickr-days {\\n  position: relative;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  width: 307.875px;\\n}\\n.flatpickr-days:focus {\\n  outline: 0;\\n}\\n.dayContainer {\\n  padding: 0;\\n  outline: 0;\\n  text-align: left;\\n  width: 307.875px;\\n  min-width: 307.875px;\\n  max-width: 307.875px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  display: inline-block;\\n  display: -ms-flexbox;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-wrap: wrap;\\n          flex-wrap: wrap;\\n  -ms-flex-wrap: wrap;\\n  -ms-flex-pack: justify;\\n  -webkit-justify-content: space-around;\\n          justify-content: space-around;\\n  -webkit-transform: translate3d(0px, 0px, 0px);\\n          transform: translate3d(0px, 0px, 0px);\\n  opacity: 1;\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeft {\\n  -webkit-animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeft,\\n.flatpickr-calendar.animate .dayContainer.slideLeftNew {\\n  -webkit-transform: translate3d(-100%, 0px, 0px);\\n          transform: translate3d(-100%, 0px, 0px);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeftNew {\\n  -webkit-animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideRight {\\n  -webkit-animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideRightNew {\\n  -webkit-animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-day {\\n  background: none;\\n  border: 1px solid transparent;\\n  border-radius: 150px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: #393939;\\n  cursor: pointer;\\n  font-weight: 400;\\n  width: 14.2857143%;\\n  -webkit-flex-basis: 14.2857143%;\\n      -ms-flex-preferred-size: 14.2857143%;\\n          flex-basis: 14.2857143%;\\n  max-width: 39px;\\n  height: 39px;\\n  line-height: 39px;\\n  margin: 0;\\n  display: inline-block;\\n  position: relative;\\n  -webkit-box-pack: center;\\n  -webkit-justify-content: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  text-align: center;\\n}\\n.flatpickr-day.inRange,\\n.flatpickr-day.prevMonthDay.inRange,\\n.flatpickr-day.nextMonthDay.inRange,\\n.flatpickr-day.today.inRange,\\n.flatpickr-day.prevMonthDay.today.inRange,\\n.flatpickr-day.nextMonthDay.today.inRange,\\n.flatpickr-day:hover,\\n.flatpickr-day.prevMonthDay:hover,\\n.flatpickr-day.nextMonthDay:hover,\\n.flatpickr-day:focus,\\n.flatpickr-day.prevMonthDay:focus,\\n.flatpickr-day.nextMonthDay:focus {\\n  cursor: pointer;\\n  outline: 0;\\n  background: #e6e6e6;\\n  border-color: #e6e6e6;\\n}\\n.flatpickr-day.today {\\n  border-color: #959ea9;\\n}\\n.flatpickr-day.today:hover,\\n.flatpickr-day.today:focus {\\n  border-color: #959ea9;\\n  background: #959ea9;\\n  color: #fff;\\n}\\n.flatpickr-day.selected,\\n.flatpickr-day.startRange,\\n.flatpickr-day.endRange,\\n.flatpickr-day.selected.inRange,\\n.flatpickr-day.startRange.inRange,\\n.flatpickr-day.endRange.inRange,\\n.flatpickr-day.selected:focus,\\n.flatpickr-day.startRange:focus,\\n.flatpickr-day.endRange:focus,\\n.flatpickr-day.selected:hover,\\n.flatpickr-day.startRange:hover,\\n.flatpickr-day.endRange:hover,\\n.flatpickr-day.selected.prevMonthDay,\\n.flatpickr-day.startRange.prevMonthDay,\\n.flatpickr-day.endRange.prevMonthDay,\\n.flatpickr-day.selected.nextMonthDay,\\n.flatpickr-day.startRange.nextMonthDay,\\n.flatpickr-day.endRange.nextMonthDay {\\n  background: #569ff7;\\n  -webkit-box-shadow: none;\\n          box-shadow: none;\\n  color: #fff;\\n  border-color: #569ff7;\\n}\\n.flatpickr-day.selected.startRange,\\n.flatpickr-day.startRange.startRange,\\n.flatpickr-day.endRange.startRange {\\n  border-radius: 50px 0 0 50px;\\n}\\n.flatpickr-day.selected.endRange,\\n.flatpickr-day.startRange.endRange,\\n.flatpickr-day.endRange.endRange {\\n  border-radius: 0 50px 50px 0;\\n}\\n.flatpickr-day.selected.startRange + .endRange,\\n.flatpickr-day.startRange.startRange + .endRange,\\n.flatpickr-day.endRange.startRange + .endRange {\\n  -webkit-box-shadow: -10px 0 0 #569ff7;\\n          box-shadow: -10px 0 0 #569ff7;\\n}\\n.flatpickr-day.selected.startRange.endRange,\\n.flatpickr-day.startRange.startRange.endRange,\\n.flatpickr-day.endRange.startRange.endRange {\\n  border-radius: 50px;\\n}\\n.flatpickr-day.inRange {\\n  border-radius: 0;\\n  -webkit-box-shadow: -5px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\\n          box-shadow: -5px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\\n}\\n.flatpickr-day.disabled,\\n.flatpickr-day.disabled:hover {\\n  pointer-events: none;\\n}\\n.flatpickr-day.disabled,\\n.flatpickr-day.disabled:hover,\\n.flatpickr-day.prevMonthDay,\\n.flatpickr-day.nextMonthDay,\\n.flatpickr-day.notAllowed,\\n.flatpickr-day.notAllowed.prevMonthDay,\\n.flatpickr-day.notAllowed.nextMonthDay {\\n  color: rgba(57,57,57,0.3);\\n  background: transparent;\\n  border-color: transparent;\\n  cursor: default;\\n}\\n.flatpickr-day.week.selected {\\n  border-radius: 0;\\n  -webkit-box-shadow: -5px 0 0 #569ff7, 5px 0 0 #569ff7;\\n          box-shadow: -5px 0 0 #569ff7, 5px 0 0 #569ff7;\\n}\\n.rangeMode .flatpickr-day {\\n  margin-top: 1px;\\n}\\n.flatpickr-weekwrapper {\\n  display: inline-block;\\n  float: left;\\n}\\n.flatpickr-weekwrapper .flatpickr-weeks {\\n  padding: 0 12px;\\n  -webkit-box-shadow: 1px 0 0 #e6e6e6;\\n          box-shadow: 1px 0 0 #e6e6e6;\\n}\\n.flatpickr-weekwrapper .flatpickr-weekday {\\n  float: none;\\n  width: 100%;\\n  line-height: 28px;\\n}\\n.flatpickr-weekwrapper span.flatpickr-day {\\n  display: block;\\n  width: 100%;\\n  max-width: none;\\n}\\n.flatpickr-innerContainer {\\n  display: block;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  overflow: hidden;\\n}\\n.flatpickr-rContainer {\\n  display: inline-block;\\n  padding: 0;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.flatpickr-time {\\n  text-align: center;\\n  outline: 0;\\n  display: block;\\n  height: 0;\\n  line-height: 40px;\\n  max-height: 40px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.flatpickr-time:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.flatpickr-time .numInputWrapper {\\n  -webkit-box-flex: 1;\\n  -webkit-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  width: 40%;\\n  height: 40px;\\n  float: left;\\n}\\n.flatpickr-time .numInputWrapper span.arrowUp:after {\\n  border-bottom-color: #393939;\\n}\\n.flatpickr-time .numInputWrapper span.arrowDown:after {\\n  border-top-color: #393939;\\n}\\n.flatpickr-time.hasSeconds .numInputWrapper {\\n  width: 26%;\\n}\\n.flatpickr-time.time24hr .numInputWrapper {\\n  width: 49%;\\n}\\n.flatpickr-time input {\\n  background: transparent;\\n  -webkit-box-shadow: none;\\n          box-shadow: none;\\n  border: 0;\\n  border-radius: 0;\\n  text-align: center;\\n  margin: 0;\\n  padding: 0;\\n  height: inherit;\\n  line-height: inherit;\\n  cursor: pointer;\\n  color: #393939;\\n  font-size: 14px;\\n  position: relative;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.flatpickr-time input.flatpickr-hour {\\n  font-weight: bold;\\n}\\n.flatpickr-time input.flatpickr-minute,\\n.flatpickr-time input.flatpickr-second {\\n  font-weight: 400;\\n}\\n.flatpickr-time input:focus {\\n  outline: 0;\\n  border: 0;\\n}\\n.flatpickr-time .flatpickr-time-separator,\\n.flatpickr-time .flatpickr-am-pm {\\n  height: inherit;\\n  display: inline-block;\\n  float: left;\\n  line-height: inherit;\\n  color: #393939;\\n  font-weight: bold;\\n  width: 2%;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  -webkit-align-self: center;\\n      -ms-flex-item-align: center;\\n          align-self: center;\\n}\\n.flatpickr-time .flatpickr-am-pm {\\n  outline: 0;\\n  width: 18%;\\n  cursor: pointer;\\n  text-align: center;\\n  font-weight: 400;\\n}\\n.flatpickr-time .flatpickr-am-pm:hover,\\n.flatpickr-time .flatpickr-am-pm:focus {\\n  background: #f0f0f0;\\n}\\n.flatpickr-input[readonly] {\\n  cursor: pointer;\\n}\\n@-webkit-keyframes fpFadeInDown {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(0, -20px, 0);\\n            transform: translate3d(0, -20px, 0);\\n  }\\n  to {\\n    opacity: 1;\\n    -webkit-transform: translate3d(0, 0, 0);\\n            transform: translate3d(0, 0, 0);\\n  }\\n}\\n@keyframes fpFadeInDown {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(0, -20px, 0);\\n            transform: translate3d(0, -20px, 0);\\n  }\\n  to {\\n    opacity: 1;\\n    -webkit-transform: translate3d(0, 0, 0);\\n            transform: translate3d(0, 0, 0);\\n  }\\n}\\n@-webkit-keyframes fpSlideLeft {\\n  from {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(-100%, 0px, 0px);\\n            transform: translate3d(-100%, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideLeft {\\n  from {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(-100%, 0px, 0px);\\n            transform: translate3d(-100%, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideLeftNew {\\n  from {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideLeftNew {\\n  from {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideRight {\\n  from {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideRight {\\n  from {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideRightNew {\\n  from {\\n    -webkit-transform: translate3d(-100%, 0, 0px);\\n            transform: translate3d(-100%, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n}\\n@keyframes fpSlideRightNew {\\n  from {\\n    -webkit-transform: translate3d(-100%, 0, 0px);\\n            transform: translate3d(-100%, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n}\\n@-webkit-keyframes fpFadeOut {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n}\\n@keyframes fpFadeOut {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n}\\n@-webkit-keyframes fpFadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n@keyframes fpFadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\"; });\r\ndefine('text!flatpickr/themes/dark.css', ['module'], function(module) { module.exports = \".flatpickr-calendar {\\n  background: transparent;\\n  overflow: hidden;\\n  max-height: 0;\\n  opacity: 0;\\n  visibility: hidden;\\n  text-align: center;\\n  padding: 0;\\n  -webkit-animation: none;\\n          animation: none;\\n  direction: ltr;\\n  border: 0;\\n  font-size: 14px;\\n  line-height: 24px;\\n  border-radius: 5px;\\n  position: absolute;\\n  width: 307.875px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -ms-touch-action: manipulation;\\n      touch-action: manipulation;\\n  background: rgba(63,68,88,0.98);\\n  -webkit-box-shadow: 1px 0 0 #3f4458, -1px 0 0 #3f4458, 0 1px 0 #3f4458, 0 -1px 0 #3f4458, 0 3px 13px rgba(0,0,0,0.08);\\n          box-shadow: 1px 0 0 #3f4458, -1px 0 0 #3f4458, 0 1px 0 #3f4458, 0 -1px 0 #3f4458, 0 3px 13px rgba(0,0,0,0.08);\\n}\\n.flatpickr-calendar.open,\\n.flatpickr-calendar.inline {\\n  opacity: 1;\\n  visibility: visible;\\n  overflow: visible;\\n  max-height: 640px;\\n}\\n.flatpickr-calendar.open {\\n  display: inline-block;\\n  z-index: 99999;\\n}\\n.flatpickr-calendar.animate.open {\\n  -webkit-animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.inline {\\n  display: block;\\n  position: relative;\\n  top: 2px;\\n}\\n.flatpickr-calendar.static {\\n  position: absolute;\\n  top: calc(100% + 2px);\\n}\\n.flatpickr-calendar.static.open {\\n  z-index: 999;\\n  display: block;\\n}\\n.flatpickr-calendar.hasWeeks {\\n  width: auto;\\n}\\n.flatpickr-calendar .hasWeeks .dayContainer,\\n.flatpickr-calendar .hasTime .dayContainer {\\n  border-bottom: 0;\\n  border-bottom-right-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\n.flatpickr-calendar .hasWeeks .dayContainer {\\n  border-left: 0;\\n}\\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\\n  height: 40px;\\n  border-top: 1px solid #3f4458;\\n}\\n.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {\\n  height: auto;\\n}\\n.flatpickr-calendar:before,\\n.flatpickr-calendar:after {\\n  position: absolute;\\n  display: block;\\n  pointer-events: none;\\n  border: solid transparent;\\n  content: '';\\n  height: 0;\\n  width: 0;\\n  left: 22px;\\n}\\n.flatpickr-calendar.rightMost:before,\\n.flatpickr-calendar.rightMost:after {\\n  left: auto;\\n  right: 22px;\\n}\\n.flatpickr-calendar:before {\\n  border-width: 5px;\\n  margin: 0 -5px;\\n}\\n.flatpickr-calendar:after {\\n  border-width: 4px;\\n  margin: 0 -4px;\\n}\\n.flatpickr-calendar.arrowTop:before,\\n.flatpickr-calendar.arrowTop:after {\\n  bottom: 100%;\\n}\\n.flatpickr-calendar.arrowTop:before {\\n  border-bottom-color: #3f4458;\\n}\\n.flatpickr-calendar.arrowTop:after {\\n  border-bottom-color: rgba(63,68,88,0.98);\\n}\\n.flatpickr-calendar.arrowBottom:before,\\n.flatpickr-calendar.arrowBottom:after {\\n  top: 100%;\\n}\\n.flatpickr-calendar.arrowBottom:before {\\n  border-top-color: #3f4458;\\n}\\n.flatpickr-calendar.arrowBottom:after {\\n  border-top-color: rgba(63,68,88,0.98);\\n}\\n.flatpickr-calendar:focus {\\n  outline: 0;\\n}\\n.flatpickr-wrapper {\\n  position: relative;\\n  display: inline-block;\\n}\\n.flatpickr-month {\\n  background: transparent;\\n  color: #fff;\\n  fill: #fff;\\n  height: 28px;\\n  line-height: 1;\\n  text-align: center;\\n  position: relative;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  overflow: hidden;\\n}\\n.flatpickr-prev-month,\\n.flatpickr-next-month {\\n  text-decoration: none;\\n  cursor: pointer;\\n  position: absolute;\\n  top: 0px;\\n  line-height: 16px;\\n  height: 28px;\\n  padding: 10px calc(3.57% - 1.5px);\\n  z-index: 3;\\n}\\n.flatpickr-prev-month i,\\n.flatpickr-next-month i {\\n  position: relative;\\n}\\n.flatpickr-prev-month.flatpickr-prev-month,\\n.flatpickr-next-month.flatpickr-prev-month {\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        */\\n  left: 0;\\n/*\\n        /*rtl:end:ignore*/\\n/*\\n        */\\n}\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        /*rtl:end:ignore*/\\n.flatpickr-prev-month.flatpickr-next-month,\\n.flatpickr-next-month.flatpickr-next-month {\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        */\\n  right: 0;\\n/*\\n        /*rtl:end:ignore*/\\n/*\\n        */\\n}\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        /*rtl:end:ignore*/\\n.flatpickr-prev-month:hover,\\n.flatpickr-next-month:hover {\\n  color: #eee;\\n}\\n.flatpickr-prev-month:hover svg,\\n.flatpickr-next-month:hover svg {\\n  fill: #f64747;\\n}\\n.flatpickr-prev-month svg,\\n.flatpickr-next-month svg {\\n  width: 14px;\\n}\\n.flatpickr-prev-month svg path,\\n.flatpickr-next-month svg path {\\n  -webkit-transition: fill 0.1s;\\n  transition: fill 0.1s;\\n  fill: inherit;\\n}\\n.numInputWrapper {\\n  position: relative;\\n  height: auto;\\n}\\n.numInputWrapper input,\\n.numInputWrapper span {\\n  display: inline-block;\\n}\\n.numInputWrapper input {\\n  width: 100%;\\n}\\n.numInputWrapper span {\\n  position: absolute;\\n  right: 0;\\n  width: 14px;\\n  padding: 0 4px 0 2px;\\n  height: 50%;\\n  line-height: 50%;\\n  opacity: 0;\\n  cursor: pointer;\\n  border: 1px solid rgba(255,255,255,0.05);\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.numInputWrapper span:hover {\\n  background: rgba(192,187,167,0.1);\\n}\\n.numInputWrapper span:active {\\n  background: rgba(192,187,167,0.2);\\n}\\n.numInputWrapper span:after {\\n  display: block;\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 33%;\\n}\\n.numInputWrapper span.arrowUp {\\n  top: 0;\\n  border-bottom: 0;\\n}\\n.numInputWrapper span.arrowUp:after {\\n  border-left: 4px solid transparent;\\n  border-right: 4px solid transparent;\\n  border-bottom: 4px solid rgba(255,255,255,0.6);\\n}\\n.numInputWrapper span.arrowDown {\\n  top: 50%;\\n}\\n.numInputWrapper span.arrowDown:after {\\n  border-left: 4px solid transparent;\\n  border-right: 4px solid transparent;\\n  border-top: 4px solid rgba(255,255,255,0.6);\\n}\\n.numInputWrapper span svg {\\n  width: inherit;\\n  height: auto;\\n}\\n.numInputWrapper span svg path {\\n  fill: rgba(255,255,255,0.5);\\n}\\n.numInputWrapper:hover {\\n  background: rgba(192,187,167,0.05);\\n}\\n.numInputWrapper:hover span {\\n  opacity: 1;\\n}\\n.flatpickr-current-month {\\n  font-size: 135%;\\n  line-height: inherit;\\n  font-weight: 300;\\n  color: inherit;\\n  position: absolute;\\n  width: 75%;\\n  left: 12.5%;\\n  padding: 6.16px 0 0 0;\\n  line-height: 1;\\n  height: 28px;\\n  display: inline-block;\\n  text-align: center;\\n  -webkit-transform: translate3d(0px, 0px, 0px);\\n          transform: translate3d(0px, 0px, 0px);\\n}\\n.flatpickr-current-month.slideLeft {\\n  -webkit-transform: translate3d(-100%, 0px, 0px);\\n          transform: translate3d(-100%, 0px, 0px);\\n  -webkit-animation: fpFadeOut 400ms ease, fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms ease, fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideLeftNew {\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n  -webkit-animation: fpFadeIn 400ms ease, fpSlideLeftNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms ease, fpSlideLeftNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideRight {\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n  -webkit-animation: fpFadeOut 400ms ease, fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms ease, fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideRightNew {\\n  -webkit-transform: translate3d(0, 0, 0px);\\n          transform: translate3d(0, 0, 0px);\\n  -webkit-animation: fpFadeIn 400ms ease, fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms ease, fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month span.cur-month {\\n  font-family: inherit;\\n  font-weight: 700;\\n  color: inherit;\\n  display: inline-block;\\n  margin-left: 0.5ch;\\n  padding: 0;\\n}\\n.flatpickr-current-month span.cur-month:hover {\\n  background: rgba(192,187,167,0.05);\\n}\\n.flatpickr-current-month .numInputWrapper {\\n  width: 6ch;\\n  width: 7ch\\\\0;\\n  display: inline-block;\\n}\\n.flatpickr-current-month .numInputWrapper span.arrowUp:after {\\n  border-bottom-color: #fff;\\n}\\n.flatpickr-current-month .numInputWrapper span.arrowDown:after {\\n  border-top-color: #fff;\\n}\\n.flatpickr-current-month input.cur-year {\\n  background: transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: inherit;\\n  cursor: default;\\n  padding: 0 0 0 0.5ch;\\n  margin: 0;\\n  display: inline-block;\\n  font-size: inherit;\\n  font-family: inherit;\\n  font-weight: 300;\\n  line-height: inherit;\\n  height: initial;\\n  border: 0;\\n  border-radius: 0;\\n  vertical-align: initial;\\n}\\n.flatpickr-current-month input.cur-year:focus {\\n  outline: 0;\\n}\\n.flatpickr-current-month input.cur-year[disabled],\\n.flatpickr-current-month input.cur-year[disabled]:hover {\\n  font-size: 100%;\\n  color: rgba(255,255,255,0.5);\\n  background: transparent;\\n  pointer-events: none;\\n}\\n.flatpickr-weekdays {\\n  background: transparent;\\n  text-align: center;\\n  overflow: hidden;\\n  width: 100%;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n  -webkit-align-items: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  height: 28px;\\n}\\nspan.flatpickr-weekday {\\n  cursor: default;\\n  font-size: 90%;\\n  background: transparent;\\n  color: #fff;\\n  line-height: 1;\\n  margin: 0;\\n  text-align: center;\\n  display: block;\\n  -webkit-box-flex: 1;\\n  -webkit-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  font-weight: bolder;\\n}\\n.dayContainer,\\n.flatpickr-weeks {\\n  padding: 1px 0 0 0;\\n}\\n.flatpickr-days {\\n  position: relative;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  width: 307.875px;\\n}\\n.flatpickr-days:focus {\\n  outline: 0;\\n}\\n.dayContainer {\\n  padding: 0;\\n  outline: 0;\\n  text-align: left;\\n  width: 307.875px;\\n  min-width: 307.875px;\\n  max-width: 307.875px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  display: inline-block;\\n  display: -ms-flexbox;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-wrap: wrap;\\n          flex-wrap: wrap;\\n  -ms-flex-wrap: wrap;\\n  -ms-flex-pack: justify;\\n  -webkit-justify-content: space-around;\\n          justify-content: space-around;\\n  -webkit-transform: translate3d(0px, 0px, 0px);\\n          transform: translate3d(0px, 0px, 0px);\\n  opacity: 1;\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeft {\\n  -webkit-animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeft,\\n.flatpickr-calendar.animate .dayContainer.slideLeftNew {\\n  -webkit-transform: translate3d(-100%, 0px, 0px);\\n          transform: translate3d(-100%, 0px, 0px);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeftNew {\\n  -webkit-animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideRight {\\n  -webkit-animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideRightNew {\\n  -webkit-animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-day {\\n  background: none;\\n  border: 1px solid transparent;\\n  border-radius: 150px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: rgba(255,255,255,0.95);\\n  cursor: pointer;\\n  font-weight: 400;\\n  width: 14.2857143%;\\n  -webkit-flex-basis: 14.2857143%;\\n      -ms-flex-preferred-size: 14.2857143%;\\n          flex-basis: 14.2857143%;\\n  max-width: 39px;\\n  height: 39px;\\n  line-height: 39px;\\n  margin: 0;\\n  display: inline-block;\\n  position: relative;\\n  -webkit-box-pack: center;\\n  -webkit-justify-content: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  text-align: center;\\n}\\n.flatpickr-day.inRange,\\n.flatpickr-day.prevMonthDay.inRange,\\n.flatpickr-day.nextMonthDay.inRange,\\n.flatpickr-day.today.inRange,\\n.flatpickr-day.prevMonthDay.today.inRange,\\n.flatpickr-day.nextMonthDay.today.inRange,\\n.flatpickr-day:hover,\\n.flatpickr-day.prevMonthDay:hover,\\n.flatpickr-day.nextMonthDay:hover,\\n.flatpickr-day:focus,\\n.flatpickr-day.prevMonthDay:focus,\\n.flatpickr-day.nextMonthDay:focus {\\n  cursor: pointer;\\n  outline: 0;\\n  background: rgba(100,108,140,0.98);\\n  border-color: rgba(100,108,140,0.98);\\n}\\n.flatpickr-day.today {\\n  border-color: #eee;\\n}\\n.flatpickr-day.today:hover,\\n.flatpickr-day.today:focus {\\n  border-color: #eee;\\n  background: #eee;\\n  color: #3f4458;\\n}\\n.flatpickr-day.selected,\\n.flatpickr-day.startRange,\\n.flatpickr-day.endRange,\\n.flatpickr-day.selected.inRange,\\n.flatpickr-day.startRange.inRange,\\n.flatpickr-day.endRange.inRange,\\n.flatpickr-day.selected:focus,\\n.flatpickr-day.startRange:focus,\\n.flatpickr-day.endRange:focus,\\n.flatpickr-day.selected:hover,\\n.flatpickr-day.startRange:hover,\\n.flatpickr-day.endRange:hover,\\n.flatpickr-day.selected.prevMonthDay,\\n.flatpickr-day.startRange.prevMonthDay,\\n.flatpickr-day.endRange.prevMonthDay,\\n.flatpickr-day.selected.nextMonthDay,\\n.flatpickr-day.startRange.nextMonthDay,\\n.flatpickr-day.endRange.nextMonthDay {\\n  background: #80cbc4;\\n  -webkit-box-shadow: none;\\n          box-shadow: none;\\n  color: #fff;\\n  border-color: #80cbc4;\\n}\\n.flatpickr-day.selected.startRange,\\n.flatpickr-day.startRange.startRange,\\n.flatpickr-day.endRange.startRange {\\n  border-radius: 50px 0 0 50px;\\n}\\n.flatpickr-day.selected.endRange,\\n.flatpickr-day.startRange.endRange,\\n.flatpickr-day.endRange.endRange {\\n  border-radius: 0 50px 50px 0;\\n}\\n.flatpickr-day.selected.startRange + .endRange,\\n.flatpickr-day.startRange.startRange + .endRange,\\n.flatpickr-day.endRange.startRange + .endRange {\\n  -webkit-box-shadow: -10px 0 0 #80cbc4;\\n          box-shadow: -10px 0 0 #80cbc4;\\n}\\n.flatpickr-day.selected.startRange.endRange,\\n.flatpickr-day.startRange.startRange.endRange,\\n.flatpickr-day.endRange.startRange.endRange {\\n  border-radius: 50px;\\n}\\n.flatpickr-day.inRange {\\n  border-radius: 0;\\n  -webkit-box-shadow: -5px 0 0 rgba(100,108,140,0.98), 5px 0 0 rgba(100,108,140,0.98);\\n          box-shadow: -5px 0 0 rgba(100,108,140,0.98), 5px 0 0 rgba(100,108,140,0.98);\\n}\\n.flatpickr-day.disabled,\\n.flatpickr-day.disabled:hover {\\n  pointer-events: none;\\n}\\n.flatpickr-day.disabled,\\n.flatpickr-day.disabled:hover,\\n.flatpickr-day.prevMonthDay,\\n.flatpickr-day.nextMonthDay,\\n.flatpickr-day.notAllowed,\\n.flatpickr-day.notAllowed.prevMonthDay,\\n.flatpickr-day.notAllowed.nextMonthDay {\\n  color: rgba(255,255,255,0.3);\\n  background: transparent;\\n  border-color: transparent;\\n  cursor: default;\\n}\\n.flatpickr-day.week.selected {\\n  border-radius: 0;\\n  -webkit-box-shadow: -5px 0 0 #80cbc4, 5px 0 0 #80cbc4;\\n          box-shadow: -5px 0 0 #80cbc4, 5px 0 0 #80cbc4;\\n}\\n.rangeMode .flatpickr-day {\\n  margin-top: 1px;\\n}\\n.flatpickr-weekwrapper {\\n  display: inline-block;\\n  float: left;\\n}\\n.flatpickr-weekwrapper .flatpickr-weeks {\\n  padding: 0 12px;\\n  -webkit-box-shadow: 1px 0 0 #3f4458;\\n          box-shadow: 1px 0 0 #3f4458;\\n}\\n.flatpickr-weekwrapper .flatpickr-weekday {\\n  float: none;\\n  width: 100%;\\n  line-height: 28px;\\n}\\n.flatpickr-weekwrapper span.flatpickr-day {\\n  display: block;\\n  width: 100%;\\n  max-width: none;\\n}\\n.flatpickr-innerContainer {\\n  display: block;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  overflow: hidden;\\n}\\n.flatpickr-rContainer {\\n  display: inline-block;\\n  padding: 0;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.flatpickr-time {\\n  text-align: center;\\n  outline: 0;\\n  display: block;\\n  height: 0;\\n  line-height: 40px;\\n  max-height: 40px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.flatpickr-time:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.flatpickr-time .numInputWrapper {\\n  -webkit-box-flex: 1;\\n  -webkit-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  width: 40%;\\n  height: 40px;\\n  float: left;\\n}\\n.flatpickr-time .numInputWrapper span.arrowUp:after {\\n  border-bottom-color: rgba(255,255,255,0.95);\\n}\\n.flatpickr-time .numInputWrapper span.arrowDown:after {\\n  border-top-color: rgba(255,255,255,0.95);\\n}\\n.flatpickr-time.hasSeconds .numInputWrapper {\\n  width: 26%;\\n}\\n.flatpickr-time.time24hr .numInputWrapper {\\n  width: 49%;\\n}\\n.flatpickr-time input {\\n  background: transparent;\\n  -webkit-box-shadow: none;\\n          box-shadow: none;\\n  border: 0;\\n  border-radius: 0;\\n  text-align: center;\\n  margin: 0;\\n  padding: 0;\\n  height: inherit;\\n  line-height: inherit;\\n  cursor: pointer;\\n  color: rgba(255,255,255,0.95);\\n  font-size: 14px;\\n  position: relative;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.flatpickr-time input.flatpickr-hour {\\n  font-weight: bold;\\n}\\n.flatpickr-time input.flatpickr-minute,\\n.flatpickr-time input.flatpickr-second {\\n  font-weight: 400;\\n}\\n.flatpickr-time input:focus {\\n  outline: 0;\\n  border: 0;\\n}\\n.flatpickr-time .flatpickr-time-separator,\\n.flatpickr-time .flatpickr-am-pm {\\n  height: inherit;\\n  display: inline-block;\\n  float: left;\\n  line-height: inherit;\\n  color: rgba(255,255,255,0.95);\\n  font-weight: bold;\\n  width: 2%;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  -webkit-align-self: center;\\n      -ms-flex-item-align: center;\\n          align-self: center;\\n}\\n.flatpickr-time .flatpickr-am-pm {\\n  outline: 0;\\n  width: 18%;\\n  cursor: pointer;\\n  text-align: center;\\n  font-weight: 400;\\n}\\n.flatpickr-time .flatpickr-am-pm:hover,\\n.flatpickr-time .flatpickr-am-pm:focus {\\n  background: rgba(109,118,151,0.98);\\n}\\n.flatpickr-input[readonly] {\\n  cursor: pointer;\\n}\\n@-webkit-keyframes fpFadeInDown {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(0, -20px, 0);\\n            transform: translate3d(0, -20px, 0);\\n  }\\n  to {\\n    opacity: 1;\\n    -webkit-transform: translate3d(0, 0, 0);\\n            transform: translate3d(0, 0, 0);\\n  }\\n}\\n@keyframes fpFadeInDown {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(0, -20px, 0);\\n            transform: translate3d(0, -20px, 0);\\n  }\\n  to {\\n    opacity: 1;\\n    -webkit-transform: translate3d(0, 0, 0);\\n            transform: translate3d(0, 0, 0);\\n  }\\n}\\n@-webkit-keyframes fpSlideLeft {\\n  from {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(-100%, 0px, 0px);\\n            transform: translate3d(-100%, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideLeft {\\n  from {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(-100%, 0px, 0px);\\n            transform: translate3d(-100%, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideLeftNew {\\n  from {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideLeftNew {\\n  from {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideRight {\\n  from {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideRight {\\n  from {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideRightNew {\\n  from {\\n    -webkit-transform: translate3d(-100%, 0, 0px);\\n            transform: translate3d(-100%, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n}\\n@keyframes fpSlideRightNew {\\n  from {\\n    -webkit-transform: translate3d(-100%, 0, 0px);\\n            transform: translate3d(-100%, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n}\\n@-webkit-keyframes fpFadeOut {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n}\\n@keyframes fpFadeOut {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n}\\n@-webkit-keyframes fpFadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n@keyframes fpFadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\"; });\r\ndefine('text!flatpickr/themes/material_blue.css', ['module'], function(module) { module.exports = \".flatpickr-calendar {\\n  background: transparent;\\n  overflow: hidden;\\n  max-height: 0;\\n  opacity: 0;\\n  visibility: hidden;\\n  text-align: center;\\n  padding: 0;\\n  -webkit-animation: none;\\n          animation: none;\\n  direction: ltr;\\n  border: 0;\\n  font-size: 14px;\\n  line-height: 24px;\\n  border-radius: 5px;\\n  position: absolute;\\n  width: 307.875px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -ms-touch-action: manipulation;\\n      touch-action: manipulation;\\n  -webkit-box-shadow: 0 3px 13px rgba(0,0,0,0.08);\\n          box-shadow: 0 3px 13px rgba(0,0,0,0.08);\\n}\\n.flatpickr-calendar.open,\\n.flatpickr-calendar.inline {\\n  opacity: 1;\\n  visibility: visible;\\n  overflow: visible;\\n  max-height: 640px;\\n}\\n.flatpickr-calendar.open {\\n  display: inline-block;\\n  z-index: 99999;\\n}\\n.flatpickr-calendar.animate.open {\\n  -webkit-animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.inline {\\n  display: block;\\n  position: relative;\\n  top: 2px;\\n}\\n.flatpickr-calendar.static {\\n  position: absolute;\\n  top: calc(100% + 2px);\\n}\\n.flatpickr-calendar.static.open {\\n  z-index: 999;\\n  display: block;\\n}\\n.flatpickr-calendar.hasWeeks {\\n  width: auto;\\n}\\n.flatpickr-calendar .hasWeeks .dayContainer,\\n.flatpickr-calendar .hasTime .dayContainer {\\n  border-bottom: 0;\\n  border-bottom-right-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\n.flatpickr-calendar .hasWeeks .dayContainer {\\n  border-left: 0;\\n}\\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\\n  height: 40px;\\n  border-top: 1px solid rgba(72,72,72,0.2);\\n}\\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-innerContainer {\\n  border-bottom: 0;\\n}\\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\\n  border: 1px solid rgba(72,72,72,0.2);\\n}\\n.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {\\n  height: auto;\\n}\\n.flatpickr-calendar:before,\\n.flatpickr-calendar:after {\\n  position: absolute;\\n  display: block;\\n  pointer-events: none;\\n  border: solid transparent;\\n  content: '';\\n  height: 0;\\n  width: 0;\\n  left: 22px;\\n}\\n.flatpickr-calendar.rightMost:before,\\n.flatpickr-calendar.rightMost:after {\\n  left: auto;\\n  right: 22px;\\n}\\n.flatpickr-calendar:before {\\n  border-width: 5px;\\n  margin: 0 -5px;\\n}\\n.flatpickr-calendar:after {\\n  border-width: 4px;\\n  margin: 0 -4px;\\n}\\n.flatpickr-calendar.arrowTop:before,\\n.flatpickr-calendar.arrowTop:after {\\n  bottom: 100%;\\n}\\n.flatpickr-calendar.arrowTop:before {\\n  border-bottom-color: rgba(72,72,72,0.2);\\n}\\n.flatpickr-calendar.arrowTop:after {\\n  border-bottom-color: #42a5f5;\\n}\\n.flatpickr-calendar.arrowBottom:before,\\n.flatpickr-calendar.arrowBottom:after {\\n  top: 100%;\\n}\\n.flatpickr-calendar.arrowBottom:before {\\n  border-top-color: rgba(72,72,72,0.2);\\n}\\n.flatpickr-calendar.arrowBottom:after {\\n  border-top-color: #42a5f5;\\n}\\n.flatpickr-calendar:focus {\\n  outline: 0;\\n}\\n.flatpickr-wrapper {\\n  position: relative;\\n  display: inline-block;\\n}\\n.flatpickr-month {\\n  border-radius: 5px 5px 0 0;\\n  background: #42a5f5;\\n  color: #fff;\\n  fill: #fff;\\n  height: 28px;\\n  line-height: 1;\\n  text-align: center;\\n  position: relative;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  overflow: hidden;\\n}\\n.flatpickr-prev-month,\\n.flatpickr-next-month {\\n  text-decoration: none;\\n  cursor: pointer;\\n  position: absolute;\\n  top: 0px;\\n  line-height: 16px;\\n  height: 28px;\\n  padding: 10px calc(3.57% - 1.5px);\\n  z-index: 3;\\n}\\n.flatpickr-prev-month i,\\n.flatpickr-next-month i {\\n  position: relative;\\n}\\n.flatpickr-prev-month.flatpickr-prev-month,\\n.flatpickr-next-month.flatpickr-prev-month {\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        */\\n  left: 0;\\n/*\\n        /*rtl:end:ignore*/\\n/*\\n        */\\n}\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        /*rtl:end:ignore*/\\n.flatpickr-prev-month.flatpickr-next-month,\\n.flatpickr-next-month.flatpickr-next-month {\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        */\\n  right: 0;\\n/*\\n        /*rtl:end:ignore*/\\n/*\\n        */\\n}\\n/*\\n        /*rtl:begin:ignore*/\\n/*\\n        /*rtl:end:ignore*/\\n.flatpickr-prev-month:hover,\\n.flatpickr-next-month:hover {\\n  color: #bbb;\\n}\\n.flatpickr-prev-month:hover svg,\\n.flatpickr-next-month:hover svg {\\n  fill: #f64747;\\n}\\n.flatpickr-prev-month svg,\\n.flatpickr-next-month svg {\\n  width: 14px;\\n}\\n.flatpickr-prev-month svg path,\\n.flatpickr-next-month svg path {\\n  -webkit-transition: fill 0.1s;\\n  transition: fill 0.1s;\\n  fill: inherit;\\n}\\n.numInputWrapper {\\n  position: relative;\\n  height: auto;\\n}\\n.numInputWrapper input,\\n.numInputWrapper span {\\n  display: inline-block;\\n}\\n.numInputWrapper input {\\n  width: 100%;\\n}\\n.numInputWrapper span {\\n  position: absolute;\\n  right: 0;\\n  width: 14px;\\n  padding: 0 4px 0 2px;\\n  height: 50%;\\n  line-height: 50%;\\n  opacity: 0;\\n  cursor: pointer;\\n  border: 1px solid rgba(72,72,72,0.05);\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.numInputWrapper span:hover {\\n  background: rgba(0,0,0,0.1);\\n}\\n.numInputWrapper span:active {\\n  background: rgba(0,0,0,0.2);\\n}\\n.numInputWrapper span:after {\\n  display: block;\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 33%;\\n}\\n.numInputWrapper span.arrowUp {\\n  top: 0;\\n  border-bottom: 0;\\n}\\n.numInputWrapper span.arrowUp:after {\\n  border-left: 4px solid transparent;\\n  border-right: 4px solid transparent;\\n  border-bottom: 4px solid rgba(72,72,72,0.6);\\n}\\n.numInputWrapper span.arrowDown {\\n  top: 50%;\\n}\\n.numInputWrapper span.arrowDown:after {\\n  border-left: 4px solid transparent;\\n  border-right: 4px solid transparent;\\n  border-top: 4px solid rgba(72,72,72,0.6);\\n}\\n.numInputWrapper span svg {\\n  width: inherit;\\n  height: auto;\\n}\\n.numInputWrapper span svg path {\\n  fill: rgba(255,255,255,0.5);\\n}\\n.numInputWrapper:hover {\\n  background: rgba(0,0,0,0.05);\\n}\\n.numInputWrapper:hover span {\\n  opacity: 1;\\n}\\n.flatpickr-current-month {\\n  font-size: 135%;\\n  line-height: inherit;\\n  font-weight: 300;\\n  color: inherit;\\n  position: absolute;\\n  width: 75%;\\n  left: 12.5%;\\n  padding: 6.16px 0 0 0;\\n  line-height: 1;\\n  height: 28px;\\n  display: inline-block;\\n  text-align: center;\\n  -webkit-transform: translate3d(0px, 0px, 0px);\\n          transform: translate3d(0px, 0px, 0px);\\n}\\n.flatpickr-current-month.slideLeft {\\n  -webkit-transform: translate3d(-100%, 0px, 0px);\\n          transform: translate3d(-100%, 0px, 0px);\\n  -webkit-animation: fpFadeOut 400ms ease, fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms ease, fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideLeftNew {\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n  -webkit-animation: fpFadeIn 400ms ease, fpSlideLeftNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms ease, fpSlideLeftNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideRight {\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n  -webkit-animation: fpFadeOut 400ms ease, fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms ease, fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month.slideRightNew {\\n  -webkit-transform: translate3d(0, 0, 0px);\\n          transform: translate3d(0, 0, 0px);\\n  -webkit-animation: fpFadeIn 400ms ease, fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms ease, fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-current-month span.cur-month {\\n  font-family: inherit;\\n  font-weight: 700;\\n  color: inherit;\\n  display: inline-block;\\n  margin-left: 0.5ch;\\n  padding: 0;\\n}\\n.flatpickr-current-month span.cur-month:hover {\\n  background: rgba(0,0,0,0.05);\\n}\\n.flatpickr-current-month .numInputWrapper {\\n  width: 6ch;\\n  width: 7ch\\\\0;\\n  display: inline-block;\\n}\\n.flatpickr-current-month .numInputWrapper span.arrowUp:after {\\n  border-bottom-color: #fff;\\n}\\n.flatpickr-current-month .numInputWrapper span.arrowDown:after {\\n  border-top-color: #fff;\\n}\\n.flatpickr-current-month input.cur-year {\\n  background: transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: inherit;\\n  cursor: default;\\n  padding: 0 0 0 0.5ch;\\n  margin: 0;\\n  display: inline-block;\\n  font-size: inherit;\\n  font-family: inherit;\\n  font-weight: 300;\\n  line-height: inherit;\\n  height: initial;\\n  border: 0;\\n  border-radius: 0;\\n  vertical-align: initial;\\n}\\n.flatpickr-current-month input.cur-year:focus {\\n  outline: 0;\\n}\\n.flatpickr-current-month input.cur-year[disabled],\\n.flatpickr-current-month input.cur-year[disabled]:hover {\\n  font-size: 100%;\\n  color: rgba(255,255,255,0.5);\\n  background: transparent;\\n  pointer-events: none;\\n}\\n.flatpickr-weekdays {\\n  background: #42a5f5;\\n  text-align: center;\\n  overflow: hidden;\\n  width: 100%;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n  -webkit-align-items: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  height: 28px;\\n}\\nspan.flatpickr-weekday {\\n  cursor: default;\\n  font-size: 90%;\\n  background: #42a5f5;\\n  color: rgba(0,0,0,0.54);\\n  line-height: 1;\\n  margin: 0;\\n  text-align: center;\\n  display: block;\\n  -webkit-box-flex: 1;\\n  -webkit-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  font-weight: bolder;\\n}\\n.dayContainer,\\n.flatpickr-weeks {\\n  padding: 1px 0 0 0;\\n}\\n.flatpickr-days {\\n  position: relative;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  width: 307.875px;\\n  border-left: 1px solid rgba(72,72,72,0.2);\\n  border-right: 1px solid rgba(72,72,72,0.2);\\n}\\n.flatpickr-days:focus {\\n  outline: 0;\\n}\\n.dayContainer {\\n  padding: 0;\\n  outline: 0;\\n  text-align: left;\\n  width: 307.875px;\\n  min-width: 307.875px;\\n  max-width: 307.875px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  display: inline-block;\\n  display: -ms-flexbox;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-wrap: wrap;\\n          flex-wrap: wrap;\\n  -ms-flex-wrap: wrap;\\n  -ms-flex-pack: justify;\\n  -webkit-justify-content: space-around;\\n          justify-content: space-around;\\n  -webkit-transform: translate3d(0px, 0px, 0px);\\n          transform: translate3d(0px, 0px, 0px);\\n  opacity: 1;\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeft {\\n  -webkit-animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeft,\\n.flatpickr-calendar.animate .dayContainer.slideLeftNew {\\n  -webkit-transform: translate3d(-100%, 0px, 0px);\\n          transform: translate3d(-100%, 0px, 0px);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideLeftNew {\\n  -webkit-animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideLeft 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideRight {\\n  -webkit-animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeOut 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRight 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n  -webkit-transform: translate3d(100%, 0px, 0px);\\n          transform: translate3d(100%, 0px, 0px);\\n}\\n.flatpickr-calendar.animate .dayContainer.slideRightNew {\\n  -webkit-animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n          animation: fpFadeIn 400ms cubic-bezier(0.23, 1, 0.32, 1), fpSlideRightNew 400ms cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.flatpickr-day {\\n  background: none;\\n  border: 1px solid transparent;\\n  border-radius: 150px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: #484848;\\n  cursor: pointer;\\n  font-weight: 400;\\n  width: 14.2857143%;\\n  -webkit-flex-basis: 14.2857143%;\\n      -ms-flex-preferred-size: 14.2857143%;\\n          flex-basis: 14.2857143%;\\n  max-width: 39px;\\n  height: 39px;\\n  line-height: 39px;\\n  margin: 0;\\n  display: inline-block;\\n  position: relative;\\n  -webkit-box-pack: center;\\n  -webkit-justify-content: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  text-align: center;\\n}\\n.flatpickr-day.inRange,\\n.flatpickr-day.prevMonthDay.inRange,\\n.flatpickr-day.nextMonthDay.inRange,\\n.flatpickr-day.today.inRange,\\n.flatpickr-day.prevMonthDay.today.inRange,\\n.flatpickr-day.nextMonthDay.today.inRange,\\n.flatpickr-day:hover,\\n.flatpickr-day.prevMonthDay:hover,\\n.flatpickr-day.nextMonthDay:hover,\\n.flatpickr-day:focus,\\n.flatpickr-day.prevMonthDay:focus,\\n.flatpickr-day.nextMonthDay:focus {\\n  cursor: pointer;\\n  outline: 0;\\n  background: #e2e2e2;\\n  border-color: #e2e2e2;\\n}\\n.flatpickr-day.today {\\n  border-color: #bbb;\\n}\\n.flatpickr-day.today:hover,\\n.flatpickr-day.today:focus {\\n  border-color: #bbb;\\n  background: #bbb;\\n  color: #fff;\\n}\\n.flatpickr-day.selected,\\n.flatpickr-day.startRange,\\n.flatpickr-day.endRange,\\n.flatpickr-day.selected.inRange,\\n.flatpickr-day.startRange.inRange,\\n.flatpickr-day.endRange.inRange,\\n.flatpickr-day.selected:focus,\\n.flatpickr-day.startRange:focus,\\n.flatpickr-day.endRange:focus,\\n.flatpickr-day.selected:hover,\\n.flatpickr-day.startRange:hover,\\n.flatpickr-day.endRange:hover,\\n.flatpickr-day.selected.prevMonthDay,\\n.flatpickr-day.startRange.prevMonthDay,\\n.flatpickr-day.endRange.prevMonthDay,\\n.flatpickr-day.selected.nextMonthDay,\\n.flatpickr-day.startRange.nextMonthDay,\\n.flatpickr-day.endRange.nextMonthDay {\\n  background: #42a5f5;\\n  -webkit-box-shadow: none;\\n          box-shadow: none;\\n  color: #fff;\\n  border-color: #42a5f5;\\n}\\n.flatpickr-day.selected.startRange,\\n.flatpickr-day.startRange.startRange,\\n.flatpickr-day.endRange.startRange {\\n  border-radius: 50px 0 0 50px;\\n}\\n.flatpickr-day.selected.endRange,\\n.flatpickr-day.startRange.endRange,\\n.flatpickr-day.endRange.endRange {\\n  border-radius: 0 50px 50px 0;\\n}\\n.flatpickr-day.selected.startRange + .endRange,\\n.flatpickr-day.startRange.startRange + .endRange,\\n.flatpickr-day.endRange.startRange + .endRange {\\n  -webkit-box-shadow: -10px 0 0 #42a5f5;\\n          box-shadow: -10px 0 0 #42a5f5;\\n}\\n.flatpickr-day.selected.startRange.endRange,\\n.flatpickr-day.startRange.startRange.endRange,\\n.flatpickr-day.endRange.startRange.endRange {\\n  border-radius: 50px;\\n}\\n.flatpickr-day.inRange {\\n  border-radius: 0;\\n  -webkit-box-shadow: -5px 0 0 #e2e2e2, 5px 0 0 #e2e2e2;\\n          box-shadow: -5px 0 0 #e2e2e2, 5px 0 0 #e2e2e2;\\n}\\n.flatpickr-day.disabled,\\n.flatpickr-day.disabled:hover {\\n  pointer-events: none;\\n}\\n.flatpickr-day.disabled,\\n.flatpickr-day.disabled:hover,\\n.flatpickr-day.prevMonthDay,\\n.flatpickr-day.nextMonthDay,\\n.flatpickr-day.notAllowed,\\n.flatpickr-day.notAllowed.prevMonthDay,\\n.flatpickr-day.notAllowed.nextMonthDay {\\n  color: rgba(72,72,72,0.3);\\n  background: transparent;\\n  border-color: transparent;\\n  cursor: default;\\n}\\n.flatpickr-day.week.selected {\\n  border-radius: 0;\\n  -webkit-box-shadow: -5px 0 0 #42a5f5, 5px 0 0 #42a5f5;\\n          box-shadow: -5px 0 0 #42a5f5, 5px 0 0 #42a5f5;\\n}\\n.rangeMode .flatpickr-day {\\n  margin-top: 1px;\\n}\\n.flatpickr-weekwrapper {\\n  display: inline-block;\\n  float: left;\\n}\\n.flatpickr-weekwrapper .flatpickr-weeks {\\n  padding: 0 12px;\\n  border-left: 1px solid rgba(72,72,72,0.2);\\n}\\n.flatpickr-weekwrapper .flatpickr-weekday {\\n  float: none;\\n  width: 100%;\\n  line-height: 28px;\\n}\\n.flatpickr-weekwrapper span.flatpickr-day {\\n  display: block;\\n  width: 100%;\\n  max-width: none;\\n}\\n.flatpickr-innerContainer {\\n  display: block;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  overflow: hidden;\\n  background: #fff;\\n  border-bottom: 1px solid rgba(72,72,72,0.2);\\n}\\n.flatpickr-rContainer {\\n  display: inline-block;\\n  padding: 0;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.flatpickr-time {\\n  text-align: center;\\n  outline: 0;\\n  display: block;\\n  height: 0;\\n  line-height: 40px;\\n  max-height: 40px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  background: #fff;\\n  border-radius: 0 0 5px 5px;\\n}\\n.flatpickr-time:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.flatpickr-time .numInputWrapper {\\n  -webkit-box-flex: 1;\\n  -webkit-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  width: 40%;\\n  height: 40px;\\n  float: left;\\n}\\n.flatpickr-time .numInputWrapper span.arrowUp:after {\\n  border-bottom-color: #484848;\\n}\\n.flatpickr-time .numInputWrapper span.arrowDown:after {\\n  border-top-color: #484848;\\n}\\n.flatpickr-time.hasSeconds .numInputWrapper {\\n  width: 26%;\\n}\\n.flatpickr-time.time24hr .numInputWrapper {\\n  width: 49%;\\n}\\n.flatpickr-time input {\\n  background: transparent;\\n  -webkit-box-shadow: none;\\n          box-shadow: none;\\n  border: 0;\\n  border-radius: 0;\\n  text-align: center;\\n  margin: 0;\\n  padding: 0;\\n  height: inherit;\\n  line-height: inherit;\\n  cursor: pointer;\\n  color: #484848;\\n  font-size: 14px;\\n  position: relative;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.flatpickr-time input.flatpickr-hour {\\n  font-weight: bold;\\n}\\n.flatpickr-time input.flatpickr-minute,\\n.flatpickr-time input.flatpickr-second {\\n  font-weight: 400;\\n}\\n.flatpickr-time input:focus {\\n  outline: 0;\\n  border: 0;\\n}\\n.flatpickr-time .flatpickr-time-separator,\\n.flatpickr-time .flatpickr-am-pm {\\n  height: inherit;\\n  display: inline-block;\\n  float: left;\\n  line-height: inherit;\\n  color: #484848;\\n  font-weight: bold;\\n  width: 2%;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  -webkit-align-self: center;\\n      -ms-flex-item-align: center;\\n          align-self: center;\\n}\\n.flatpickr-time .flatpickr-am-pm {\\n  outline: 0;\\n  width: 18%;\\n  cursor: pointer;\\n  text-align: center;\\n  font-weight: 400;\\n}\\n.flatpickr-time .flatpickr-am-pm:hover,\\n.flatpickr-time .flatpickr-am-pm:focus {\\n  background: #ececec;\\n}\\n.flatpickr-input[readonly] {\\n  cursor: pointer;\\n}\\n@-webkit-keyframes fpFadeInDown {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(0, -20px, 0);\\n            transform: translate3d(0, -20px, 0);\\n  }\\n  to {\\n    opacity: 1;\\n    -webkit-transform: translate3d(0, 0, 0);\\n            transform: translate3d(0, 0, 0);\\n  }\\n}\\n@keyframes fpFadeInDown {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(0, -20px, 0);\\n            transform: translate3d(0, -20px, 0);\\n  }\\n  to {\\n    opacity: 1;\\n    -webkit-transform: translate3d(0, 0, 0);\\n            transform: translate3d(0, 0, 0);\\n  }\\n}\\n@-webkit-keyframes fpSlideLeft {\\n  from {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(-100%, 0px, 0px);\\n            transform: translate3d(-100%, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideLeft {\\n  from {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(-100%, 0px, 0px);\\n            transform: translate3d(-100%, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideLeftNew {\\n  from {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideLeftNew {\\n  from {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\n            transform: translate3d(0px, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideRight {\\n  from {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n}\\n@keyframes fpSlideRight {\\n  from {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(100%, 0px, 0px);\\n            transform: translate3d(100%, 0px, 0px);\\n  }\\n}\\n@-webkit-keyframes fpSlideRightNew {\\n  from {\\n    -webkit-transform: translate3d(-100%, 0, 0px);\\n            transform: translate3d(-100%, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n}\\n@keyframes fpSlideRightNew {\\n  from {\\n    -webkit-transform: translate3d(-100%, 0, 0px);\\n            transform: translate3d(-100%, 0, 0px);\\n  }\\n  to {\\n    -webkit-transform: translate3d(0, 0, 0px);\\n            transform: translate3d(0, 0, 0px);\\n  }\\n}\\n@-webkit-keyframes fpFadeOut {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n}\\n@keyframes fpFadeOut {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n}\\n@-webkit-keyframes fpFadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n@keyframes fpFadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\"; });\r\ndefine('aurelia-auth/aurelia-auth',['exports', './auth-service', './authorize-step', './auth-fetch-config', './base-config', './auth-filter'], function (exports, _authService, _authorizeStep, _authFetchConfig, _baseConfig, _authFilter) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.FetchConfig = exports.BaseConfig = exports.AuthorizeStep = exports.AuthService = exports.AuthFilterValueConverter = undefined;\n  exports.configure = configure;\n  function configure(aurelia, configCallback) {\n    aurelia.globalResources('./auth-filter');\n\n    var baseConfig = aurelia.container.get(_baseConfig.BaseConfig);\n    if (configCallback !== undefined && typeof configCallback === 'function') {\n      configCallback(baseConfig);\n    }\n  }\n\n  exports.AuthFilterValueConverter = _authFilter.AuthFilterValueConverter;\n  exports.AuthService = _authService.AuthService;\n  exports.AuthorizeStep = _authorizeStep.AuthorizeStep;\n  exports.BaseConfig = _baseConfig.BaseConfig;\n  exports.FetchConfig = _authFetchConfig.FetchConfig;\n});\n;define('aurelia-auth', ['aurelia-auth/aurelia-auth'], function (main) { return main; });\n\r\ndefine('aurelia-auth/auth-service',['exports', 'aurelia-dependency-injection', 'aurelia-fetch-client', 'aurelia-event-aggregator', './authentication', './base-config', './oAuth1', './oAuth2', './auth-utilities'], function (exports, _aureliaDependencyInjection, _aureliaFetchClient, _aureliaEventAggregator, _authentication, _baseConfig, _oAuth, _oAuth2, _authUtilities) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AuthService = undefined;\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var AuthService = exports.AuthService = (_dec = (0, _aureliaDependencyInjection.inject)(_aureliaFetchClient.HttpClient, _authentication.Authentication, _oAuth.OAuth1, _oAuth2.OAuth2, _baseConfig.BaseConfig, _aureliaEventAggregator.EventAggregator), _dec(_class = function () {\n    function AuthService(http, auth, oAuth1, oAuth2, config, eventAggregator) {\n      _classCallCheck(this, AuthService);\n\n      this.http = http;\n      this.auth = auth;\n      this.oAuth1 = oAuth1;\n      this.oAuth2 = oAuth2;\n      this.config = config.current;\n      this.tokenInterceptor = auth.tokenInterceptor;\n      this.eventAggregator = eventAggregator;\n    }\n\n    AuthService.prototype.getMe = function getMe() {\n      var profileUrl = this.auth.getProfileUrl();\n      return this.http.fetch(profileUrl).then(_authUtilities.status);\n    };\n\n    AuthService.prototype.isAuthenticated = function isAuthenticated() {\n      return this.auth.isAuthenticated();\n    };\n\n    AuthService.prototype.getTokenPayload = function getTokenPayload() {\n      return this.auth.getPayload();\n    };\n\n    AuthService.prototype.setToken = function setToken(token) {\n      this.auth.setToken(Object.defineProperty({}, this.config.tokenName, { value: token }));\n    };\n\n    AuthService.prototype.signup = function signup(displayName, email, password) {\n      var _this = this;\n\n      var signupUrl = this.auth.getSignupUrl();\n      var content = void 0;\n      if (_typeof(arguments[0]) === 'object') {\n        content = arguments[0];\n      } else {\n        content = {\n          'displayName': displayName,\n          'email': email,\n          'password': password\n        };\n      }\n\n      return this.http.fetch(signupUrl, {\n        method: 'post',\n        body: (0, _aureliaFetchClient.json)(content)\n      }).then(_authUtilities.status).then(function (response) {\n        if (_this.config.loginOnSignup) {\n          _this.auth.setToken(response);\n        } else if (_this.config.signupRedirect) {\n          window.location.href = _this.config.signupRedirect;\n        }\n        _this.eventAggregator.publish('auth:signup', response);\n        return response;\n      });\n    };\n\n    AuthService.prototype.login = function login(email, password) {\n      var _this2 = this;\n\n      var loginUrl = this.auth.getLoginUrl();\n      var content = void 0;\n      if (typeof arguments[1] !== 'string') {\n        content = arguments[0];\n      } else {\n        content = {\n          'email': email,\n          'password': password\n        };\n      }\n\n      return this.http.fetch(loginUrl, {\n        method: 'post',\n        headers: typeof content === 'string' ? { 'Content-Type': 'application/x-www-form-urlencoded' } : {},\n        body: typeof content === 'string' ? content : (0, _aureliaFetchClient.json)(content)\n      }).then(_authUtilities.status).then(function (response) {\n        _this2.auth.setToken(response);\n        _this2.eventAggregator.publish('auth:login', response);\n        return response;\n      });\n    };\n\n    AuthService.prototype.logout = function logout(redirectUri) {\n      var _this3 = this;\n\n      return this.auth.logout(redirectUri).then(function () {\n        _this3.eventAggregator.publish('auth:logout');\n      });\n    };\n\n    AuthService.prototype.authenticate = function authenticate(name, redirect, userData) {\n      var _this4 = this;\n\n      var provider = this.oAuth2;\n      if (this.config.providers[name].type === '1.0') {\n        provider = this.oAuth1;\n      }\n\n      return provider.open(this.config.providers[name], userData || {}).then(function (response) {\n        _this4.auth.setToken(response, redirect);\n        _this4.eventAggregator.publish('auth:authenticate', response);\n        return response;\n      });\n    };\n\n    AuthService.prototype.unlink = function unlink(provider) {\n      var _this5 = this;\n\n      var unlinkUrl = this.config.baseUrl ? (0, _authUtilities.joinUrl)(this.config.baseUrl, this.config.unlinkUrl) : this.config.unlinkUrl;\n\n      if (this.config.unlinkMethod === 'get') {\n        return this.http.fetch(unlinkUrl + provider).then(_authUtilities.status).then(function (response) {\n          _this5.eventAggregator.publish('auth:unlink', response);\n          return response;\n        });\n      } else if (this.config.unlinkMethod === 'post') {\n        return this.http.fetch(unlinkUrl, {\n          method: 'post',\n          body: (0, _aureliaFetchClient.json)(provider)\n        }).then(_authUtilities.status).then(function (response) {\n          _this5.eventAggregator.publish('auth:unlink', response);\n          return response;\n        });\n      }\n    };\n\n    return AuthService;\n  }()) || _class);\n});\r\ndefine('aurelia-auth/authentication',['exports', 'aurelia-dependency-injection', './base-config', './storage', './auth-utilities'], function (exports, _aureliaDependencyInjection, _baseConfig, _storage, _authUtilities) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Authentication = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _dec, _class;\n\n  var Authentication = exports.Authentication = (_dec = (0, _aureliaDependencyInjection.inject)(_storage.Storage, _baseConfig.BaseConfig), _dec(_class = function () {\n    function Authentication(storage, config) {\n      _classCallCheck(this, Authentication);\n\n      this.storage = storage;\n      this.config = config.current;\n      this.tokenName = this.config.tokenPrefix ? this.config.tokenPrefix + '_' + this.config.tokenName : this.config.tokenName;\n      this.idTokenName = this.config.tokenPrefix ? this.config.tokenPrefix + '_' + this.config.idTokenName : this.config.idTokenName;\n    }\n\n    Authentication.prototype.getLoginRoute = function getLoginRoute() {\n      return this.config.loginRoute;\n    };\n\n    Authentication.prototype.getLoginRedirect = function getLoginRedirect() {\n      return this.initialUrl || this.config.loginRedirect;\n    };\n\n    Authentication.prototype.getLoginUrl = function getLoginUrl() {\n      return this.config.baseUrl ? (0, _authUtilities.joinUrl)(this.config.baseUrl, this.config.loginUrl) : this.config.loginUrl;\n    };\n\n    Authentication.prototype.getSignupUrl = function getSignupUrl() {\n      return this.config.baseUrl ? (0, _authUtilities.joinUrl)(this.config.baseUrl, this.config.signupUrl) : this.config.signupUrl;\n    };\n\n    Authentication.prototype.getProfileUrl = function getProfileUrl() {\n      return this.config.baseUrl ? (0, _authUtilities.joinUrl)(this.config.baseUrl, this.config.profileUrl) : this.config.profileUrl;\n    };\n\n    Authentication.prototype.getToken = function getToken() {\n      return this.storage.get(this.tokenName);\n    };\n\n    Authentication.prototype.getPayload = function getPayload() {\n      var token = this.storage.get(this.tokenName);\n      return this.decomposeToken(token);\n    };\n\n    Authentication.prototype.decomposeToken = function decomposeToken(token) {\n      if (token && token.split('.').length === 3) {\n        var base64Url = token.split('.')[1];\n        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n\n        try {\n          return JSON.parse(decodeURIComponent(escape(window.atob(base64))));\n        } catch (error) {\n          return null;\n        }\n      }\n    };\n\n    Authentication.prototype.setInitialUrl = function setInitialUrl(url) {\n      this.initialUrl = url;\n    };\n\n    Authentication.prototype.setToken = function setToken(response, redirect) {\n      var accessToken = response && response[this.config.responseTokenProp];\n      var tokenToStore = void 0;\n\n      if (accessToken) {\n        if ((0, _authUtilities.isObject)(accessToken) && (0, _authUtilities.isObject)(accessToken.data)) {\n          response = accessToken;\n        } else if ((0, _authUtilities.isString)(accessToken)) {\n          tokenToStore = accessToken;\n        }\n      }\n\n      if (!tokenToStore && response) {\n        tokenToStore = this.config.tokenRoot && response[this.config.tokenRoot] ? response[this.config.tokenRoot][this.config.tokenName] : response[this.config.tokenName];\n      }\n\n      if (tokenToStore) {\n        this.storage.set(this.tokenName, tokenToStore);\n      }\n\n      var idToken = response && response[this.config.responseIdTokenProp];\n\n      if (idToken) {\n        this.storage.set(this.idTokenName, idToken);\n      }\n\n      if (this.config.loginRedirect && !redirect) {\n        window.location.href = this.getLoginRedirect();\n      } else if (redirect && (0, _authUtilities.isString)(redirect)) {\n        window.location.href = window.encodeURI(redirect);\n      }\n    };\n\n    Authentication.prototype.removeToken = function removeToken() {\n      this.storage.remove(this.tokenName);\n    };\n\n    Authentication.prototype.isAuthenticated = function isAuthenticated() {\n      var token = this.storage.get(this.tokenName);\n\n      if (!token) {\n        return false;\n      }\n\n      if (token.split('.').length !== 3) {\n        return true;\n      }\n\n      var exp = void 0;\n      try {\n        var base64Url = token.split('.')[1];\n        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n        exp = JSON.parse(window.atob(base64)).exp;\n      } catch (error) {\n        return false;\n      }\n\n      if (exp) {\n        return Math.round(new Date().getTime() / 1000) <= exp;\n      }\n\n      return true;\n    };\n\n    Authentication.prototype.logout = function logout(redirect) {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        _this.storage.remove(_this.tokenName);\n\n        if (_this.config.logoutRedirect && !redirect) {\n          window.location.href = _this.config.logoutRedirect;\n        } else if ((0, _authUtilities.isString)(redirect)) {\n          window.location.href = redirect;\n        }\n\n        resolve();\n      });\n    };\n\n    _createClass(Authentication, [{\n      key: 'tokenInterceptor',\n      get: function get() {\n        var config = this.config;\n        var storage = this.storage;\n        var auth = this;\n        return {\n          request: function request(_request) {\n            if (auth.isAuthenticated() && config.httpInterceptor) {\n              var tokenName = config.tokenPrefix ? config.tokenPrefix + '_' + config.tokenName : config.tokenName;\n              var token = storage.get(tokenName);\n\n              if (config.authHeader && config.authToken) {\n                token = config.authToken + ' ' + token;\n              }\n\n              _request.headers.set(config.authHeader, token);\n            }\n            return _request;\n          }\n        };\n      }\n    }]);\n\n    return Authentication;\n  }()) || _class);\n});\r\ndefine('aurelia-auth/base-config',['exports', './auth-utilities'], function (exports, _authUtilities) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.BaseConfig = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var BaseConfig = exports.BaseConfig = function () {\n    BaseConfig.prototype.configure = function configure(incomingConfig) {\n      (0, _authUtilities.merge)(this._current, incomingConfig);\n    };\n\n    _createClass(BaseConfig, [{\n      key: 'current',\n      get: function get() {\n        return this._current;\n      }\n    }]);\n\n    function BaseConfig() {\n      _classCallCheck(this, BaseConfig);\n\n      this._current = {\n        httpInterceptor: true,\n        loginOnSignup: true,\n        baseUrl: '/',\n        loginRedirect: '#/',\n        logoutRedirect: '#/',\n        signupRedirect: '#/login',\n        loginUrl: '/auth/login',\n        signupUrl: '/auth/signup',\n        profileUrl: '/auth/me',\n        loginRoute: '/login',\n        signupRoute: '/signup',\n        tokenRoot: false,\n        tokenName: 'token',\n        idTokenName: 'id_token',\n        tokenPrefix: 'aurelia',\n        responseTokenProp: 'access_token',\n        responseIdTokenProp: 'id_token',\n        unlinkUrl: '/auth/unlink/',\n        unlinkMethod: 'get',\n        authHeader: 'Authorization',\n        authToken: 'Bearer',\n        withCredentials: true,\n        platform: 'browser',\n        storage: 'localStorage',\n        providers: {\n          identSrv: {\n            name: 'identSrv',\n            url: '/auth/identSrv',\n\n            redirectUri: window.location.origin || window.location.protocol + '//' + window.location.host,\n            scope: ['profile', 'openid'],\n            responseType: 'code',\n            scopePrefix: '',\n            scopeDelimiter: ' ',\n            requiredUrlParams: ['scope', 'nonce'],\n            optionalUrlParams: ['display', 'state'],\n            state: function state() {\n              var rand = Math.random().toString(36).substr(2);\n              return encodeURIComponent(rand);\n            },\n            display: 'popup',\n            type: '2.0',\n            clientId: 'jsClient',\n            nonce: function nonce() {\n              var val = ((Date.now() + Math.random()) * Math.random()).toString().replace('.', '');\n              return encodeURIComponent(val);\n            },\n            popupOptions: { width: 452, height: 633 }\n          },\n          google: {\n            name: 'google',\n            url: '/auth/google',\n            authorizationEndpoint: 'https://accounts.google.com/o/oauth2/auth',\n            redirectUri: window.location.origin || window.location.protocol + '//' + window.location.host,\n            scope: ['profile', 'email'],\n            scopePrefix: 'openid',\n            scopeDelimiter: ' ',\n            requiredUrlParams: ['scope'],\n            optionalUrlParams: ['display', 'state'],\n            display: 'popup',\n            type: '2.0',\n            state: function state() {\n              var rand = Math.random().toString(36).substr(2);\n              return encodeURIComponent(rand);\n            },\n            popupOptions: {\n              width: 452,\n              height: 633\n            }\n          },\n          facebook: {\n            name: 'facebook',\n            url: '/auth/facebook',\n            authorizationEndpoint: 'https://www.facebook.com/v2.3/dialog/oauth',\n            redirectUri: window.location.origin + '/' || window.location.protocol + '//' + window.location.host + '/',\n            scope: ['email'],\n            scopeDelimiter: ',',\n            nonce: function nonce() {\n              return Math.random();\n            },\n            requiredUrlParams: ['nonce', 'display', 'scope'],\n            display: 'popup',\n            type: '2.0',\n            popupOptions: {\n              width: 580,\n              height: 400\n            }\n          },\n          linkedin: {\n            name: 'linkedin',\n            url: '/auth/linkedin',\n            authorizationEndpoint: 'https://www.linkedin.com/uas/oauth2/authorization',\n            redirectUri: window.location.origin || window.location.protocol + '//' + window.location.host,\n            requiredUrlParams: ['state'],\n            scope: ['r_emailaddress'],\n            scopeDelimiter: ' ',\n            state: 'STATE',\n            type: '2.0',\n            popupOptions: {\n              width: 527,\n              height: 582\n            }\n          },\n          github: {\n            name: 'github',\n            url: '/auth/github',\n            authorizationEndpoint: 'https://github.com/login/oauth/authorize',\n            redirectUri: window.location.origin || window.location.protocol + '//' + window.location.host,\n            optionalUrlParams: ['scope'],\n            scope: ['user:email'],\n            scopeDelimiter: ' ',\n            type: '2.0',\n            popupOptions: {\n              width: 1020,\n              height: 618\n            }\n          },\n          yahoo: {\n            name: 'yahoo',\n            url: '/auth/yahoo',\n            authorizationEndpoint: 'https://api.login.yahoo.com/oauth2/request_auth',\n            redirectUri: window.location.origin || window.location.protocol + '//' + window.location.host,\n            scope: [],\n            scopeDelimiter: ',',\n            type: '2.0',\n            popupOptions: {\n              width: 559,\n              height: 519\n            }\n          },\n          twitter: {\n            name: 'twitter',\n            url: '/auth/twitter',\n            authorizationEndpoint: 'https://api.twitter.com/oauth/authenticate',\n            type: '1.0',\n            popupOptions: {\n              width: 495,\n              height: 645\n            }\n          },\n          live: {\n            name: 'live',\n            url: '/auth/live',\n            authorizationEndpoint: 'https://login.live.com/oauth20_authorize.srf',\n            redirectUri: window.location.origin || window.location.protocol + '//' + window.location.host,\n            scope: ['wl.emails'],\n            scopeDelimiter: ' ',\n            requiredUrlParams: ['display', 'scope'],\n            display: 'popup',\n            type: '2.0',\n            popupOptions: {\n              width: 500,\n              height: 560\n            }\n          },\n          instagram: {\n            name: 'instagram',\n            url: '/auth/instagram',\n            authorizationEndpoint: 'https://api.instagram.com/oauth/authorize',\n            redirectUri: window.location.origin || window.location.protocol + '//' + window.location.host,\n            requiredUrlParams: ['scope'],\n            scope: ['basic'],\n            scopeDelimiter: '+',\n            display: 'popup',\n            type: '2.0',\n            popupOptions: {\n              width: 550,\n              height: 369\n            }\n          }\n        }\n      };\n    }\n\n    return BaseConfig;\n  }();\n});\r\ndefine('aurelia-auth/auth-utilities',['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.status = status;\n  exports.isDefined = isDefined;\n  exports.camelCase = camelCase;\n  exports.parseQueryString = parseQueryString;\n  exports.isString = isString;\n  exports.isObject = isObject;\n  exports.isFunction = isFunction;\n  exports.joinUrl = joinUrl;\n  exports.isBlankObject = isBlankObject;\n  exports.isArrayLike = isArrayLike;\n  exports.isWindow = isWindow;\n  exports.extend = extend;\n  exports.merge = merge;\n  exports.forEach = forEach;\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var slice = [].slice;\n\n  function setHashKey(obj, h) {\n    if (h) {\n      obj.$$hashKey = h;\n    } else {\n      delete obj.$$hashKey;\n    }\n  }\n\n  function baseExtend(dst, objs, deep) {\n    var h = dst.$$hashKey;\n\n    for (var i = 0, ii = objs.length; i < ii; ++i) {\n      var obj = objs[i];\n      if (!isObject(obj) && !isFunction(obj)) continue;\n      var keys = Object.keys(obj);\n      for (var j = 0, jj = keys.length; j < jj; j++) {\n        var key = keys[j];\n        var src = obj[key];\n\n        if (deep && isObject(src)) {\n          if (!isObject(dst[key])) dst[key] = Array.isArray(src) ? [] : {};\n          baseExtend(dst[key], [src], true);\n        } else {\n          dst[key] = src;\n        }\n      }\n    }\n\n    setHashKey(dst, h);\n    return dst;\n  }\n\n  function status(response) {\n    if (response.status >= 200 && response.status < 400) {\n      return response.json().catch(function (error) {\n        return null;\n      });\n    }\n\n    throw response;\n  }\n\n  function isDefined(value) {\n    return typeof value !== 'undefined';\n  }\n\n  function camelCase(name) {\n    return name.replace(/([\\:\\-\\_]+(.))/g, function (_, separator, letter, offset) {\n      return offset ? letter.toUpperCase() : letter;\n    });\n  }\n\n  function parseQueryString(keyValue) {\n    var key = void 0;\n    var value = void 0;\n    var obj = {};\n\n    forEach((keyValue || '').split('&'), function (kv) {\n      if (kv) {\n        value = kv.split('=');\n        key = decodeURIComponent(value[0]);\n        obj[key] = isDefined(value[1]) ? decodeURIComponent(value[1]) : true;\n      }\n    });\n\n    return obj;\n  }\n\n  function isString(value) {\n    return typeof value === 'string';\n  }\n\n  function isObject(value) {\n    return value !== null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n  }\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n\n  function joinUrl(baseUrl, url) {\n    if (/^(?:[a-z]+:)?\\/\\//i.test(url)) {\n      return url;\n    }\n\n    var joined = [baseUrl, url].join('/');\n    var normalize = function normalize(str) {\n      return str.replace(/[\\/]+/g, '/').replace(/\\/\\?/g, '?').replace(/\\/\\#/g, '#').replace(/\\:\\//g, '://');\n    };\n\n    return normalize(joined);\n  }\n\n  function isBlankObject(value) {\n    return value !== null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && !Object.getPrototypeOf(value);\n  }\n\n  function isArrayLike(obj) {\n    if (obj === null || isWindow(obj)) {\n      return false;\n    }\n  }\n\n  function isWindow(obj) {\n    return obj && obj.window === obj;\n  }\n\n  function extend(dst) {\n    return baseExtend(dst, slice.call(arguments, 1), false);\n  }\n\n  function merge(dst) {\n    return baseExtend(dst, slice.call(arguments, 1), true);\n  }\n\n  function forEach(obj, iterator, context) {\n    var key = void 0;\n    var length = void 0;\n    if (obj) {\n      if (isFunction(obj)) {\n        for (key in obj) {\n          if (key !== 'prototype' && key !== 'length' && key !== 'name' && (!obj.hasOwnProperty || obj.hasOwnProperty(key))) {\n            iterator.call(context, obj[key], key, obj);\n          }\n        }\n      } else if (Array.isArray(obj) || isArrayLike(obj)) {\n        var isPrimitive = (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object';\n        for (key = 0, length = obj.length; key < length; key++) {\n          if (isPrimitive || key in obj) {\n            iterator.call(context, obj[key], key, obj);\n          }\n        }\n      } else if (obj.forEach && obj.forEach !== forEach) {\n        obj.forEach(iterator, context, obj);\n      } else if (isBlankObject(obj)) {\n        for (key in obj) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      } else if (typeof obj.hasOwnProperty === 'function') {\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            iterator.call(context, obj[key], key, obj);\n          }\n        }\n      } else {\n        for (key in obj) {\n          if (hasOwnProperty.call(obj, key)) {\n            iterator.call(context, obj[key], key, obj);\n          }\n        }\n      }\n    }\n    return obj;\n  }\n});\r\ndefine('aurelia-auth/storage',['exports', 'aurelia-dependency-injection', './base-config'], function (exports, _aureliaDependencyInjection, _baseConfig) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Storage = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var Storage = exports.Storage = (_dec = (0, _aureliaDependencyInjection.inject)(_baseConfig.BaseConfig), _dec(_class = function () {\n    function Storage(config) {\n      _classCallCheck(this, Storage);\n\n      this.config = config.current;\n      this.storage = this._getStorage(this.config.storage);\n    }\n\n    Storage.prototype.get = function get(key) {\n      return this.storage.getItem(key);\n    };\n\n    Storage.prototype.set = function set(key, value) {\n      return this.storage.setItem(key, value);\n    };\n\n    Storage.prototype.remove = function remove(key) {\n      return this.storage.removeItem(key);\n    };\n\n    Storage.prototype._getStorage = function _getStorage(type) {\n      if (type === 'localStorage') {\n        if ('localStorage' in window && window.localStorage !== null) return localStorage;\n        throw new Error('Local Storage is disabled or unavailable.');\n      } else if (type === 'sessionStorage') {\n        if ('sessionStorage' in window && window.sessionStorage !== null) return sessionStorage;\n        throw new Error('Session Storage is disabled or unavailable.');\n      }\n\n      throw new Error('Invalid storage type specified: ' + type);\n    };\n\n    return Storage;\n  }()) || _class);\n});\r\ndefine('aurelia-auth/oAuth1',['exports', 'aurelia-dependency-injection', './auth-utilities', './storage', './popup', './base-config', 'aurelia-fetch-client'], function (exports, _aureliaDependencyInjection, _authUtilities, _storage, _popup, _baseConfig, _aureliaFetchClient) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.OAuth1 = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var OAuth1 = exports.OAuth1 = (_dec = (0, _aureliaDependencyInjection.inject)(_storage.Storage, _popup.Popup, _aureliaFetchClient.HttpClient, _baseConfig.BaseConfig), _dec(_class = function () {\n    function OAuth1(storage, popup, http, config) {\n      _classCallCheck(this, OAuth1);\n\n      this.storage = storage;\n      this.config = config.current;\n      this.popup = popup;\n      this.http = http;\n      this.defaults = {\n        url: null,\n        name: null,\n        popupOptions: null,\n        redirectUri: null,\n        authorizationEndpoint: null\n      };\n    }\n\n    OAuth1.prototype.open = function open(options, userData) {\n      var _this = this;\n\n      var current = (0, _authUtilities.extend)({}, this.defaults, options);\n      var serverUrl = this.config.baseUrl ? (0, _authUtilities.joinUrl)(this.config.baseUrl, current.url) : current.url;\n\n      if (this.config.platform !== 'mobile') {\n        this.popup = this.popup.open('', current.name, current.popupOptions, current.redirectUri);\n      }\n      return this.http.fetch(serverUrl, {\n        method: 'post'\n      }).then(_authUtilities.status).then(function (response) {\n        if (_this.config.platform === 'mobile') {\n          _this.popup = _this.popup.open([current.authorizationEndpoint, _this.buildQueryString(response)].join('?'), current.name, current.popupOptions, current.redirectUri);\n        } else {\n          _this.popup.popupWindow.location = [current.authorizationEndpoint, _this.buildQueryString(response)].join('?');\n        }\n\n        var popupListener = _this.config.platform === 'mobile' ? _this.popup.eventListener(current.redirectUri) : _this.popup.pollPopup();\n        return popupListener.then(function (result) {\n          return _this.exchangeForToken(result, userData, current);\n        });\n      });\n    };\n\n    OAuth1.prototype.exchangeForToken = function exchangeForToken(oauthData, userData, current) {\n      var data = (0, _authUtilities.extend)({}, userData, oauthData);\n      var exchangeForTokenUrl = this.config.baseUrl ? (0, _authUtilities.joinUrl)(this.config.baseUrl, current.url) : current.url;\n      var credentials = this.config.withCredentials ? 'include' : 'same-origin';\n\n      return this.http.fetch(exchangeForTokenUrl, {\n        method: 'post',\n        body: (0, _aureliaFetchClient.json)(data),\n        credentials: credentials\n      }).then(_authUtilities.status);\n    };\n\n    OAuth1.prototype.buildQueryString = function buildQueryString(obj) {\n      var str = [];\n      (0, _authUtilities.forEach)(obj, function (value, key) {\n        return str.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n      });\n      return str.join('&');\n    };\n\n    return OAuth1;\n  }()) || _class);\n});\r\ndefine('aurelia-auth/popup',['exports', './auth-utilities', './base-config', 'aurelia-dependency-injection'], function (exports, _authUtilities, _baseConfig, _aureliaDependencyInjection) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Popup = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var Popup = exports.Popup = (_dec = (0, _aureliaDependencyInjection.inject)(_baseConfig.BaseConfig), _dec(_class = function () {\n    function Popup(config) {\n      _classCallCheck(this, Popup);\n\n      this.config = config.current;\n      this.popupWindow = null;\n      this.polling = null;\n      this.url = '';\n    }\n\n    Popup.prototype.open = function open(url, windowName, options, redirectUri) {\n      this.url = url;\n      var optionsString = this.stringifyOptions(this.prepareOptions(options || {}));\n      this.popupWindow = window.open(url, windowName, optionsString);\n      if (this.popupWindow && this.popupWindow.focus) {\n        this.popupWindow.focus();\n      }\n\n      return this;\n    };\n\n    Popup.prototype.eventListener = function eventListener(redirectUri) {\n      var self = this;\n      var promise = new Promise(function (resolve, reject) {\n        self.popupWindow.addEventListener('loadstart', function (event) {\n          if (event.url.indexOf(redirectUri) !== 0) {\n            return;\n          }\n\n          var parser = document.createElement('a');\n          parser.href = event.url;\n\n          if (parser.search || parser.hash) {\n            var queryParams = parser.search.substring(1).replace(/\\/$/, '');\n            var hashParams = parser.hash.substring(1).replace(/\\/$/, '');\n            var hash = (0, _authUtilities.parseQueryString)(hashParams);\n            var qs = (0, _authUtilities.parseQueryString)(queryParams);\n\n            (0, _authUtilities.extend)(qs, hash);\n\n            if (qs.error) {\n              reject({\n                error: qs.error\n              });\n            } else {\n              resolve(qs);\n            }\n\n            self.popupWindow.close();\n          }\n        });\n\n        popupWindow.addEventListener('exit', function () {\n          reject({\n            data: 'Provider Popup was closed'\n          });\n        });\n\n        popupWindow.addEventListener('loaderror', function () {\n          deferred.reject({\n            data: 'Authorization Failed'\n          });\n        });\n      });\n      return promise;\n    };\n\n    Popup.prototype.pollPopup = function pollPopup() {\n      var _this = this;\n\n      var self = this;\n      var promise = new Promise(function (resolve, reject) {\n        _this.polling = setInterval(function () {\n          try {\n            var documentOrigin = document.location.host;\n            var popupWindowOrigin = self.popupWindow.location.host;\n\n            if (popupWindowOrigin === documentOrigin && (self.popupWindow.location.search || self.popupWindow.location.hash)) {\n              var queryParams = self.popupWindow.location.search.substring(1).replace(/\\/$/, '');\n              var hashParams = self.popupWindow.location.hash.substring(1).replace(/[\\/$]/, '');\n              var hash = (0, _authUtilities.parseQueryString)(hashParams);\n              var qs = (0, _authUtilities.parseQueryString)(queryParams);\n\n              (0, _authUtilities.extend)(qs, hash);\n\n              if (qs.error) {\n                reject({\n                  error: qs.error\n                });\n              } else {\n                resolve(qs);\n              }\n\n              self.popupWindow.close();\n              clearInterval(self.polling);\n            }\n          } catch (error) {}\n\n          if (!self.popupWindow) {\n            clearInterval(self.polling);\n            reject({\n              data: 'Provider Popup Blocked'\n            });\n          } else if (self.popupWindow.closed) {\n            clearInterval(self.polling);\n            reject({\n              data: 'Problem poll popup'\n            });\n          }\n        }, 35);\n      });\n      return promise;\n    };\n\n    Popup.prototype.prepareOptions = function prepareOptions(options) {\n      var width = options.width || 500;\n      var height = options.height || 500;\n      return (0, _authUtilities.extend)({\n        width: width,\n        height: height,\n        left: window.screenX + (window.outerWidth - width) / 2,\n        top: window.screenY + (window.outerHeight - height) / 2.5\n      }, options);\n    };\n\n    Popup.prototype.stringifyOptions = function stringifyOptions(options) {\n      var parts = [];\n      (0, _authUtilities.forEach)(options, function (value, key) {\n        parts.push(key + '=' + value);\n      });\n      return parts.join(',');\n    };\n\n    return Popup;\n  }()) || _class);\n});\r\ndefine('aurelia-auth/oAuth2',['exports', 'aurelia-dependency-injection', './auth-utilities', './storage', './popup', './base-config', './authentication', 'aurelia-fetch-client'], function (exports, _aureliaDependencyInjection, _authUtilities, _storage, _popup, _baseConfig, _authentication, _aureliaFetchClient) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.OAuth2 = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var OAuth2 = exports.OAuth2 = (_dec = (0, _aureliaDependencyInjection.inject)(_storage.Storage, _popup.Popup, _aureliaFetchClient.HttpClient, _baseConfig.BaseConfig, _authentication.Authentication), _dec(_class = function () {\n    function OAuth2(storage, popup, http, config, auth) {\n      _classCallCheck(this, OAuth2);\n\n      this.storage = storage;\n      this.config = config.current;\n      this.popup = popup;\n      this.http = http;\n      this.auth = auth;\n      this.defaults = {\n        url: null,\n        name: null,\n        state: null,\n        scope: null,\n        scopeDelimiter: null,\n        redirectUri: null,\n        popupOptions: null,\n        authorizationEndpoint: null,\n        responseParams: null,\n        requiredUrlParams: null,\n        optionalUrlParams: null,\n        defaultUrlParams: ['response_type', 'client_id', 'redirect_uri'],\n        responseType: 'code'\n      };\n    }\n\n    OAuth2.prototype.open = function open(options, userData) {\n      var _this = this;\n\n      var current = (0, _authUtilities.extend)({}, this.defaults, options);\n\n      var stateName = current.name + '_state';\n\n      if ((0, _authUtilities.isFunction)(current.state)) {\n        this.storage.set(stateName, current.state());\n      } else if ((0, _authUtilities.isString)(current.state)) {\n        this.storage.set(stateName, current.state);\n      }\n\n      var nonceName = current.name + '_nonce';\n\n      if ((0, _authUtilities.isFunction)(current.nonce)) {\n        this.storage.set(nonceName, current.nonce());\n      } else if ((0, _authUtilities.isString)(current.nonce)) {\n        this.storage.set(nonceName, current.nonce);\n      }\n\n      var url = current.authorizationEndpoint + '?' + this.buildQueryString(current);\n\n      var openPopup = void 0;\n      if (this.config.platform === 'mobile') {\n        openPopup = this.popup.open(url, current.name, current.popupOptions, current.redirectUri).eventListener(current.redirectUri);\n      } else {\n        openPopup = this.popup.open(url, current.name, current.popupOptions, current.redirectUri).pollPopup();\n      }\n\n      return openPopup.then(function (oauthData) {\n        if (oauthData.state && oauthData.state !== _this.storage.get(stateName)) {\n          return Promise.reject('OAuth 2.0 state parameter mismatch.');\n        }\n\n        if (current.responseType.toUpperCase().indexOf('TOKEN') !== -1) {\n          if (!_this.verifyIdToken(oauthData, current.name)) {\n            return Promise.reject('OAuth 2.0 Nonce parameter mismatch.');\n          }\n\n          return oauthData;\n        }\n\n        return _this.exchangeForToken(oauthData, userData, current);\n      });\n    };\n\n    OAuth2.prototype.verifyIdToken = function verifyIdToken(oauthData, providerName) {\n      var idToken = oauthData && oauthData[this.config.responseIdTokenProp];\n      if (!idToken) return true;\n      var idTokenObject = this.auth.decomposeToken(idToken);\n      if (!idTokenObject) return true;\n      var nonceFromToken = idTokenObject.nonce;\n      if (!nonceFromToken) return true;\n      var nonceInStorage = this.storage.get(providerName + '_nonce');\n      if (nonceFromToken !== nonceInStorage) {\n        return false;\n      }\n      return true;\n    };\n\n    OAuth2.prototype.exchangeForToken = function exchangeForToken(oauthData, userData, current) {\n      var data = (0, _authUtilities.extend)({}, userData, {\n        code: oauthData.code,\n        clientId: current.clientId,\n        redirectUri: current.redirectUri\n      });\n\n      if (oauthData.state) {\n        data.state = oauthData.state;\n      }\n\n      (0, _authUtilities.forEach)(current.responseParams, function (param) {\n        return data[param] = oauthData[param];\n      });\n\n      var exchangeForTokenUrl = this.config.baseUrl ? (0, _authUtilities.joinUrl)(this.config.baseUrl, current.url) : current.url;\n      var credentials = this.config.withCredentials ? 'include' : 'same-origin';\n\n      return this.http.fetch(exchangeForTokenUrl, {\n        method: 'post',\n        body: (0, _aureliaFetchClient.json)(data),\n        credentials: credentials\n      }).then(_authUtilities.status);\n    };\n\n    OAuth2.prototype.buildQueryString = function buildQueryString(current) {\n      var _this2 = this;\n\n      var keyValuePairs = [];\n      var urlParams = ['defaultUrlParams', 'requiredUrlParams', 'optionalUrlParams'];\n\n      (0, _authUtilities.forEach)(urlParams, function (params) {\n        (0, _authUtilities.forEach)(current[params], function (paramName) {\n          var camelizedName = (0, _authUtilities.camelCase)(paramName);\n          var paramValue = (0, _authUtilities.isFunction)(current[paramName]) ? current[paramName]() : current[camelizedName];\n\n          if (paramName === 'state') {\n            var stateName = current.name + '_state';\n            paramValue = encodeURIComponent(_this2.storage.get(stateName));\n          }\n\n          if (paramName === 'nonce') {\n            var nonceName = current.name + '_nonce';\n            paramValue = encodeURIComponent(_this2.storage.get(nonceName));\n          }\n\n          if (paramName === 'scope' && Array.isArray(paramValue)) {\n            paramValue = paramValue.join(current.scopeDelimiter);\n\n            if (current.scopePrefix) {\n              paramValue = [current.scopePrefix, paramValue].join(current.scopeDelimiter);\n            }\n          }\n\n          keyValuePairs.push([paramName, paramValue]);\n        });\n      });\n\n      return keyValuePairs.map(function (pair) {\n        return pair.join('=');\n      }).join('&');\n    };\n\n    return OAuth2;\n  }()) || _class);\n});\r\ndefine('aurelia-auth/authorize-step',['exports', 'aurelia-dependency-injection', 'aurelia-router', './authentication'], function (exports, _aureliaDependencyInjection, _aureliaRouter, _authentication) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AuthorizeStep = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var AuthorizeStep = exports.AuthorizeStep = (_dec = (0, _aureliaDependencyInjection.inject)(_authentication.Authentication), _dec(_class = function () {\n    function AuthorizeStep(auth) {\n      _classCallCheck(this, AuthorizeStep);\n\n      this.auth = auth;\n    }\n\n    AuthorizeStep.prototype.run = function run(routingContext, next) {\n      var isLoggedIn = this.auth.isAuthenticated();\n      var loginRoute = this.auth.getLoginRoute();\n\n      if (routingContext.getAllInstructions().some(function (i) {\n        return i.config.auth;\n      })) {\n        if (!isLoggedIn) {\n          this.auth.setInitialUrl(window.location.href);\n          return next.cancel(new _aureliaRouter.Redirect(loginRoute));\n        }\n      } else if (isLoggedIn && routingContext.getAllInstructions().some(function (i) {\n        return i.fragment === loginRoute;\n      })) {\n        var loginRedirect = this.auth.getLoginRedirect();\n        return next.cancel(new _aureliaRouter.Redirect(loginRedirect));\n      }\n\n      return next();\n    };\n\n    return AuthorizeStep;\n  }()) || _class);\n});\r\ndefine('aurelia-auth/auth-fetch-config',['exports', 'aurelia-dependency-injection', 'aurelia-fetch-client', './authentication'], function (exports, _aureliaDependencyInjection, _aureliaFetchClient, _authentication) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.FetchConfig = undefined;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _dec, _class;\n\n  var FetchConfig = exports.FetchConfig = (_dec = (0, _aureliaDependencyInjection.inject)(_aureliaFetchClient.HttpClient, _authentication.Authentication), _dec(_class = function () {\n    function FetchConfig(httpClient, authService) {\n      _classCallCheck(this, FetchConfig);\n\n      this.httpClient = httpClient;\n      this.auth = authService;\n    }\n\n    FetchConfig.prototype.configure = function configure() {\n      var _this = this;\n\n      this.httpClient.configure(function (httpConfig) {\n        httpConfig.withDefaults({\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          }\n        }).withInterceptor(_this.auth.tokenInterceptor);\n      });\n    };\n\n    return FetchConfig;\n  }()) || _class);\n});\r\ndefine('aurelia-auth/auth-filter',[\"exports\"], function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var AuthFilterValueConverter = exports.AuthFilterValueConverter = function () {\n    function AuthFilterValueConverter() {\n      _classCallCheck(this, AuthFilterValueConverter);\n    }\n\n    AuthFilterValueConverter.prototype.toView = function toView(routes, isAuthenticated) {\n      return routes.filter(function (r) {\n        return r.config.auth === undefined || r.config.auth === isAuthenticated;\n      });\n    };\n\n    return AuthFilterValueConverter;\n  }();\n});\r\ndefine('text',{});\r\nfunction _aureliaConfigureModuleLoader(){requirejs.config({\"baseUrl\":\"src/\",\"paths\":{\"root\":\"src\",\"resources\":\"resources\",\"elements\":\"resources/elements\",\"attributes\":\"resources/attributes\",\"valueConverters\":\"resources/value-converters\",\"bindingBehaviors\":\"resources/binding-behaviors\",\"aurelia-binding\":\"..\\\\node_modules\\\\aurelia-binding\\\\dist\\\\amd\\\\aurelia-binding\",\"aurelia-bootstrapper\":\"..\\\\node_modules\\\\aurelia-bootstrapper\\\\dist\\\\amd\\\\aurelia-bootstrapper\",\"aurelia-dependency-injection\":\"..\\\\node_modules\\\\aurelia-dependency-injection\\\\dist\\\\amd\\\\aurelia-dependency-injection\",\"aurelia-event-aggregator\":\"..\\\\node_modules\\\\aurelia-event-aggregator\\\\dist\\\\amd\\\\aurelia-event-aggregator\",\"aurelia-framework\":\"..\\\\node_modules\\\\aurelia-framework\\\\dist\\\\amd\\\\aurelia-framework\",\"aurelia-history\":\"..\\\\node_modules\\\\aurelia-history\\\\dist\\\\amd\\\\aurelia-history\",\"aurelia-history-browser\":\"..\\\\node_modules\\\\aurelia-history-browser\\\\dist\\\\amd\\\\aurelia-history-browser\",\"aurelia-loader\":\"..\\\\node_modules\\\\aurelia-loader\\\\dist\\\\amd\\\\aurelia-loader\",\"aurelia-loader-default\":\"..\\\\node_modules\\\\aurelia-loader-default\\\\dist\\\\amd\\\\aurelia-loader-default\",\"aurelia-logging\":\"..\\\\node_modules\\\\aurelia-logging\\\\dist\\\\amd\\\\aurelia-logging\",\"aurelia-logging-console\":\"..\\\\node_modules\\\\aurelia-logging-console\\\\dist\\\\amd\\\\aurelia-logging-console\",\"aurelia-metadata\":\"..\\\\node_modules\\\\aurelia-metadata\\\\dist\\\\amd\\\\aurelia-metadata\",\"aurelia-pal\":\"..\\\\node_modules\\\\aurelia-pal\\\\dist\\\\amd\\\\aurelia-pal\",\"aurelia-pal-browser\":\"..\\\\node_modules\\\\aurelia-pal-browser\\\\dist\\\\amd\\\\aurelia-pal-browser\",\"aurelia-path\":\"..\\\\node_modules\\\\aurelia-path\\\\dist\\\\amd\\\\aurelia-path\",\"aurelia-polyfills\":\"..\\\\node_modules\\\\aurelia-polyfills\\\\dist\\\\amd\\\\aurelia-polyfills\",\"aurelia-route-recognizer\":\"..\\\\node_modules\\\\aurelia-route-recognizer\\\\dist\\\\amd\\\\aurelia-route-recognizer\",\"aurelia-router\":\"..\\\\node_modules\\\\aurelia-router\\\\dist\\\\amd\\\\aurelia-router\",\"aurelia-task-queue\":\"..\\\\node_modules\\\\aurelia-task-queue\\\\dist\\\\amd\\\\aurelia-task-queue\",\"aurelia-templating\":\"..\\\\node_modules\\\\aurelia-templating\\\\dist\\\\amd\\\\aurelia-templating\",\"aurelia-templating-binding\":\"..\\\\node_modules\\\\aurelia-templating-binding\\\\dist\\\\amd\\\\aurelia-templating-binding\",\"moment\":\"..\\\\node_modules\\\\moment\\\\moment\",\"text\":\"..\\\\node_modules\\\\text\\\\text\",\"app-bundle\":\"../scripts/app-bundle\"},\"packages\":[{\"name\":\"aurelia-templating-resources\",\"location\":\"../node_modules/aurelia-templating-resources/dist/amd\",\"main\":\"aurelia-templating-resources\"},{\"name\":\"aurelia-templating-router\",\"location\":\"../node_modules/aurelia-templating-router/dist/amd\",\"main\":\"aurelia-templating-router\"},{\"name\":\"aurelia-testing\",\"location\":\"../node_modules/aurelia-testing/dist/amd\",\"main\":\"aurelia-testing\"},{\"name\":\"aurelia-fetch-client\",\"location\":\"../node_modules/aurelia-fetch-client/dist/amd\",\"main\":\"aurelia-fetch-client\"},{\"name\":\"regenerator-runtime\",\"location\":\"../node_modules/regenerator-runtime\",\"main\":\"runtime-module\"},{\"name\":\"flatpickr\",\"location\":\"../node_modules/flatpickr/dist\",\"main\":\"flatpickr\"},{\"name\":\"aurelia-auth\",\"location\":\"../node_modules/aurelia-auth/dist/amd\",\"main\":\"aurelia-auth\"}],\"stubModules\":[\"text\"],\"shim\":{},\"bundles\":{\"app-bundle\":[\"app\",\"auth-config\",\"environment\",\"main\",\"modules/home\",\"modules/list\",\"resources/index\",\"resources/data/data-services\",\"resources/data/todos\",\"resources/data/users\",\"resources/elements/flatpickr\",\"resources/value-converters/completed\",\"resources/value-converters/date-format\",\"resources/css/styles\",\"modules/components/login\",\"modules/components/register\",\"modules/components/todoForm\",\"modules/components/todoList\"]}})}"],"sourceRoot":".."}